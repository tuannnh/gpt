(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[3446],{28136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CTR:()=>y,IGE:()=>m,default:()=>_});var s=new Uint8Array(256),a=new Uint8Array(256),i=new Uint32Array(256),o=new Uint32Array(256),r=new Uint32Array(256),c=new Uint32Array(256),d=new Uint32Array(256),u=new Uint32Array(256),l=new Uint32Array(256),p=new Uint32Array(256);function f(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(var t=e.length%4;t<=4;t++)e+="\0x00";var n=new Uint32Array(e.length/4);for(t=0;t<e.length;t+=4)n[t/4]=(a=t,(s=e).charCodeAt(a)<<24^s.charCodeAt(a+1)<<16^s.charCodeAt(a+2)<<8^s.charCodeAt(a+3));return n}var s,a;if(e instanceof Uint8Array){for(n=new Uint32Array(e.length/4),t=0;t<e.length;t+=4)n[t/4]=e[t]<<24^e[t+1]<<16^e[t+2]<<8^e[t+3];return n}throw new Error("Unable to create 32-bit words")}function g(e,t,n){void 0===n&&(n=e);for(var s=0;s<e.length;s++)n[s]=e[s]^t[s]}!function(){for(var e,t,n,f,g,h=new Uint8Array(256),m=new Uint8Array(256),y=0,_=0,b=0;b<256;b++)h[b]=b<<1^283*(b>>7),m[h[b]^b]=b;for(;!s[y];y^=e||1)n=(n=_^_<<1^_<<2^_<<3^_<<4)>>8^255&n^99,s[y]=n,a[n]=y,g=16843009*h[t=h[e=h[y]]]^65537*t^257*e^16843008*y,f=257*h[n]^16843008*n,i[y]=f=f<<24^f>>>8,o[y]=f=f<<24^f>>>8,r[y]=f=f<<24^f>>>8,c[y]=f=f<<24^f>>>8,d[n]=g=g<<24^g>>>8,u[n]=g=g<<24^g>>>8,l[n]=g=g<<24^g>>>8,p[n]=g=g<<24^g>>>8,_=m[_]||1}();var h=function(){function e(e){var t=f(e);if(4!==t.length&&6!==t.length&&8!==t.length)throw new Error("Invalid key size");this.encKey=new Uint32Array(4*t.length+28),this.decKey=new Uint32Array(4*t.length+28),this.encKey.set(t);for(var n,a=1,i=t.length;i<4*t.length+28;i++)n=this.encKey[i-1],(i%t.length==0||8===t.length&&i%t.length==4)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],i%t.length==0&&(n=n<<8^n>>>24^a<<24,a=a<<1^283*(a>>7))),this.encKey[i]=this.encKey[i-t.length]^n;for(var o=0;i;o++,i--)n=this.encKey[3&o?i:i-4],this.decKey[o]=i<=4||o<4?n:d[s[n>>>24]]^u[s[n>>16&255]]^l[s[n>>8&255]]^p[s[255&n]]}return e.prototype.encrypt=function(e){for(var t,n,a,d=f(e),u=new Uint32Array(4),l=d[0]^this.encKey[0],p=d[1]^this.encKey[1],g=d[2]^this.encKey[2],h=d[3]^this.encKey[3],m=this.encKey.length/4-2,y=4,_=0;_<m;_++)t=i[l>>>24]^o[p>>16&255]^r[g>>8&255]^c[255&h]^this.encKey[y],n=i[p>>>24]^o[g>>16&255]^r[h>>8&255]^c[255&l]^this.encKey[y+1],a=i[g>>>24]^o[h>>16&255]^r[l>>8&255]^c[255&p]^this.encKey[y+2],h=i[h>>>24]^o[l>>16&255]^r[p>>8&255]^c[255&g]^this.encKey[y+3],l=t,p=n,g=a,y+=4;for(_=0;_<4;_++)u[_]=s[l>>>24]<<24^s[p>>16&255]<<16^s[g>>8&255]<<8^s[255&h]^this.encKey[y++],t=l,l=p,p=g,g=h,h=t;return u},e.prototype.decrypt=function(e){for(var t,n,s,i=f(e),o=new Uint32Array(4),r=i[0]^this.decKey[0],c=i[3]^this.decKey[1],g=i[2]^this.decKey[2],h=i[1]^this.decKey[3],m=this.decKey.length/4-2,y=4,_=0;_<m;_++)t=d[r>>>24]^u[c>>16&255]^l[g>>8&255]^p[255&h]^this.decKey[y],n=d[c>>>24]^u[g>>16&255]^l[h>>8&255]^p[255&r]^this.decKey[y+1],s=d[g>>>24]^u[h>>16&255]^l[r>>8&255]^p[255&c]^this.decKey[y+2],h=d[h>>>24]^u[r>>16&255]^l[c>>8&255]^p[255&g]^this.decKey[y+3],r=t,c=n,g=s,y+=4;for(_=0;_<4;_++)o[3&-_]=a[r>>>24]<<24^a[c>>16&255]<<16^a[g>>8&255]<<8^a[255&h]^this.decKey[y++],t=r,r=c,c=g,g=h,h=t;return o},e}(),m=function(){function e(e,t,n){void 0===n&&(n=16),this.key=f(e),this.iv=f(t),this.cipher=new h(e),this.blockSize=n/4}return e.prototype.encrypt=function(e,t){for(var n=f(e),s=t||new Uint32Array(n.length),a=this.iv.subarray(this.blockSize,this.iv.length),i=this.iv.subarray(0,this.blockSize),o=new Uint32Array(this.blockSize),r=0;r<n.length;r+=this.blockSize){var c=n.subarray(r,r+this.blockSize);g(c,i,o);var d=this.cipher.encrypt(o);g(d,a),a=c,i=d;for(var u=r,l=0;u<n.length&&l<4;u++,l++)s[u]=d[l]}return s},e.prototype.decrypt=function(e,t){for(var n=f(e),s=t||new Uint32Array(n.length),a=this.iv.subarray(this.blockSize,this.iv.length),i=this.iv.subarray(0,this.blockSize),o=new Uint32Array(this.blockSize),r=0;r<s.length;r+=this.blockSize){var c=n.subarray(r,r+this.blockSize);g(c,a,o);var d=this.cipher.decrypt(o);g(d,i),i=c,a=d;for(var u=r,l=0;u<s.length&&l<4;u++,l++)s[u]=d[l]}return s},e}(),y=function(){function e(e,t,n){if(void 0===n&&(n=16),this.offset=0,this.key=f(e),this.counter=f(t),this.cipher=new h(e),this.blockSize=n/4,4!==this.counter.length)throw new Error("AES-CTR mode counter must be 16 bytes length")}return e.prototype.encrypt=function(e,t){for(var n=f(e),s=t||new Uint32Array(n.length),a=this.offset,i=0;i<n.length;i+=this.blockSize){for(var o=this.cipher.encrypt(this.counter),r=i,c=a;r<n.length&&c<this.blockSize;r++,c++)s[r]=o[c]^n[r];n.length-i>=this.blockSize&&this.incrementCounter(),a&&(i-=a,a=0)}return this.offset=(this.offset+n.length%4)%4,s},e.prototype.decrypt=function(e,t){return this.encrypt(e,t)},e.prototype.incrementCounter=function(){for(var e=this.counter.length-1;e>=0&&!(++this.counter[e]<4294967295);e--);},e}();const _=h},85078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(70655),a=n(2403),i=function(){function e(e){this._semaphore=new a.default(1,e)}return e.prototype.acquire=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();t.default=i},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(70655),a=n(21764),i=function(){function e(e,t){void 0===t&&(t=a.E_CANCELED),this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}return e.prototype.acquire=function(e){var t=this;if(void 0===e&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise((function(n,s){t._weightedQueues[e-1]||(t._weightedQueues[e-1]=[]),t._weightedQueues[e-1].push({resolve:n,reject:s}),t._dispatch()}))},e.prototype.runExclusive=function(e,t){return void 0===t&&(t=1),s.__awaiter(this,void 0,void 0,(function(){var n,a,i;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,this.acquire(t)];case 1:n=s.sent(),a=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(a)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},e.prototype.waitForUnlock=function(e){var t=this;if(void 0===e&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise((function(n){t._weightedWaiters[e-1]||(t._weightedWaiters[e-1]=[]),t._weightedWaiters[e-1].push(n),t._dispatch()}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(e){this._value=e,this._dispatch()},e.prototype.release=function(e){if(void 0===e&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatch()},e.prototype.cancel=function(){var e=this;this._weightedQueues.forEach((function(t){return t.forEach((function(t){return t.reject(e._cancelError)}))})),this._weightedQueues=[]},e.prototype._dispatch=function(){for(var e,t=this._value;t>0;t--){var n=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(n){var s=this._value,a=t;this._value-=t,t=this._value+1,n.resolve([s,this._newReleaser(a)])}}this._drainUnlockWaiters()},e.prototype._newReleaser=function(e){var t=this,n=!1;return function(){n||(n=!0,t.release(e))}},e.prototype._drainUnlockWaiters=function(){for(var e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach((function(e){return e()})),this._weightedWaiters[e-1]=[])},e}();t.default=i},21764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.E_CANCELED=t.E_ALREADY_LOCKED=t.E_TIMEOUT=void 0,t.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),t.E_ALREADY_LOCKED=new Error("mutex already locked"),t.E_CANCELED=new Error("request for lock canceled")},48125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var s=n(70655),a=n(85078);Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return a.default}});var i=n(2403);Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return i.default}});var o=n(41960);Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return o.withTimeout}});var r=n(73143);Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return r.tryAcquire}}),s.__exportStar(n(21764),t)},73143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=void 0;var s=n(21764),a=n(41960);t.tryAcquire=function(e,t){return void 0===t&&(t=s.E_ALREADY_LOCKED),(0,a.withTimeout)(e,0,t)}},41960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var s=n(70655),a=n(21764);t.withTimeout=function(e,t,n){var i=this;return void 0===n&&(n=a.E_TIMEOUT),{acquire:function(a){if(void 0!==a&&a<=0)throw new Error("invalid weight ".concat(a,": must be positive"));return new Promise((function(o,r){return s.__awaiter(i,void 0,void 0,(function(){var i,c,d,u;return s.__generator(this,(function(s){switch(s.label){case 0:i=!1,c=setTimeout((function(){i=!0,r(n)}),t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.acquire(a)];case 2:return d=s.sent(),i?(Array.isArray(d)?d[1]:d)():(clearTimeout(c),o(d)),[3,4];case 3:return u=s.sent(),i||(clearTimeout(c),r(u)),[3,4];case 4:return[2]}}))}))}))},runExclusive:function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,a;return s.__generator(this,(function(s){switch(s.label){case 0:n=function(){},s.label=1;case 1:return s.trys.push([1,,7,8]),[4,this.acquire(t)];case 2:return a=s.sent(),Array.isArray(a)?(n=a[1],[4,e(a[0])]):[3,4];case 3:return[2,s.sent()];case 4:return n=a,[4,e()];case 5:return[2,s.sent()];case 6:return[3,8];case 7:return n(),[7];case 8:return[2]}}))}))},release:function(t){e.release(t)},cancel:function(){return e.cancel()},waitForUnlock:function(s){if(void 0!==s&&s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise((function(a,i){e.waitForUnlock(s).then(a),setTimeout((function(){return i(n)}),t)}))},isLocked:function(){return e.isLocked()},getValue:function(){return e.getValue()},setValue:function(t){return e.setValue(t)}}}},15688:(e,t,n)=>{"use strict";var s={};n.r(s),n.d(s,{Type:()=>ss,clear:()=>rs,fetch:()=>as,isCacheApiSupported:()=>ns,remove:()=>os,save:()=>is});var a={};n.r(a),n.d(a,{acceptBotUrlAuth:()=>yr,acceptCall:()=>Or,acceptLinkUrlAuth:()=>br,acceptPhoneCall:()=>Ed,addChatMembers:()=>_a,answerCallbackButton:()=>tr,blockContact:()=>bc,broadcastLocalDbUpdateFull:()=>D,changeSessionSettings:()=>sc,changeSessionTtl:()=>ac,checkChatUsername:()=>Uo,checkChatlistInvite:()=>xa,checkPassword:()=>Jo,checkUsername:()=>uc,clearDraft:()=>Fs,clearPassword:()=>Qo,clearRecentReactions:()=>ad,clearRecentStickers:()=>lo,closePoll:()=>yi,confirmCall:()=>Lr,confirmPhoneCall:()=>kd,createChalistInvite:()=>qa,createChannel:()=>Ls,createGroupCall:()=>Ur,createGroupChat:()=>zs,createPhoneCallState:()=>Id,createTopic:()=>Ea,decodePhoneCallData:()=>Md,deleteChannel:()=>Ws,deleteChat:()=>js,deleteChatFolder:()=>ea,deleteChatMember:()=>ba,deleteChatUser:()=>Gs,deleteChatlistInvite:()=>Oa,deleteContact:()=>Zi,deleteExportedChatInvite:()=>No,deleteHistory:()=>oi,deleteMessages:()=>ai,deleteProfilePhotos:()=>hc,deleteRevokedExportedChatInvites:()=>Fo,deleteScheduledMessages:()=>ii,deleteTopic:()=>Ta,destroy:()=>bs,destroyPhoneCallState:()=>Pd,discardCall:()=>Vr,discardGroupCall:()=>Ir,disconnect:()=>ws,downloadMedia:()=>Ps,editChatFolder:()=>Ys,editChatPhoto:()=>$s,editChatlistInvite:()=>La,editExportedChatInvite:()=>xo,editGroupCallParticipant:()=>Pr,editGroupCallTitle:()=>Cr,editMessage:()=>Ya,editTopic:()=>Da,encodePhoneCallData:()=>Cd,exportChatInvite:()=>Vo,exportGroupCallInvite:()=>Mr,faveSticker:()=>co,fetchAnimatedEmojiEffects:()=>ho,fetchAnimatedEmojis:()=>go,fetchAppConfig:()=>Lc,fetchAuthorizations:()=>vc,fetchBlockedContacts:()=>_c,fetchBotApp:()=>dr,fetchChannelStatistics:()=>cd,fetchChat:()=>xs,fetchChatFolders:()=>Zs,fetchChatInviteImporters:()=>qo,fetchChatSettings:()=>Bs,fetchChatlistInvites:()=>Ha,fetchChats:()=>Us,fetchCommonChats:()=>ji,fetchConfig:()=>Hc,fetchContactList:()=>zi,fetchContentSettings:()=>qc,fetchCountryList:()=>jc,fetchCurrentUser:()=>ks,fetchCustomEmoji:()=>fo,fetchCustomEmojiSets:()=>no,fetchDefaultStatusEmojis:()=>bo,fetchDefaultTopicIcons:()=>_o,fetchEmojiKeywords:()=>Mo,fetchExportedChatInvites:()=>Do,fetchExtendedMedia:()=>bi,fetchFavoriteStickers:()=>io,fetchFeaturedEmojiStickers:()=>ro,fetchFeaturedStickers:()=>oo,fetchFullChat:()=>Ts,fetchFullUser:()=>Gi,fetchGenericEmojiEffects:()=>mo,fetchGlobalPrivacySettings:()=>Kc,fetchGroupCallParticipants:()=>kr,fetchGroupStatistics:()=>dd,fetchGroupsForDiscussion:()=>ga,fetchInlineBot:()=>sr,fetchInlineBotResults:()=>ar,fetchLangPack:()=>Tc,fetchLangStrings:()=>Bc,fetchLanguages:()=>Uc,fetchLeaveChatlistSuggestions:()=>Na,fetchMembers:()=>fa,fetchMessage:()=>$a,fetchMessagePublicForwards:()=>ld,fetchMessageReactions:()=>Yc,fetchMessageReactionsList:()=>ed,fetchMessageStatistics:()=>ud,fetchMessageViews:()=>li,fetchMessages:()=>za,fetchNearestCountry:()=>Ki,fetchNotificationExceptions:()=>Mc,fetchNotificationSettings:()=>kc,fetchPinnedMessages:()=>Pi,fetchPremiumGifts:()=>yo,fetchPremiumPromo:()=>Yr,fetchPrivacySettings:()=>Dc,fetchProfilePhotos:()=>Xi,fetchRecentEmojiStatuses:()=>ko,fetchRecentReactions:()=>sd,fetchRecentStickers:()=>ao,fetchRecommendedChatFolders:()=>Xs,fetchSavedGifs:()=>vo,fetchScheduledHistory:()=>Ai,fetchSeenBy:()=>Ci,fetchSendAs:()=>Mi,fetchSponsoredMessages:()=>Ei,fetchStatisticsAsyncGraph:()=>pd,fetchStickerSets:()=>so,fetchStickers:()=>po,fetchStickersForEmoji:()=>Co,fetchTemporaryPaymentPassword:()=>ec,fetchTopInlineBots:()=>nr,fetchTopReactions:()=>nd,fetchTopUsers:()=>Wi,fetchTopicById:()=>Ua,fetchTopics:()=>Ra,fetchUnreadMentions:()=>Bi,fetchUnreadReactions:()=>Di,fetchUsers:()=>$i,fetchWallpapers:()=>mc,fetchWebAuthorizations:()=>Ic,fetchWebPagePreview:()=>hi,findFirstMessageIdAfterDate:()=>vi,forwardMessages:()=>wi,getAvailableReactions:()=>Zc,getChatByPhoneNumber:()=>sa,getChatByUsername:()=>aa,getDhConfig:()=>xr,getGroupCall:()=>Sr,getPasswordInfo:()=>zo,getPaymentForm:()=>Zr,getReceipt:()=>Xr,hideAllChatJoinRequests:()=>Lo,hideChatJoinRequest:()=>Oo,hideChatReportPanel:()=>Ho,importChatInvite:()=>Ia,importContact:()=>Ji,installStickerSet:()=>So,joinChannel:()=>Hs,joinChatlistInvite:()=>Va,joinGroupCall:()=>Rr,joinGroupCallPresentation:()=>Tr,leaveChannel:()=>Ks,leaveChatlist:()=>Fa,leaveGroupCall:()=>Er,leaveGroupCallPresentation:()=>Dr,loadAttachBot:()=>gr,loadAttachBots:()=>fr,loadPollOptionResults:()=>_i,markMessageListRead:()=>di,markMessagesRead:()=>ui,migrateChat:()=>ma,openChatByInvite:()=>ya,pinMessage:()=>ni,prolongWebView:()=>lr,provideAuthCode:()=>Wn,provideAuthPassword:()=>zn,provideAuthPhoneNumber:()=>Kn,provideAuthRegistration:()=>$n,provideRecoveryEmailCode:()=>Yo,readAllMentions:()=>Ui,readAllReactions:()=>Ti,receivedCall:()=>qr,registerDevice:()=>xc,removeRecentSticker:()=>uo,reorderUsernames:()=>$c,repairFileReference:()=>Rs,reportMessages:()=>ri,reportPeer:()=>tc,reportProfilePhoto:()=>nc,reportSpam:()=>Yi,requestAppWebView:()=>ur,requestBotUrlAuth:()=>mr,requestCall:()=>Nr,requestChatUpdate:()=>Vs,requestLinkUrlAuth:()=>_r,requestPhoneCall:()=>Rd,requestSimpleWebView:()=>cr,requestThreadInfoUpdate:()=>pi,requestWebView:()=>rr,rescheduleMessage:()=>ei,restartAuth:()=>Jn,restartAuthWithQr:()=>Qn,saveDefaultSendAs:()=>ki,saveDraft:()=>Ns,saveGif:()=>Ao,searchChats:()=>Ds,searchGifs:()=>Po,searchMessagesGlobal:()=>gi,searchMessagesLocal:()=>fi,searchStickers:()=>wo,sendEmojiInteraction:()=>Qc,sendInlineBotResult:()=>ir,sendMessage:()=>Za,sendMessageAction:()=>ci,sendPaymentForm:()=>Qr,sendPollVote:()=>mi,sendReaction:()=>Xc,sendScheduledMessages:()=>Si,sendSignalingData:()=>Hr,sendWatchingEmojiInteraction:()=>Jc,sendWebViewData:()=>pr,setCallRating:()=>Fr,setChatEnabledReactions:()=>Pa,setChatUsername:()=>To,setDefaultReaction:()=>td,setDiscussionGroup:()=>ha,setPrivacySettings:()=>Nc,sortChatFolders:()=>ta,startBot:()=>or,terminateAllAuthorizations:()=>Sc,terminateAllWebAuthorizations:()=>Cc,terminateAuthorization:()=>Ac,terminateWebAuthorization:()=>Pc,toggleAttachBot:()=>hr,toggleChatArchived:()=>Qs,toggleChatPinned:()=>Js,toggleDialogUnread:()=>na,toggleForum:()=>ka,toggleGroupCallStartSubscription:()=>Br,toggleIsProtected:()=>Ca,toggleJoinRequest:()=>va,toggleJoinToSend:()=>wa,toggleParticipantsHidden:()=>Ma,togglePinnedTopic:()=>Ba,togglePreHistoryHidden:()=>oa,toggleSignatures:()=>pa,toggleUsername:()=>zc,transcribeAudio:()=>xi,translateText:()=>Vi,unblockContact:()=>wc,uninstallStickerSet:()=>Io,unpinAllMessages:()=>si,unregisterDevice:()=>Vc,updateChatAbout:()=>la,updateChatAdmin:()=>da,updateChatDefaultBannedRights:()=>ra,updateChatMemberBannedRights:()=>ca,updateChatMutedState:()=>qs,updateChatTitle:()=>ua,updateContact:()=>Qi,updateContactSignUpNotification:()=>Ec,updateContentSettings:()=>Oc,updateEmojiStatus:()=>eo,updateGlobalPrivacySettings:()=>Wc,updateIsOnline:()=>Fc,updateNotificationSettings:()=>Rc,updatePassword:()=>Zo,updatePrivateLink:()=>Bo,updateProfile:()=>dc,updateProfilePhoto:()=>pc,updateRecoveryEmail:()=>Xo,updateTopicMutedState:()=>Os,updateUsername:()=>lc,uploadContactProfilePhoto:()=>gc,uploadProfilePhoto:()=>fc,uploadWallpaper:()=>yc,validateRequestedInfo:()=>Jr,viewSponsoredMessage:()=>Ri});const i=("undefined"!=typeof window&&window.innerHeight,20),o=2**31-1,r=Math.round(450),c=new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory"]),d="video/quicktime",u="image/gif",l=new Set(["image/png","image/jpeg",u]),p=new Set(["video/mp4"]),f=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),g=(new Set([...l,...p]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"]),"weba"),h=(new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),"777000"),m="gif",y={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,2048],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20]};function _(e,t){let n,s,a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){s=!0;for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];a=r,n||(i&&(s=!1,e(...a)),n=self.setInterval((()=>{if(!s)return self.clearInterval(n),void(n=void 0);s=!1,e(...a)}),t))}}let b;var w=n(24736),v=n.n(w);function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";const s=t?"":`data:${n};base64,`;return`${s}${btoa(String.fromCharCode(...e))}`}function S(e){const{flags:t,CONSTRUCTOR_ID:n,SUBCLASS_OF_ID:s,className:a,classType:i,getBytes:o,...r}=e;return r}var I=n(57404),P=n(48764).lW;const C="BroadcastChannel"in self,M=C?new BroadcastChannel("tt-global"):void 0;let k=[];const E=_((()=>{M.postMessage({type:"localDbUpdate",batchedUpdates:k}),k=[]}),100);function R(e){if(e instanceof Uint8Array)return P.from(e);if("object"==typeof e&&1===Object.keys(e).length&&"value"===Object.keys(e)[0])return v()(e.value);if(Array.isArray(e))return e.map(R);if("object"!=typeof e||!("CONSTRUCTOR_ID"in e))return e;const t=e.className.split(".").reduce(((e,t)=>e[t]),I.constructors),n=S(e);return new t(Object.keys(n).reduce(((e,t)=>(e[t]=R(n[t]),e)),{}))}function U(e){return["localMessages","chats","users","messages","documents","stickerSets","photos","webDocuments"].reduce(((t,n)=>{var s;const a=null!==(s=e?.[n])&&void 0!==s?s:{},i=Object.keys(a).reduce(((e,t)=>(e[t]=R(a[t]),e)),{});var o;return t[n]=C?(o=n,new Proxy(i,{get:(e,t,n)=>Reflect.get(e,t,n),set:(e,t,n)=>(k.push({name:o,prop:t,value:n}),E(),Reflect.set(e,t,n))})):i,t}),{})}const T=U(),B=T;function D(){M&&M.postMessage({type:"localDbUpdateFull",localDb:Object.keys(T).reduce(((e,t)=>(e[t]={...T[t]},e)),{})})}function x(){Object.assign(T,U())}var V=n(13522);function N(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function F(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function q(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function O(e){return e.filter(Boolean)}var L=n(82267),H=n(6137),G=n(48960);const j={w:100,h:100};function K(e,t){if(!e||!e.length)return;const n=e.find((e=>e instanceof V.Api.PhotoStrippedSize));if(!n)return;const s=e.filter((e=>e instanceof V.Api.PhotoSize)),{w:a,h:i}=s.length?s[s.length-1]:j,{bytes:o}=n;return{dataUri:A(t&&"image/jpeg"!==t?o:(0,G.strippedPhotoToJpg)(o),void 0,t),width:a,height:i}}function W(e,t){const{w:n,h:s}=t;return{dataUri:`data:image/svg+xml;utf8,${a=e.bytes,i=n,o=s,'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 {{width}} {{height}}" xml:space="preserve"><path fill-opacity="0.1" d="{{path}}" /></svg>'.replace("{{path}}",function(e){let t="M";const n=e.length;for(let s=0;s<n;s++){const n=e[s];n>=192?t+="AACAAAAHAAALMAAAQASTAVAAAZaacaaaahaaalmaaaqastava.az0123456789-,"[n-128-64]:(n>=128?t+=",":n>=64&&(t+="-"),t+=String(63&n))}return t+="z",t}(a)).replace("{{width}}",String(i)).replace("{{height}}",String(o))}`,width:n,height:s};var a,i,o}function z(e,t){const n=e.sizes.filter((e=>e instanceof V.Api.PhotoSize||e instanceof V.Api.PhotoSizeProgressive)).map(J);return{id:String(e.id),thumbnail:K(e.sizes),sizes:n,isSpoiler:t,...e.videoSizes&&{videoSizes:O(e.videoSizes.map($)),isVideo:!0}}}function $(e){if(!(e instanceof V.Api.VideoSize))return;const{videoStartTs:t,size:n,h:s,w:a,type:i}=e;return{videoStartTs:t,size:n,height:s,width:a,type:i}}function J(e){const{w:t,h:n,type:s}=e;return{width:t,height:n,type:s}}function Q(e){if(!(e.usernames||"username"in e&&e.username))return;const t=[];return"username"in e&&e.username&&t.push({username:e.username,isActive:!0,isEditable:!0}),e.usernames&&e.usernames.forEach((e=>{let{username:n,active:s,editable:a}=e;t.push({username:n,...s&&{isActive:!0},...a&&{isEditable:!0}})})),t}const Z="application/x-tgsticker",X="video/webm";function Y(e,t){var n;if(e instanceof V.Api.DocumentEmpty)return;const{mimeType:s,videoThumbs:a}=e,i=e.attributes.find((e=>e instanceof V.Api.DocumentAttributeSticker)),o=e.attributes.find((e=>e instanceof V.Api.DocumentAttributeCustomEmoji)),r=(s===Z||s===X)&&e.attributes.find((e=>e instanceof V.Api.DocumentAttributeFilename));if(!i&&!o&&!r)return;const c=s===Z,d=s===X,u=Boolean(o),l=u&&o.textColor,p=e.attributes.find((e=>e instanceof V.Api.DocumentAttributeImageSize)),f=e.attributes.find((e=>e instanceof V.Api.DocumentAttributeVideo)),g=p||f,h=i||o,m=(w=h?.stickerset,w instanceof V.Api.InputStickerSetID?{id:String(w.id),accessHash:String(w.accessHash)}:w instanceof V.Api.InputStickerSetShortName?{shortName:w.shortName}:{isMissing:!0}),y=h?.alt,_=Boolean(null===(n=o?.free)||void 0===n||n),b=e.thumbs&&e.thumbs.find((e=>e instanceof V.Api.PhotoCachedSize));var w;if(!(s!==X||self.isWebmSupported||b||e.thumbs&&e.thumbs.find((e=>e instanceof V.Api.PhotoSize))))return;const v=e.thumbs&&e.thumbs.find((e=>e instanceof V.Api.PhotoPathSize)),S=b?function(e){const{w:t,h:n,bytes:s}=e;return{dataUri:A(s,void 0,"image/webp"),width:t,height:n}}(b):v&&g?W(v,g):void 0,{w:I,h:P}=b||g||{},C=!t&&a&&O(a?.filter((e=>e instanceof V.Api.VideoSize))).some((e=>{let{type:t}=e;return"f"===t}));return{id:String(e.id),stickerSetInfo:m,emoji:y,isCustomEmoji:u,isLottie:c,isVideo:d,width:I,height:P,thumbnail:S,hasEffect:C,isFree:_,shouldUseTextColor:l}}function ee(e){const{archived:t,animated:n,installedDate:s,videos:a,id:i,accessHash:o,title:r,thumbs:c,count:d,shortName:u,emojis:l,thumbDocumentId:p}=e;return{isArchived:t,isLottie:n,isVideos:a,isEmoji:l,installedDate:s,id:String(i),accessHash:String(o),title:r,hasThumbnail:Boolean(c?.length||p),thumbCustomEmojiId:p?.toString(),count:d,shortName:u}}function te(e){const t=ee(e.set);if(e instanceof V.Api.StickerSetNoCovered)return t;const n=se(e instanceof V.Api.StickerSetCovered?[e.cover]:e instanceof V.Api.StickerSetMultiCovered?e.covers:e.documents);return e instanceof V.Api.StickerSetFullCovered?{...t,stickers:n,packs:ne(e.packs)}:{...t,covers:n}}function ne(e){return e.reduce(((e,t)=>{let{emoticon:n,documents:s}=t;return e[n]=s.map((e=>Y(B.documents[String(e)]))).filter(Boolean),e}),{})}function se(e){return e.map((e=>{if(e instanceof V.Api.Document){const t=Y(e);if(t)return B.documents[String(e.id)]=e,t}})).filter(Boolean)}function ae(e,t){let n=0;const s=new Array(t),a=e.length/t,i=e[0],o=e[e.length-1];for(let u=0;u<t;u++){var r,c,d;const t=Math.floor(u*a),l=((null!==(r=e[t-1])&&void 0!==r?r:i)+(null!==(c=e[t])&&void 0!==c?c:i)+(null!==(d=e[t+1])&&void 0!==d?d:o))/3;s[u]=l,n<l&&(n=l)}return{data:s,peak:n}}var ie=n(89618),oe=n.n(ie);function re(e){return e.hasOwnProperty("userId")}function ce(e){return e.hasOwnProperty("chatId")}function de(e,t){return"user"===t?String(e):`-${e}`}function ue(e){return re(e)?de(e.userId,"user"):ce(e)?de(e.chatId,"chat"):de(e.channelId,"channel")}var le=n(48764).lW;function pe(e){if(e instanceof V.Api.Message||e instanceof V.Api.MessageService)return ue(e.peerId)}function fe(e){return e instanceof V.Api.DialogFilter||e instanceof V.Api.DialogFilterChatlist}function ge(e){const t=`${pe(e)}-${e.id}`;let n=e;e instanceof V.Api.Message&&e.media instanceof V.Api.MessageMediaInvoice&&e.media.extendedMedia instanceof V.Api.MessageExtendedMedia&&(n=new V.Api.Message({...e,media:e.media.extendedMedia.media})),B.messages[t]=n,n instanceof V.Api.Message&&(n.media instanceof V.Api.MessageMediaDocument&&n.media.document instanceof V.Api.Document&&(B.documents[String(n.media.document.id)]=n.media.document),n.media instanceof V.Api.MessageMediaWebPage&&n.media.webpage instanceof V.Api.WebPage&&n.media.webpage.document instanceof V.Api.Document&&(B.documents[String(n.media.webpage.document.id)]=n.media.webpage.document),n.media instanceof V.Api.MessageMediaGame&&(n.media.game.document instanceof V.Api.Document&&(B.documents[String(n.media.game.document.id)]=n.media.game.document),he(n.media.game.photo)),n.media instanceof V.Api.MessageMediaInvoice&&n.media.photo&&(B.webDocuments[String(n.media.photo.url)]=n.media.photo)),n instanceof V.Api.MessageService&&"photo"in n.action&&he(n.action.photo)}function he(e){e instanceof V.Api.Photo&&(B.photos[String(e.id)]=e)}function me(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=de(e.id,"user");!t&&B.users[n]||(B.users[n]=e)}function ye(e){e.forEach((e=>{e instanceof V.Api.User&&e.photo?me(e):(e instanceof V.Api.Chat||e instanceof V.Api.Channel)&&e.photo&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=de(e.id,e instanceof V.Api.Chat?"chat":"channel");t&&B.chats[n]||(B.chats[n]=e)}(e)}))}function _e(e){return String.fromCharCode(...e)}function be(e){return le.from(e,"binary")}function we(e){return"number"==typeof e?function(e){return e>0?"user":e<=-1e9?"channel":"chat"}(e):e.startsWith("-")?e.length>=11?"channel":"chat":"user"}function ve(e){const t=we(e);return"user"===t?new V.Api.PeerUser({userId:He(e,"user")}):"channel"===t?new V.Api.PeerChannel({channelId:He(e,"channel")}):new V.Api.PeerChat({chatId:He(e,"chat")})}function Ae(e,t){const n=we(e);return"user"===n?new V.Api.InputPeerUser({userId:He(e,"user"),accessHash:v()(t)}):"channel"===n?new V.Api.InputPeerChannel({channelId:He(e,"channel"),accessHash:v()(t)}):new V.Api.InputPeerChat({chatId:He(e,"chat")})}function Se(e){const t=we(e);let n;if("user"===t){if(n=B.users[e]?.accessHash,!n)return}else if("channel"===t&&(n=B.chats[e]?.accessHash,!n))return;return Ae(e,String(n))}function Ie(e,t){const n=we(e);return"user"===n?new V.Api.InputUser({userId:He(e,"user"),accessHash:v()(t)}):"channel"===n?new V.Api.InputChannel({channelId:He(e,"channel"),accessHash:v()(t)}):He(e,"chat")}function Pe(e,t){return new V.Api.InputStickerSetID({id:v()(e),accessHash:v()(t)})}function Ce(e){const t=B.documents[e.id];if(t)return new V.Api.InputDocument(F(t,["id","accessHash","fileReference"]))}function Me(e){const t=Ce(e);if(t)return new V.Api.InputMediaDocument({id:t})}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new V.Api.InputMediaPoll({poll:new V.Api.Poll({id:v()(e.id),publicVoters:e.summary.isPublic,question:e.summary.question,answers:e.summary.answers.map((e=>{let{text:t,option:n}=e;return new V.Api.PollAnswer({text:t,option:be(n)})})),quiz:e.summary.quiz,multipleChoice:e.summary.multipleChoice,closeDate:e.summary.closeDate,closePeriod:e.summary.closePeriod,closed:!!t||e.summary.closed}),correctAnswers:e.results.results?.filter((e=>e.isCorrect)).map((e=>be(e.option))),solution:e.results.solution,solutionEntities:e.results.solutionEntities?.map(Te)})}function Ee(){return(0,ie.readBigIntFromBuffer)((0,ie.generateRandomBytes)(8),!0,!0)}function Re(){return(0,ie.readBigIntFromBuffer)((0,ie.generateRandomBytes)(4),!0,!0).toJSNumber()}function Ue(e,t,n){return new V.Api.Message({id:e,peerId:ve(t),fromId:ve(t),media:n.media})}function Te(e){const{type:t,offset:n,length:s}=e,a="userId"in e?B.users[e.userId]:void 0;switch(t){case H.Vv.Bold:return new V.Api.MessageEntityBold({offset:n,length:s});case H.Vv.Italic:return new V.Api.MessageEntityItalic({offset:n,length:s});case H.Vv.Underline:return new V.Api.MessageEntityUnderline({offset:n,length:s});case H.Vv.Strike:return new V.Api.MessageEntityStrike({offset:n,length:s});case H.Vv.Code:return new V.Api.MessageEntityCode({offset:n,length:s});case H.Vv.Pre:return new V.Api.MessageEntityPre({offset:n,length:s,language:e.language||""});case H.Vv.Blockquote:return new V.Api.MessageEntityBlockquote({offset:n,length:s});case H.Vv.TextUrl:return new V.Api.MessageEntityTextUrl({offset:n,length:s,url:e.url});case H.Vv.Url:return new V.Api.MessageEntityUrl({offset:n,length:s});case H.Vv.Hashtag:return new V.Api.MessageEntityHashtag({offset:n,length:s});case H.Vv.MentionName:return new V.Api.InputMessageEntityMentionName({offset:n,length:s,userId:new V.Api.InputUser({userId:v()(a.id),accessHash:a.accessHash})});case H.Vv.Spoiler:return new V.Api.MessageEntitySpoiler({offset:n,length:s});case H.Vv.CustomEmoji:return new V.Api.MessageEntityCustomEmoji({offset:n,length:s,documentId:v()(e.documentId)});default:return new V.Api.MessageEntityUnknown({offset:n,length:s})}}function Be(e){const{media:t}=e;return!!t&&(t instanceof V.Api.MessageMediaPhoto||t instanceof V.Api.MessageMediaDocument||t instanceof V.Api.MessageMediaWebPage&&t.webpage instanceof V.Api.WebPage&&(t.webpage.photo instanceof V.Api.Photo||t.webpage.document instanceof V.Api.Document&&t.webpage.document.mimeType.startsWith("video"))||t instanceof V.Api.MessageMediaGame&&(t.game.document instanceof V.Api.Document||t.game.photo instanceof V.Api.Photo)||t instanceof V.Api.MessageMediaInvoice&&(t.photo||t.extendedMedia))}function De(e){const t=B.photos[e?.id];if(t)return new V.Api.InputPhoto(F(t,["id","accessHash","fileReference"]))}function xe(e){let{phone:t,firstName:n,lastName:s}=e;return new V.Api.InputPhoneContact({clientId:v()(1),phone:t,firstName:n,lastName:s})}function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new V.Api.ChatBannedRights({...e,untilDate:t})}function Ne(e){return new V.Api.ChatAdminRights(e)}function Fe(e){const{shippingAddress:t}=e;return new V.Api.PaymentRequestedInfo({...e,shippingAddress:t?new V.Api.PostAddress(t):void 0})}function qe(e){switch(e){case"phoneNumber":return new V.Api.InputPrivacyKeyPhoneNumber;case"lastSeen":return new V.Api.InputPrivacyKeyStatusTimestamp;case"profilePhoto":return new V.Api.InputPrivacyKeyProfilePhoto;case"forwards":return new V.Api.InputPrivacyKeyForwards;case"chatInvite":return new V.Api.InputPrivacyKeyChatInvite;case"phoneCall":return new V.Api.InputPrivacyKeyPhoneCall;case"phoneP2P":return new V.Api.InputPrivacyKeyPhoneP2P;case"voiceMessages":return new V.Api.InputPrivacyKeyVoiceMessages}}function Oe(e){switch(e){case"spam":return new V.Api.InputReportReasonSpam;case"violence":return new V.Api.InputReportReasonViolence;case"childAbuse":return new V.Api.InputReportReasonChildAbuse;case"pornography":return new V.Api.InputReportReasonPornography;case"copyright":return new V.Api.InputReportReasonCopyright;case"fake":return new V.Api.InputReportReasonFake;case"geoIrrelevant":return new V.Api.InputReportReasonGeoIrrelevant;case"illegalDrugs":return new V.Api.InputReportReasonIllegalDrugs;case"personalDetails":return new V.Api.InputReportReasonPersonalDetails;case"other":return new V.Api.InputReportReasonOther}}function Le(e){return new V.Api.DataJSON({data:JSON.stringify(e)})}function He(e,t){return"number"==typeof e?v()(Math.abs(e)):"user"===t?v()(e):v()(e.slice(1))}function Ge(e){return new V.Api.InputGroupCall({id:v()(e.id),accessHash:v()(e.accessHash)})}function je(e){let{id:t,accessHash:n}=e;return new V.Api.InputPhoneCall({id:v()(t),accessHash:v()(n)})}function Ke(e){return"slug"in e?new V.Api.InputInvoiceSlug({slug:e.slug}):new V.Api.InputInvoiceMessage({peer:Ae(e.chat.id,e.chat.accessHash),msgId:e.messageId})}function We(e){return e&&"emoticon"in e?new V.Api.ReactionEmoji({emoticon:e.emoticon}):e&&"documentId"in e?new V.Api.ReactionCustomEmoji({documentId:v()(e.documentId)}):new V.Api.ReactionEmpty}function ze(e,t){return"status-default-icon"===e.id?new V.Api.EmojiStatusEmpty:t?new V.Api.EmojiStatusUntil({documentId:v()(e.id),until:t}):new V.Api.EmojiStatus({documentId:v()(e.id)})}function $e(e){return new V.Api.TextWithEntities({text:e.text,entities:e.entities?.map(Te)||[]})}function Je(e){return new V.Api.InputBotAppID({id:v()(e.id),accessHash:v()(e.accessHash)})}function Qe(e){const{self:t,min:n,about:s,date:a,versioned:i,canSelfUnmute:o,justJoined:r,left:c,muted:d,mutedByYou:u,source:l,volume:p,volumeByAdmin:f,videoJoined:g,peer:h,video:m,presentation:y,raiseHandRating:_}=e;return{isSelf:t,isMin:n,canSelfUnmute:o,isLeft:c,isMuted:d,isMutedByMe:u,hasJustJoined:r,isVolumeByAdmin:f,isVersioned:i,isVideoJoined:g,about:s,source:l,raiseHandRating:_?.toString(),volume:p,date:new Date(a),isUser:re(h),id:ue(h),video:m?Ze(m):void 0,presentation:y?Ze(y):void 0}}function Ze(e){const{audioSource:t,endpoint:n,paused:s,sourceGroups:a}=e;return{audioSource:t,endpoint:n,isPaused:s,sourceGroups:a.map(Xe)}}function Xe(e){return{semantics:e.semantics,sources:e.sources}}function Ye(e){const{id:t,accessHash:n}=e;if(e instanceof V.Api.GroupCallDiscarded)return{connectionState:"discarded",id:t.toString(),accessHash:n.toString(),participantsCount:0,version:0,participants:{}};const{version:s,participantsCount:a,streamDcId:i,scheduleDate:o,canChangeJoinMuted:r,joinMuted:c,canStartVideo:d,scheduleStartSubscribed:u}=e;return{connectionState:"disconnected",isLoaded:!0,id:t.toString(),accessHash:n.toString(),version:s,participantsCount:a,streamDcId:i,scheduleDate:o,canChangeJoinMuted:r,joinMuted:c,canStartVideo:d,scheduleStartSubscribed:u,participants:{}}}function et(e){const{id:t}=e;let n={id:t.toString()};if(e instanceof V.Api.PhoneCallAccepted||e instanceof V.Api.PhoneCallWaiting||e instanceof V.Api.PhoneCall||e instanceof V.Api.PhoneCallRequested){const{accessHash:t,adminId:s,date:a,video:i,participantId:o,protocol:r}=e;n={...n,accessHash:t.toString(),adminId:s.toString(),participantId:o.toString(),date:a,isVideo:i,protocol:st(r)}}if(e instanceof V.Api.PhoneCall){const{p2pAllowed:t,gAOrB:s,keyFingerprint:a,connections:i,startDate:o}=e;n={...n,state:"active",gAOrB:Array.from(s),keyFingerprint:a.toString(),startDate:o,p2pAllowed:t,connections:i.map(nt).filter(Boolean)}}return e instanceof V.Api.PhoneCallDiscarded&&(n={...n,state:"discarded",duration:e.duration,reason:tt(e.reason),needRating:e.needRating,needDebug:e.needDebug}),e instanceof V.Api.PhoneCallWaiting&&(n={...n,state:"waiting",receiveDate:e.receiveDate}),e instanceof V.Api.PhoneCallAccepted&&(n={...n,state:"accepted",gB:Array.from(e.gB)}),e instanceof V.Api.PhoneCallRequested&&(n={...n,state:"requested",gAHash:Array.from(e.gAHash)}),n}function tt(e){return e instanceof V.Api.PhoneCallDiscardReasonMissed?"missed":e instanceof V.Api.PhoneCallDiscardReasonBusy?"busy":e instanceof V.Api.PhoneCallDiscardReasonHangup?"hangup":"disconnect"}function nt(e){if(e instanceof V.Api.PhoneConnectionWebrtc){const{username:t,password:n,turn:s,stun:a,ip:i,ipv6:o,port:r}=e;return{username:t,password:n,isTurn:s,isStun:a,ip:i,ipv6:o,port:r}}}function st(e){const{libraryVersions:t,minLayer:n,maxLayer:s,udpP2p:a,udpReflector:i}=e;return{libraryVersions:t,minLayer:n,maxLayer:s,isUdpP2p:a,isUdpReflector:i}}function at(){return new V.Api.PhoneCallProtocol({libraryVersions:["4.0.0"],minLayer:92,maxLayer:92,udpReflector:!0,udpP2p:!0})}String.fromCharCode(8205);const it=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude88\ude90-\udebd\udebf-\udec2\udece-\udedb\udee0-\udee8]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,ot=new RegExp(`^(?:${it.source})+$`,"");function rt(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some((e=>e.type!==H.Vv.CustomEmoji))&&(e=>{const t=e.split("\n"),n=t.join("");if(n.length>800)return!1;if(!Boolean(n.match(ot)))return!1;const s=t.map((e=>{let t=0;for(;it.exec(e);)if(t++,t>100)return it.lastIndex=0,-1;return t}));let a=t.length;for(let e=0;e<s.length;e++){if(-1===s[e])return!1;s[e]>a&&(a=s[e])}return a})(e.text.text)||void 0}const ct=1e6,dt="temp";let ut,lt=0;function pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+ ++lt/ct}function ft(e){const{fromId:t,message:n,entities:s,startParam:a,channelPost:i,chatInvite:o,chatInviteHash:r,randomId:c,recommended:d,sponsorInfo:u,additionalInfo:l}=e,p=t?ue(t):void 0,f=o?o instanceof V.Api.ChatInvite?o.title:o.chat instanceof V.Api.ChatEmpty?void 0:o.chat.title:void 0;return{randomId:_e(c),isBot:!!t&&re(t),text:St(n,s),expiresAt:Math.round(Date.now()/1e3)+3e5,isRecommended:Boolean(d),...p&&{chatId:p},...r&&{chatInviteHash:r},...o&&{chatInviteTitle:f},...a&&{startParam:a},...i&&{channelPostId:i},...u&&{sponsorInfo:u},...l&&{additionalInfo:l}}}function gt(e){const t=pe(e);if(t&&(e instanceof V.Api.Message||e instanceof V.Api.MessageService))return ht(t,e)}function ht(e,t){const n=t.fromId?ue(t.fromId):void 0,s=t.peerId?ue(t.peerId):void 0,a=!n&&e===ut,i=t.out&&!t.post||a&&!t.fwdFrom,o=At(t),r=t.action&&function(e,t,n,s,a){if(e instanceof V.Api.MessageActionEmpty)return;let i,o,r,c,d,u;const l=[];let p,f,g,h,m,y="other";const _="users"in e?e.users&&e.users.map((e=>de(e,"user"))):"userId"in e&&[de(e.userId,"user")]||[];let b;if(e instanceof V.Api.MessageActionChatCreate)u="Notification.CreatedChatWithTitle",l.push("%action_origin%",e.title),y="chatCreate";else if(e instanceof V.Api.MessageActionChatEditTitle)s?(u="Channel.MessageTitleUpdated",l.push(e.title)):(u="Notification.ChangedGroupName",l.push("%action_origin%",e.title));else if(e instanceof V.Api.MessageActionChatEditPhoto)s?u="Channel.MessagePhotoUpdated":(u="Notification.ChangedGroupPhoto",l.push("%action_origin%"));else if(e instanceof V.Api.MessageActionChatDeletePhoto)u=s?"Channel.MessagePhotoRemoved":"Group.MessagePhotoRemoved";else if(e instanceof V.Api.MessageActionChatAddUser)!t||_.includes(t)?(u="Notification.JoinedChat",l.push("%target_user%")):(u="Notification.Invited",l.push("%action_origin%","%target_user%"));else if(e instanceof V.Api.MessageActionChatDeleteUser)!t||_.includes(t)?(u="Notification.LeftChat",l.push("%target_user%")):(u="Notification.Kicked",l.push("%action_origin%","%target_user%"));else if(e instanceof V.Api.MessageActionChatJoinedByLink)u="Notification.JoinedGroupByLink",l.push("%action_origin%");else if(e instanceof V.Api.MessageActionChannelCreate)u="Notification.CreatedChannel";else if(e instanceof V.Api.MessageActionChatMigrateTo)b=ue(e),u="Migrated to %target_chat%",l.push("%target_chat%");else if(e instanceof V.Api.MessageActionChannelMigrateFrom)b=ue(e),u="Migrated from %target_chat%",l.push("%target_chat%");else if(e instanceof V.Api.MessageActionPinMessage)u="Chat.Service.Group.UpdatedPinnedMessage1",l.push("%action_origin%","%message%");else if(e instanceof V.Api.MessageActionHistoryClear)u="HistoryCleared",y="historyClear";else if(e instanceof V.Api.MessageActionPhoneCall){const t=Boolean(e.duration);if(u=[t?"ChatList.Service":"Chat",e.video?"VideoCall":"Call",a?t?"outgoing":"Outgoing":t?"incoming":"Incoming"].join("."),t){const t=Math.max(Math.round(e.duration/60),1);l.push(`${t} min${t>1?"s":""}`)}i={isOutgoing:a,isVideo:e.video,duration:e.duration,reason:tt(e.reason)}}else if(e instanceof V.Api.MessageActionInviteToGroupCall)u="Notification.VoiceChatInvitation",o={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()},l.push("%action_origin%","%target_user%");else if(e instanceof V.Api.MessageActionContactSignUp)u="Notification.Joined",l.push("%action_origin%"),y="contactSignUp";else if(e instanceof V.Api.MessageActionPaymentSent)r=Number(e.totalAmount),c=e.currency,u="PaymentSuccessfullyPaid",n&&_.push(n),l.push("%payment_amount%","%target_user%","%product%");else if(e instanceof V.Api.MessageActionGroupCall)if(e.duration){const t=Math.max(Math.round(e.duration/60),1);u="Notification.VoiceChatEnded",l.push(`${t} min${t>1?"s":""}`)}else u="Notification.VoiceChatStartedChannel",o={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()};else if(e instanceof V.Api.MessageActionBotAllowed)e.domain?(u="ActionBotAllowed",l.push(e.domain)):u="ActionAttachMenuBotAllowed";else if(e instanceof V.Api.MessageActionCustomAction)u=e.message;else if(e instanceof V.Api.MessageActionChatJoinedByRequest)u="ChatService.UserJoinedGroupByRequest",l.push("%action_origin%");else if(e instanceof V.Api.MessageActionGameScore)u=t===ut?"ActionYouScoredInGame":"ActionUserScoredInGame",l.push("%score%"),f=e.score;else if(e instanceof V.Api.MessageActionWebViewDataSent)u="Notification.WebAppSentData",l.push(e.text);else if(e instanceof V.Api.MessageActionGiftPremium){if(u=a?"ActionGiftOutbound":"ActionGiftInbound",a?l.push("%gift_payment_amount%"):l.push("%action_origin%","%gift_payment_amount%"),n&&_.push(n),c=e.currency,e.cryptoCurrency){const t=e.cryptoAmount.divide(1e7).toJSNumber()/100;d={currency:e.cryptoCurrency,amount:t.toFixed(2)}}r=e.amount.toJSNumber(),g=e.months}else if(e instanceof V.Api.MessageActionTopicCreate)u="TopicWasCreatedAction",y="topicCreate",l.push(e.title);else if(e instanceof V.Api.MessageActionTopicEdit)void 0!==e.closed?(u=e.closed?"TopicWasClosedAction":"TopicWasReopenedAction",l.push("%action_origin%","%action_topic%")):void 0!==e.hidden?u=e.hidden?"TopicHidden2":"TopicShown":e.title?(u="TopicRenamedTo",l.push("%action_origin%",e.title)):e.iconEmojiId?(u="TopicWasIconChangedToAction",l.push("%action_origin%","%action_topic_icon%"),h=e.iconEmojiId.toString()):u="ChatList.UnsupportedMessage",m=!0;else if(e instanceof V.Api.MessageActionSuggestProfilePhoto){const s=e.photo instanceof V.Api.Photo&&e.photo.videoSizes?.length;u=t===ut?s?"ActionSuggestVideoFromYouDescription":"ActionSuggestPhotoFromYouDescription":s?"ActionSuggestVideoToYouDescription":"ActionSuggestPhotoToYouDescription",y="suggestProfilePhoto",l.push("%target_user%"),n&&_.push(n)}else u="ChatList.UnsupportedMessage";return"photo"in e&&e.photo instanceof V.Api.Photo&&(he(e.photo),p=z(e.photo)),{text:u,type:y,targetUserIds:_,targetChatId:b,photo:p,amount:r,currency:c,giftCryptoInfo:d,translationValues:l,call:o,phoneCall:i,score:f,months:g,topicEmojiIconId:h,isTopicAction:m}}(t.action,n,s,Boolean(t.post),i);r&&(o.action=r);const c=t.date>Math.round(Date.now()/1e3)+(0,L.Qj)(),d=t.media instanceof V.Api.MessageMediaInvoice&&Boolean(t.media.extendedMedia),{replyToMsgId:u,replyToTopId:l,forumTopic:p,replyToPeerId:f}=t.replyTo||{},g=t.editDate&&!t.editHide,{inlineButtons:h,keyboardButtons:m,keyboardPlaceholder:y,isKeyboardSingleUse:_,isKeyboardSelective:b}=function(e,t){const{replyMarkup:n,media:s}=e;if(!(n instanceof V.Api.ReplyKeyboardMarkup||n instanceof V.Api.ReplyInlineMarkup))return;const a=n.rows.map((e=>{let{buttons:n}=e;return n.map((e=>{const{text:n}=e;if(e instanceof V.Api.KeyboardButton)return{type:"command",text:n};if(e instanceof V.Api.KeyboardButtonUrl)return e.url.includes("?startgroup=")?{type:"unsupported",text:n}:{type:"url",text:n,url:e.url};if(e instanceof V.Api.KeyboardButtonCallback)return e.requiresPassword?{type:"unsupported",text:n}:{type:"callback",text:n,data:_e(e.data)};if(e instanceof V.Api.KeyboardButtonRequestPoll)return{type:"requestPoll",text:n,isQuiz:e.quiz};if(e instanceof V.Api.KeyboardButtonRequestPhone)return{type:"requestPhone",text:n};if(e instanceof V.Api.KeyboardButtonBuy){if(s instanceof V.Api.MessageMediaInvoice&&s.receiptMsgId)return{type:"receipt",text:"PaymentReceipt",receiptMessageId:s.receiptMsgId};if(t)return;return{type:"buy",text:n}}return e instanceof V.Api.KeyboardButtonGame?{type:"game",text:n}:e instanceof V.Api.KeyboardButtonSwitchInline?{type:"switchBotInline",text:n,query:e.query,isSamePeer:e.samePeer}:e instanceof V.Api.KeyboardButtonUserProfile?{type:"userProfile",text:n,userId:e.userId.toString()}:e instanceof V.Api.KeyboardButtonSimpleWebView?{type:"simpleWebView",text:n,url:e.url}:e instanceof V.Api.KeyboardButtonWebView?{type:"webView",text:n,url:e.url}:e instanceof V.Api.KeyboardButtonUrlAuth?{type:"urlAuth",text:n,url:e.url,buttonId:e.buttonId}:{type:"unsupported",text:n}})).filter(Boolean)}));return a.every((e=>!e.length))?void 0:{[n instanceof V.Api.ReplyKeyboardMarkup?"keyboardButtons":"inlineButtons"]:a,...n instanceof V.Api.ReplyKeyboardMarkup&&{keyboardPlaceholder:n.placeholder,isKeyboardSingleUse:n.singleUse,isKeyboardSelective:n.selective}}}(t,d)||{},w=t.fwdFrom&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.savedFromPeer&&ue(e.savedFromPeer),s=e.fromId&&ue(e.fromId);return{date:e.date,isImported:e.imported,isChannelPost:Boolean(e.channelPost),channelPostId:e.channelPost,isLinkedChannelPost:Boolean(e.channelPost&&n&&!t),fromChatId:n||s,fromMessageId:e.savedFromMsgId||e.channelPost,senderUserId:s,hiddenUserName:e.fromName,postAuthorTitle:e.postAuthor}}(t.fwdFrom,a),{replies:v,mediaUnread:A,postAuthor:S}=t,I=t.groupedId&&String(t.groupedId),P=Boolean(I)&&!(o.document||o.audio||o.sticker),C=t.replyMarkup instanceof V.Api.ReplyKeyboardHide,M=t.replyMarkup instanceof V.Api.ReplyKeyboardHide&&t.replyMarkup.selective,k=t.noforwards||d,E=!t.noforwards,R=rt(o,I);return{id:t.id,chatId:e,isOutgoing:i,content:o,date:t.date,senderId:n||t.out&&t.post&&ut||e,views:t.views,forwards:t.forwards,isScheduled:c,isFromScheduled:t.fromScheduled,isSilent:t.silent,isPinned:t.pinned,reactions:t.reactions&&mt(t.reactions),emojiOnlyCount:R,...u&&{replyToMessageId:u},...p&&{isTopicReply:!0},...f&&{replyToChatId:ue(f)},...l&&{replyToTopMessageId:l},...w&&{forwardInfo:w},...g&&{isEdited:g},...t.editDate&&{editDate:t.editDate},...A&&{isMediaUnread:A},...t.mentioned&&A&&{hasUnreadMention:!0},...t.mentioned&&{isMentioned:!0},...I&&{groupedId:I,isInAlbum:P},inlineButtons:h,...m&&{keyboardButtons:m,keyboardPlaceholder:y,isKeyboardSingleUse:_,isKeyboardSelective:b},...C&&{shouldHideKeyboardButtons:C,isHideKeyboardSelective:M},...t.viaBotId&&{viaBotId:de(t.viaBotId,"user")},...v&&{repliesThreadInfo:Nt(v,t.id,e)},...S&&{postAuthorTitle:S},isProtected:k,isForwardingAllowed:E}}function mt(e){const{recentReactions:t,results:n,canSeeList:s}=e;return{canSeeList:s,results:n.map(_t).filter(Boolean).sort(yt),recentReactions:t?.map(bt).filter(Boolean)}}function yt(e,t){return t.count-e.count||(void 0!==e.chosenOrder&&void 0!==t.chosenOrder?e.chosenOrder-t.chosenOrder:void 0!==e.chosenOrder?1:void 0!==t.chosenOrder?-1:0)}function _t(e){const{chosenOrder:t,count:n,reaction:s}=e,a=wt(s);if(a)return{chosenOrder:t,count:n,reaction:a}}function bt(e){const{peerId:t,reaction:n,big:s,unread:a,date:i}=e,o=wt(n);if(o)return{userId:ue(t),reaction:o,addedDate:i,isUnread:a,isBig:s}}function wt(e){return e instanceof V.Api.ReactionEmoji?{emoticon:e.emoticon}:e instanceof V.Api.ReactionCustomEmoji?{documentId:e.documentId.toString()}:void 0}function vt(e){const{selectAnimation:t,staticIcon:n,reaction:s,title:a,appearAnimation:i,inactive:o,aroundAnimation:r,centerIcon:c,effectAnimation:d,activateAnimation:u,premium:l}=e;return{selectAnimation:Mt(t),appearAnimation:Mt(i),activateAnimation:Mt(u),effectAnimation:Mt(d),staticIcon:Mt(n),aroundAnimation:r?Mt(r):void 0,centerIcon:c?Mt(c):void 0,reaction:{emoticon:s},title:a,isInactive:o,isPremium:l}}function At(e){let t={};e.media&&(t={...Pt(e.media)});const n=e.media instanceof V.Api.MessageMediaUnsupported;return!e.message||n||t.sticker||t.poll||t.contact||t.video?.isRound||(t={...t,text:St(e.message,e.entities)}),t}function St(e,t){return{text:e,...t&&{entities:t.map(Vt)}}}function It(e){if(e instanceof V.Api.DraftMessageEmpty)return;const{message:t,entities:n,replyToMsgId:s,date:a}=e;return{formattedText:t?St(t,n):void 0,replyingToId:s,date:a}}function Pt(e){if("ttlSeconds"in e&&e.ttlSeconds)return;if("extendedMedia"in e&&e.extendedMedia instanceof V.Api.MessageExtendedMedia)return Pt(e.extendedMedia.media);const t=function(e){if(e instanceof V.Api.MessageMediaDocument&&e.document&&e.document instanceof V.Api.Document)return Y(e.document,e.nopremium)}(e);if(t)return{sticker:t};const n=function(e){if(e instanceof V.Api.MessageMediaPhoto&&e.photo&&e.photo instanceof V.Api.Photo)return z(e.photo,e.spoiler)}(e);if(n)return{photo:n};const s=function(e){if(e instanceof V.Api.MessageMediaDocument&&e.document instanceof V.Api.Document&&e.document.mimeType.startsWith("video"))return Ct(e.document,e.spoiler)}(e);if(s)return{video:s};const a=function(e){if(!(e instanceof V.Api.MessageMediaDocument&&e.document&&e.document instanceof V.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof V.Api.DocumentAttributeAudio));if(!t||t.voice)return;const n=e.document.thumbs&&e.document.thumbs.filter((e=>e instanceof V.Api.PhotoSize)).map((e=>J(e)));return{id:String(e.document.id),fileName:Tt(e.document,"audio"),thumbnailSizes:n,size:e.document.size.toJSNumber(),...F(e.document,["mimeType"]),...F(t,["duration","performer","title"])}}(e);if(a)return{audio:a};const i=function(e){if(!(e instanceof V.Api.MessageMediaDocument&&e.document&&e.document instanceof V.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof V.Api.DocumentAttributeAudio));if(!t||!t.voice)return;const{duration:n,waveform:s}=t;return{id:String(e.document.id),duration:n,waveform:s?Array.from(s):void 0}}(e);if(i)return{voice:i};const o=function(e){if(e instanceof V.Api.MessageMediaDocument&&e.document)return Mt(e.document)}(e);if(o)return{document:o};const r=function(e){if(!(e instanceof V.Api.MessageMediaContact))return;const{firstName:t,lastName:n,phoneNumber:s,userId:a}=e;return{firstName:t,lastName:n,phoneNumber:s,userId:de(a,"user")}}(e);if(r)return{contact:r};const c=function(e){if(e instanceof V.Api.MessageMediaPoll)return Et(e.poll,e.results)}(e);if(c)return{poll:c};const d=Ut(e);if(d)return{webPage:d};const u=function(e){if(e instanceof V.Api.MessageMediaInvoice)return function(e){const{description:t,title:n,photo:s,test:a,totalAmount:i,currency:o,receiptMsgId:r,extendedMedia:c}=e,d=c instanceof V.Api.MessageExtendedMediaPreview?Bt(c):void 0;return{title:n,text:t,photo:Dt(s),receiptMsgId:r,amount:Number(i),currency:o,isTest:a,extendedMedia:d}}(e)}(e);if(u)return{invoice:u};const l=function(e){return e instanceof V.Api.MessageMediaGeo?function(e){const t=kt(e.geo);return t&&{type:"geo",geo:t}}(e):e instanceof V.Api.MessageMediaVenue?function(e){const{geo:t,title:n,provider:s,address:a,venueId:i,venueType:o}=e,r=kt(t);return r&&{type:"venue",geo:r,title:n,provider:s,address:a,venueId:i,venueType:o}}(e):e instanceof V.Api.MessageMediaGeoLive?function(e){const{geo:t,period:n,heading:s}=e,a=kt(t);return a&&{type:"geoLive",geo:a,period:n,heading:s}}(e):void 0}(e);if(l)return{location:l};const p=function(e){if(e instanceof V.Api.MessageMediaGame)return function(e){const{id:t,accessHash:n,shortName:s,title:a,description:i,photo:o,document:r}=e.game,c=o instanceof V.Api.Photo?z(o):void 0,d=r instanceof V.Api.Document?Mt(r):void 0;return{id:t.toString(),accessHash:n.toString(),shortName:s,title:a,description:i,photo:c,document:d}}(e)}(e);return p?{game:p}:void 0}function Ct(e,t){if(e instanceof V.Api.DocumentEmpty)return;const{id:n,mimeType:s,thumbs:a,size:i,attributes:o}=e;if("video/webm"===s&&!self.isWebmSupported)return;if(s===d&&!self.isMovSupported)return;const r=o.find((e=>e instanceof V.Api.DocumentAttributeVideo));if(!r)return;const c=o.find((e=>e instanceof V.Api.DocumentAttributeAnimated)),{duration:u,w:l,h:p,supportsStreaming:f=!1,roundMessage:g=!1}=r;return{id:String(n),mimeType:s,duration:u,fileName:Tt(e,"video"),width:l,height:p,supportsStreaming:f,isRound:g,isGif:Boolean(c),thumbnail:K(a),size:i.toJSNumber(),isSpoiler:t}}function Mt(e){if(!(e instanceof V.Api.Document))return;const{id:t,size:n,mimeType:s,date:a,thumbs:i,attributes:o}=e,r=i&&i.find((e=>e instanceof V.Api.PhotoSize));let c,d,u=i&&K(i);if(!u&&i&&r){const e=i.find((e=>e instanceof V.Api.PhotoPathSize));e&&(u=W(e,r))}if(r)if(d={width:r.w,height:r.h},l.has(s)){c="photo";const e=o.find((e=>e instanceof V.Api.DocumentAttributeImageSize));if(e){const{w:t,h:n}=e;d={width:t,height:n}}}else if(p.has(s)){c="video";const e=o.find((e=>e instanceof V.Api.DocumentAttributeVideo));if(e){const{w:t,h:n}=e;d={width:t,height:n}}}return{id:String(t),size:n.toJSNumber(),mimeType:s,timestamp:a,fileName:Tt(e),thumbnail:u,mediaType:c,mediaSize:d}}function kt(e){if(e instanceof V.Api.GeoPointEmpty)return;const{long:t,lat:n,accuracyRadius:s,accessHash:a}=e;return{long:t,lat:n,accessHash:a.toString(),accuracyRadius:s}}function Et(e,t){const{id:n,answers:s}=e,a=s.map((e=>({text:e.text,option:_e(e.option)})));return{id:String(n),summary:{isPublic:e.publicVoters,...F(e,["closed","multipleChoice","quiz","question","closePeriod","closeDate"]),answers:a},results:Rt(t)}}function Rt(e){const{results:t,totalVoters:n,recentVoters:s,solution:a,solutionEntities:i,min:o}=e,r=t&&t.map((e=>{let{option:t,chosen:n,correct:s,voters:a}=e;return{isChosen:n,isCorrect:s,option:_e(t),votersCount:a}}));return{isMin:o,totalVoters:n,recentVoterIds:s?.map((e=>de(e,"user"))),results:r,solution:a,...i&&{solutionEntities:i.map(Vt)}}}function Ut(e){if(!(e instanceof V.Api.MessageMediaWebPage&&e.webpage instanceof V.Api.WebPage))return;const{id:t,photo:n,document:s}=e.webpage;let a;return s instanceof V.Api.Document&&s.mimeType.startsWith("video/")&&(a=Ct(s)),{id:Number(t),...F(e.webpage,["url","displayUrl","type","siteName","title","description","duration"]),photo:n instanceof V.Api.Photo?z(n):void 0,document:!a&&s?Mt(s):void 0,video:a}}function Tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";const{mimeType:n,attributes:s}=e,a=s.find((e=>e instanceof V.Api.DocumentAttributeFilename));if(a)return a.fileName;const i=n.split("/")[1];return`${t}${String(e.id)}.${i}`}function Bt(e){const{w:t,h:n,thumb:s,videoDuration:a}=e;return{width:t,height:n,duration:a,thumbnail:s?K([s]):void 0}}function Dt(e){if(!e)return;const{url:t,size:n,mimeType:s}=e,a=e instanceof V.Api.WebDocument?e.accessHash.toString():void 0,i=e.attributes.find((e=>e instanceof V.Api.DocumentAttributeImageSize));return{url:t,accessHash:a,size:n,mimeType:s,dimensions:i&&{width:i.w,height:i.h}}}function xt(e,t){return{poll:{id:String(t),summary:F(e.summary,["question","answers"]),results:{}}}}function Vt(e){const{className:t,offset:n,length:s}=e;return e instanceof V.Api.MessageEntityMentionName?{type:H.Vv.MentionName,offset:n,length:s,userId:de(e.userId,"user")}:e instanceof V.Api.MessageEntityTextUrl?{type:H.Vv.TextUrl,offset:n,length:s,url:e.url}:e instanceof V.Api.MessageEntityPre?{type:H.Vv.Pre,offset:n,length:s,language:e.language}:e instanceof V.Api.MessageEntityCustomEmoji?{type:H.Vv.CustomEmoji,offset:n,length:s,documentId:e.documentId.toString()}:{type:t,offset:n,length:s}}function Nt(e,t,n){const{channelId:s,replies:a,maxId:i,readMaxId:o,recentRepliers:r,comments:c}=e,d=s?de(s,"channel"):void 0;if("-777"!==d)return{isComments:c,threadId:t,...d&&n!==d?{chatId:d,originChannelId:n}:{chatId:n},messagesCount:a,lastMessageId:i,lastReadInboxMessageId:o,...r&&{recentReplierIds:r.map(ue)}}}function Ft(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Boolean("min"in e&&e.min),s="accessHash"in e&&String(e.accessHash),a="photo"in e&&e.photo&&"hasVideo"in e.photo&&e.photo.hasVideo,i="photo"in e&&e.photo&&$t(e.photo),o=Boolean("signatures"in e&&e.signatures),r=Boolean("hasLink"in e&&e.hasLink),c=Boolean("scam"in e&&e.scam),d=Boolean("fake"in e&&e.fake),u=Boolean("joinToSend"in e&&e.joinToSend),l=Boolean("joinRequest"in e&&e.joinRequest),p=Q(e),f=Boolean("forum"in e&&e.forum);return{isMin:n,hasPrivateLink:r,isSignaturesShown:o,usernames:p,...s&&{accessHash:s},hasVideoAvatar:a,...i&&{avatarHash:i},..."verified"in e&&{isVerified:e.verified},..."callActive"in e&&{isCallActive:e.callActive},..."callNotEmpty"in e&&{isCallNotEmpty:e.callNotEmpty},..."date"in e&&{joinDate:e.date},..."participantsCount"in e&&void 0!==e.participantsCount&&{membersCount:e.participantsCount},..."noforwards"in e&&{isProtected:Boolean(e.noforwards)},...t&&{isSupport:!0},...Ot(e),..."creator"in e&&{isCreator:e.creator},...Lt(e),...Ht(e),fakeType:c?"scam":d?"fake":void 0,isJoinToSend:u,isJoinRequest:l,isForum:f}}function qt(e,t){const{peer:n,folderId:s,unreadMark:a,unreadCount:i,unreadMentionsCount:o,unreadReactionsCount:r,notifySettings:{silent:c,muteUntil:d},readOutboxMaxId:u,readInboxMaxId:l,draft:p}=e,f=c||"number"==typeof d&&(0,L.bp)()<d;return{id:ue(n),...s&&{folderId:s},type:jt(t),title:Wt(n,t),lastReadOutboxMessageId:u,lastReadInboxMessageId:l,unreadCount:i,unreadMentionsCount:o,unreadReactionsCount:r,isMuted:f,muteUntil:d,...a&&{hasUnreadMark:!0},...p instanceof V.Api.DraftMessage&&{draftDate:p.date},...Ft(t)}}function Ot(e){return e instanceof V.Api.Chat||e instanceof V.Api.Channel?{adminRights:e.adminRights?S(e.adminRights):void 0,currentUserBannedRights:"bannedRights"in e&&e.bannedRights?S(e.bannedRights):void 0,defaultBannedRights:e.defaultBannedRights?S(e.defaultBannedRights):void 0}:{}}function Lt(e){if(e instanceof V.Api.ChatForbidden)return{isForbidden:!0};if(e instanceof V.Api.ChannelForbidden)return{isRestricted:!0};const t={};if("restricted"in e){const n=e.restricted?function(e){if(!e)return;const t=e.find((e=>{let{platform:t}=e;return"all"===t}));return t?F(t,["reason","text"]):void 0}(e.restrictionReason):void 0;n&&Object.assign(t,{isRestricted:!0,restrictionReason:n})}return e instanceof V.Api.Chat&&Object.assign(t,{isNotJoined:e.left}),e instanceof V.Api.Channel&&Object.assign(t,{isNotJoined:e.left}),t}function Ht(e){return!("migratedTo"in e)||!e.migratedTo||e.migratedTo instanceof V.Api.InputChannelEmpty?{}:{migratedTo:{chatId:ue(e.migratedTo),...e.migratedTo instanceof V.Api.InputChannel&&{accessHash:String(e.migratedTo.accessHash)}}}}function Gt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof V.Api.ChatEmpty||e instanceof V.Api.UserEmpty))return{id:de(e.id,e instanceof V.Api.User?"user":"chat"),type:jt(e),title:e instanceof V.Api.User?zt(e):e.title,...Ft(e,t)}}function jt(e){return e instanceof V.Api.User||e instanceof V.Api.UserEmpty?"chatTypePrivate":e instanceof V.Api.Chat||e instanceof V.Api.ChatForbidden||e instanceof V.Api.ChatEmpty?"chatTypeBasicGroup":e.megagroup?"chatTypeSuperGroup":"chatTypeChannel"}function Kt(e){return re(e)?`user${e.userId}`:ce(e)?`chat${e.chatId}`:`chat${e.channelId}`}function Wt(e,t){return re(e)?zt(t):t.title}function zt(e){return e.firstName?`${e.firstName}${e.lastName?` ${e.lastName}`:""}`:e.lastName||""}function $t(e){if("photoId"in e)return String(e.photoId)}function Jt(e){return{userId:e instanceof V.Api.ChannelParticipantBanned||e instanceof V.Api.ChannelParticipantLeft?ue(e.peer):de(e.userId,"user"),inviterId:"inviterId"in e&&e.inviterId?de(e.inviterId,"user"):void 0,joinedDate:"date"in e?e.date:void 0,kickedByUserId:"kickedBy"in e&&e.kickedBy?de(e.kickedBy,"user"):void 0,promotedByUserId:"promotedBy"in e&&e.promotedBy?de(e.promotedBy,"user"):void 0,bannedRights:"bannedRights"in e?S(e.bannedRights):void 0,adminRights:"adminRights"in e?S(e.adminRights):void 0,customTitle:"rank"in e?e.rank:void 0,...(e instanceof V.Api.ChannelParticipantAdmin||e instanceof V.Api.ChatParticipantAdmin)&&{isAdmin:!0},...(e instanceof V.Api.ChannelParticipantCreator||e instanceof V.Api.ChatParticipantCreator)&&{isOwner:!0}}}function Qt(e){return e instanceof V.Api.ChatParticipants||e instanceof V.Api.channels.ChannelParticipants?e.participants.map(Jt).filter(Boolean):void 0}function Zt(e){let t,n="";if(!(e.action instanceof V.Api.SendMessageCancelAction)){if(e.action instanceof V.Api.SendMessageTypingAction)n="lng_user_typing";else if(e.action instanceof V.Api.SendMessageRecordVideoAction)n="lng_send_action_record_video";else if(e.action instanceof V.Api.SendMessageUploadVideoAction)n="lng_send_action_upload_video";else if(e.action instanceof V.Api.SendMessageRecordAudioAction)n="lng_send_action_record_audio";else if(e.action instanceof V.Api.SendMessageUploadAudioAction)n="lng_send_action_upload_audio";else if(e.action instanceof V.Api.SendMessageUploadPhotoAction)n="lng_send_action_upload_photo";else if(e.action instanceof V.Api.SendMessageUploadDocumentAction)n="lng_send_action_upload_file";else if(e.action instanceof V.Api.SendMessageGeoLocationAction)n="selecting a location to share";else if(e.action instanceof V.Api.SendMessageChooseContactAction)n="selecting a contact to share";else if(e.action instanceof V.Api.SendMessageGamePlayAction)n="lng_playing_game";else if(e.action instanceof V.Api.SendMessageRecordRoundAction)n="lng_send_action_record_round";else if(e.action instanceof V.Api.SendMessageUploadRoundAction)n="lng_send_action_upload_round";else if(e.action instanceof V.Api.SendMessageChooseStickerAction)n="lng_send_action_choose_sticker";else{if(e.action instanceof V.Api.SpeakingInGroupCallAction)return;if(e.action instanceof V.Api.SendMessageEmojiInteractionSeen)n="lng_user_action_watching_animations",t=e.action.emoticon;else if(e.action instanceof V.Api.SendMessageEmojiInteraction)return}return{action:n,...t&&{emoji:t},...!(e instanceof V.Api.UpdateUserTyping)&&{userId:ue(e.fromId)},timestamp:Date.now()+1e3*(0,L.Qj)()}}}function Xt(e){return e instanceof V.Api.DialogFilterChatlist?{...q(e,["id","title","emoticon"]),excludedChatIds:[],includedChatIds:e.includePeers.map(ue).filter(Boolean),pinnedChatIds:e.pinnedPeers.map(ue).filter(Boolean),hasMyInvites:e.hasMyInvites,isChatList:!0}:{...q(e,["id","title","emoticon","contacts","nonContacts","groups","bots","excludeMuted","excludeRead","excludeArchived"]),channels:e.broadcasts,pinnedChatIds:e.pinnedPeers.map(ue).filter(Boolean),includedChatIds:e.includePeers.map(ue).filter(Boolean),excludedChatIds:e.excludePeers.map(ue).filter(Boolean)}}function Yt(e){let{filter:t,description:n}=e;if(t instanceof V.Api.DialogFilter||t instanceof V.Api.DialogFilterChatlist)return{...Xt(t),description:n}}function en(e){return e.reduce(((e,t)=>{const n=de(t.userId,"user");return t.commands&&(e=e.concat(t.commands.map((e=>({botId:n,...S(e)}))))),e}),[])}function tn(e){const{revoked:t,date:n,expireDate:s,link:a,permanent:i,startDate:o,usage:r,usageLimit:c,requested:d,requestNeeded:u,title:l,adminId:p}=e;return{isRevoked:t,date:n,expireDate:s,link:a,isPermanent:i,startDate:o,usage:r,usageLimit:c,isRequestNeeded:u,requested:d,title:l,adminId:de(p,"user")}}function nn(e){let{autoarchived:t,reportSpam:n,addContact:s,blockContact:a}=e;return{isAutoArchived:Boolean(t),canReportSpam:Boolean(n),canAddContact:Boolean(s),canBlockContact:Boolean(a)}}function sn(e){return e instanceof V.Api.ChatReactionsAll?{type:"all",areCustomAllowed:e.allowCustom}:e instanceof V.Api.ChatReactionsSome?{type:"some",allowed:e.reactions.map(wt).filter(Boolean)}:void 0}function an(e){return{id:ue(e.peer),isPremium:e.premiumRequired}}function on(e){if(e instanceof V.Api.ForumTopicDeleted)return;const{id:t,my:n,closed:s,pinned:a,hidden:i,short:o,date:r,title:c,iconColor:d,iconEmojiId:u,topMessage:l,unreadCount:p,unreadMentionsCount:f,unreadReactionsCount:g,fromId:h,notifySettings:{silent:m,muteUntil:y}}=e;return{id:t,isClosed:s,isPinned:a,isHidden:i,isOwner:n,isMin:o,date:r,title:c,iconColor:d,iconEmojiId:u?.toString(),lastMessageId:l,unreadCount:p,unreadMentionsCount:f,unreadReactionsCount:g,fromId:ue(h),isMuted:m||"number"==typeof y&&(0,L.bp)()<y,muteUntil:y}}function rn(e){if(!(e instanceof V.Api.ExportedChatlistInvite))return;const{title:t,url:n,peers:s}=e;return{title:t,url:n,peerIds:s.map(ue).filter(Boolean)}}function cn(e){return{id:e.botId.toString(),hasSettings:e.hasSettings,shouldRequestWriteAccess:e.requestWriteAccess,shortName:e.shortName,peerTypes:e.peerTypes.map(dn),icons:e.icons.map(un).filter(Boolean)}}function dn(e){return e instanceof V.Api.AttachMenuPeerTypeBotPM?"bots":e instanceof V.Api.AttachMenuPeerTypePM?"users":e instanceof V.Api.AttachMenuPeerTypeChat?"chats":e instanceof V.Api.AttachMenuPeerTypeBroadcast?"channels":e instanceof V.Api.AttachMenuPeerTypeSameBotPM?"self":void 0}function un(e){if(!(e.icon instanceof V.Api.Document))return;const t=Mt(e.icon);return t?(B.documents[String(e.icon.id)]=e.icon,{name:e.name,document:t}):void 0}function ln(e,t){const{description:n,descriptionPhoto:s,descriptionDocument:a,userId:i,commands:o,menuButton:r}=e,c=i&&de(i,"user"),d=s instanceof V.Api.Photo?z(s):void 0,u=a instanceof V.Api.Document?Ct(a):void 0,l=o?.map((e=>function(e,t){return{botId:e,...S(t)}}(c||t,e)));return{botId:c||t,description:n,gif:u,photo:d,menuButton:pn(r),commands:l?.length?l:void 0}}function pn(e){return e instanceof V.Api.BotMenuButton?{type:"webApp",text:e.text,url:e.url}:{type:"commands"}}function fn(e){const{fullUser:{about:t,commonChatsCount:n,pinnedMsgId:s,botInfo:a,blocked:i,profilePhoto:o,voiceMessagesForbidden:r,premiumGifts:c,fallbackPhoto:d,personalPhoto:u},users:l}=e,p=de(l[0].id,"user");return{bio:t,commonChatsCount:n,pinnedMessageId:s,isBlocked:Boolean(i),noVoiceMessages:r,...o instanceof V.Api.Photo&&{profilePhoto:z(o)},...d instanceof V.Api.Photo&&{fallbackPhoto:z(d)},...u instanceof V.Api.Photo&&{personalPhoto:z(u)},...c&&{premiumGifts:c.map((e=>function(e){const{months:t,currency:n,amount:s,botUrl:a}=e;return{months:t,currency:n,amount:s.toJSNumber(),botUrl:a}}(e)))},...a&&{botInfo:ln(a,p)}}}function gn(e){if(!(e instanceof V.Api.User))return;const{id:t,firstName:n,lastName:s,fake:a,scam:i}=e,o=e.photo instanceof V.Api.UserProfilePhoto?Boolean(e.photo.hasVideo):void 0,r=e.photo instanceof V.Api.UserProfilePhoto?String(e.photo.photoId):void 0,c=(l=e).bot?"userTypeBot":l.deleted?"userTypeDeleted":"userTypeRegular",d=Q(e),u=e.emojiStatus?mn(e.emojiStatus):void 0;var l;return{id:de(t,"user"),isMin:Boolean(e.min),fakeType:i?"scam":a?"fake":void 0,...e.self&&{isSelf:!0},isPremium:Boolean(e.premium),...e.verified&&{isVerified:!0},...(e.contact||e.mutualContact)&&{isContact:!0},type:c,firstName:n,lastName:s,..."userTypeBot"===c&&{canBeInvitedToGroup:!e.botNochats},...d&&{usernames:d},phoneNumber:e.phone||"",noStatus:!e.status,...e.accessHash&&{accessHash:String(e.accessHash)},...r&&{avatarHash:r},emojiStatus:u,hasVideoAvatar:o,...e.bot&&e.botInlinePlaceholder&&{botPlaceholder:e.botInlinePlaceholder},...e.bot&&e.botAttachMenu&&{isAttachBot:e.botAttachMenu}}}function hn(e){return!e||e instanceof V.Api.UserStatusEmpty?{type:"userStatusEmpty"}:e instanceof V.Api.UserStatusOnline?{type:"userStatusOnline",expires:e.expires}:e instanceof V.Api.UserStatusOffline?{type:"userStatusOffline",wasOnline:e.wasOnline}:e instanceof V.Api.UserStatusRecently?{type:"userStatusRecently"}:e instanceof V.Api.UserStatusLastWeek?{type:"userStatusLastWeek"}:{type:"userStatusLastMonth"}}function mn(e){return e instanceof V.Api.EmojiStatus?{documentId:e.documentId.toString()}:e instanceof V.Api.EmojiStatusUntil?{documentId:e.documentId.toString(),until:e.until}:void 0}function yn(e){const t={},n={};return e.forEach((e=>{const s=gn(e);if(!s)return;const a=n[s.id];a&&!a.isMin||(n[s.id]=s),"status"in e&&(t[s.id]=hn(e.status))})),{users:Object.values(n),userStatusesById:t}}function _n(e){if(e instanceof V.Api.WallPaperNoFile)return;const{slug:t}=e,n=Mt(e.document);return n?{slug:t,document:n}:void 0}function bn(e){return{isCurrent:Boolean(e.current),isOfficialApp:Boolean(e.officialApp),isPasswordPending:Boolean(e.passwordPending),hash:String(e.hash),areCallsEnabled:!e.callRequestsDisabled,areSecretChatsEnabled:!e.encryptedRequestsDisabled,...F(e,["deviceModel","platform","systemVersion","appName","appVersion","dateCreated","dateActive","ip","country","region"])}}function wn(e){return{hash:String(e.hash),botId:de(e.botId,"user"),...F(e,["platform","browser","dateCreated","dateActive","ip","region","domain"])}}function vn(e){let t,n,s,a,i;return e.forEach((e=>{e instanceof V.Api.PrivacyValueAllowAll?t=t||"everybody":e instanceof V.Api.PrivacyValueAllowContacts?t=t||"contacts":e instanceof V.Api.PrivacyValueDisallowContacts?t=t||"nonContacts":e instanceof V.Api.PrivacyValueDisallowAll?t=t||"nobody":e instanceof V.Api.PrivacyValueAllowUsers?n=e.users.map((e=>de(e,"user"))):e instanceof V.Api.PrivacyValueDisallowUsers?a=e.users.map((e=>de(e,"user"))):e instanceof V.Api.PrivacyValueAllowChatParticipants?s=e.chats.map((e=>de(e,"chat"))):e instanceof V.Api.PrivacyValueDisallowChatParticipants&&(i=e.chats.map((e=>de(e,"chat"))))})),t||(t="nobody"),{visibility:t,allowUserIds:n||[],allowChatIds:s||[],blockUserIds:a||[],blockChatIds:i||[]}}function An(e,t){const{silent:n,muteUntil:s,showPreviews:a,otherSound:i}=e,o=Boolean(i&&!(i instanceof V.Api.NotificationSoundNone));return{chatId:ue(t),isMuted:n||"number"==typeof s&&(0,L.bp)()<s,...!o&&{isSilent:!0},...void 0!==a&&{shouldShowPreviews:Boolean(a)},muteUntil:s}}function Sn(e,t){const{hidden:n,iso2:s,defaultName:a,name:i}=e,{countryCode:o,prefixes:r,patterns:c}=t||{};return{isHidden:n,iso2:s,defaultName:a,name:i,countryCode:o,prefixes:r,patterns:c}}function In(e){if(!(e instanceof V.Api.JsonNull))return e instanceof V.Api.JsonString||e instanceof V.Api.JsonBool||e instanceof V.Api.JsonNumber?e.value:e instanceof V.Api.JsonArray?e.value.map(In):e.value.reduce(((e,t)=>(e[t.key]=In(t.value),e)),{})}function Pn(e){if(e instanceof V.Api.UrlAuthResultRequest){const{bot:t,domain:n,requestWriteAccess:s}=e,a=gn(t);if(!a)return;return me(t),{type:"request",domain:n,shouldRequestWriteAccess:s,bot:a}}return e instanceof V.Api.UrlAuthResultAccepted?{type:"accepted",url:e.url}:e instanceof V.Api.UrlAuthResultDefault?{type:"default"}:void 0}const Cn=new Map,Mn=[],kn=(e,t)=>{const n=e.topicId?`${e.chatId}-${e.topicId}`:e.chatId;if(Cn.has(n)&&(clearTimeout(Cn.get(n)),Cn.delete(n)),e.muteUntil===o||e.muteUntil<=(0,L.bp)())return;if(Mn.push(e),Mn.sort(((e,t)=>t.muteUntil-e.muteUntil)),!Mn.pop())return;const s=setTimeout((()=>{if(t(),Mn.length){const e=Mn.pop();e&&kn(e,t)}}),1e3*(e.muteUntil-(0,L.bp)()));Cn.set(n,s)};function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;kn({chatId:e,muteUntil:t},(()=>n({"@type":"updateNotifyExceptions",chatId:e,isMuted:!1})))}let Rn;const Un=new Set;function Tn(e){e.filter((e=>e instanceof V.Api.User)).map(gn).forEach((e=>{e&&Rn({"@type":"updateUser",id:e.id,user:e})})),e.filter((e=>e instanceof V.Api.Chat||e instanceof V.Api.ChatForbidden||e instanceof V.Api.Channel||e instanceof V.Api.ChannelForbidden)).map((e=>Gt(e))).forEach((e=>{e&&Rn({"@type":"updateChat",id:e.id,chat:e})}))}function Bn(e){if(e instanceof V.connection.UpdateServerTimeOffset)(0,L.Y$)(e.timeOffset),Rn({"@type":"updateServerTimeOffset",serverTimeOffset:e.timeOffset});else if(e instanceof V.connection.UpdateConnectionState){let t;switch(e.state){case V.connection.UpdateConnectionState.disconnected:t="connectionStateConnecting";break;case V.connection.UpdateConnectionState.broken:t="connectionStateBroken";break;case V.connection.UpdateConnectionState.connected:default:t="connectionStateReady"}Rn({"@type":"updateConnectionState",connectionState:t})}else if(e instanceof V.Api.UpdateNewMessage||e instanceof V.Api.UpdateNewScheduledMessage||e instanceof V.Api.UpdateNewChannelMessage||e instanceof V.Api.UpdateShortChatMessage||e instanceof V.Api.UpdateShortMessage){let t,n;const a=e._entities;if(a&&(ye(a),Tn(a)),e instanceof V.Api.UpdateShortChatMessage)t=ht(de((s=e).chatId,"chat"),{...s,fromId:ve(de(s.fromId,"user"))});else if(e instanceof V.Api.UpdateShortMessage)t=function(e){return ht(de(e.userId,"user"),{...e,fromId:ve(e.out?ut:de(e.userId,"user"))})}(e);else{if(e.message instanceof V.Api.MessageEmpty)return;(e.message instanceof V.Api.Message&&Be(e.message)||e.message instanceof V.Api.MessageService&&e.message.action instanceof V.Api.MessageActionSuggestProfilePhoto)&&ge(e.message),t=gt(e.message),n="replyMarkup"in e.message&&e.message?.replyMarkup instanceof V.Api.ReplyKeyboardForceReply&&(!e.message.replyMarkup.selective||t.isMentioned)}if(e instanceof V.Api.UpdateNewScheduledMessage)Rn({"@type":Un.has(t.id)?"updateScheduledMessage":"newScheduledMessage",id:t.id,chatId:t.chatId,message:t});else{const e=Un.has(t.id)&&!t.viaBotId&&!t.content.action;Rn({"@type":e?"updateMessage":"newMessage",id:t.id,chatId:t.chatId,message:t,shouldForceReply:n})}if(e.message instanceof V.Api.MessageService){const{action:n}=e.message;if(n instanceof V.Api.MessageActionPaymentSent)Rn({"@type":"updatePaymentStateCompleted",slug:n.invoiceSlug});else if(n instanceof V.Api.MessageActionChatEditTitle)Rn({"@type":"updateChat",id:t.chatId,chat:{title:n.title}});else if(n instanceof V.Api.MessageActionChatEditPhoto){const s=function(e){if(e instanceof V.Api.PhotoEmpty)return new V.Api.ChatPhotoEmpty;const{dcId:t,id:n}=e;return new V.Api.ChatPhoto({dcId:t,photoId:n})}(n.photo),a=$t(s),i=pe(e.message);B.chats[i]&&(B.chats[i].photo=s),he(n.photo),a&&Rn({"@type":"updateChat",id:t.chatId,chat:{avatarHash:a},...n.photo instanceof V.Api.Photo&&{newProfilePhoto:z(n.photo)}})}else if(n instanceof V.Api.MessageActionChatDeletePhoto){const n=pe(e.message);B.chats[n]&&(B.chats[n].photo=new V.Api.ChatPhotoEmpty),Rn({"@type":"updateChat",id:t.chatId,chat:{avatarHash:void 0}})}else if(n instanceof V.Api.MessageActionChatDeleteUser)e._entities&&e._entities.some((e=>e instanceof V.Api.User&&Boolean(e.self)&&e.id===n.userId))&&Rn({"@type":"updateChat",id:t.chatId,chat:{isForbidden:!0,isNotJoined:!0}});else if(n instanceof V.Api.MessageActionChatAddUser)e._entities&&e._entities.some((e=>e instanceof V.Api.User&&Boolean(e.self)&&n.users.includes(e.id)))&&Rn({"@type":"updateChatJoin",id:t.chatId});else if(n instanceof V.Api.MessageActionGroupCall)!n.duration&&n.call&&Rn({"@type":"updateGroupCallChatId",chatId:t.chatId,call:{id:n.call.id.toString(),accessHash:n.call.accessHash.toString()}});else if(n instanceof V.Api.MessageActionTopicEdit){const{replyTo:t}=e.message,{replyToMsgId:n,replyToTopId:s,forumTopic:a}=t||{},i=a&&(s||n)||1;Rn({"@type":"updateTopic",chatId:ue(e.message.peerId),topicId:i})}else n instanceof V.Api.MessageActionTopicCreate&&Rn({"@type":"updateTopics",chatId:ue(e.message.peerId)})}}else if(e instanceof V.Api.UpdateEditMessage||e instanceof V.Api.UpdateEditChannelMessage){if(e.message instanceof V.Api.MessageEmpty)return;e.message instanceof V.Api.Message&&Be(e.message)&&ge(e.message);const t=function(e,t){const n=new Set(["isOutgoing"].map(String));return F(e,Object.keys(e).filter((e=>!n.has(e))))}(gt(e.message));Rn({"@type":"updateMessage",id:t.id,chatId:t.chatId,message:t})}else if(e instanceof V.Api.UpdateMessageReactions)Rn({"@type":"updateMessageReactions",id:e.msgId,chatId:ue(e.peer),reactions:mt(e.reactions)});else if(e instanceof V.Api.UpdateMessageExtendedMedia){let t,n;if(e.extendedMedia instanceof V.Api.MessageExtendedMedia&&(t=Pt(e.extendedMedia.media)),e.extendedMedia instanceof V.Api.MessageExtendedMediaPreview&&(n=Bt(e.extendedMedia)),!t&&!n)return;const s=ue(e.peer);!function(e,t,n){const s=B.messages[`${e}-${t}`];if(s instanceof V.Api.Message&&s.media){if(n instanceof V.Api.MessageExtendedMediaPreview){if(!(s.media instanceof V.Api.MessageMediaInvoice))return;s.media.extendedMedia=n}n instanceof V.Api.MessageExtendedMedia&&(s.media=n.media)}}(s,e.msgId,e.extendedMedia),Rn({"@type":"updateMessageExtendedMedia",id:e.msgId,chatId:s,media:t,preview:n})}else if(e instanceof V.Api.UpdateDeleteMessages)Rn({"@type":"deleteMessages",ids:e.messages});else if(e instanceof V.Api.UpdateDeleteScheduledMessages)Rn({"@type":"deleteScheduledMessages",ids:e.messages,chatId:ue(e.peer)});else if(e instanceof V.Api.UpdateDeleteChannelMessages){const t=de(e.channelId,"channel"),n=e.messages,s=n.filter((e=>B.messages[`${t}-${e}`])),a=n.filter((e=>!B.messages[`${t}-${e}`])),i=n.map((e=>{const n=B.messages[`${t}-${e}`];return n&&n instanceof V.Api.MessageService&&"photo"in n.action?String(n.action.photo.id):void 0})).filter(Boolean);s.length&&Rn({"@type":"deleteMessages",ids:s,chatId:t}),i.length&&Rn({"@type":"deleteProfilePhotos",ids:i,chatId:t}),a.length&&setTimeout((()=>{Rn({"@type":"deleteMessages",ids:a,chatId:t})}),1e3)}else if(e instanceof V.Api.UpdateServiceNotification)if(e.popup)Rn({"@type":"error",error:{message:e.message}});else{const t=function(e,t){const n=pt(t),s=At(e);return{id:n,chatId:h,date:e.inboxDate||t,content:s,isOutgoing:!1}}(e,Date.now()/1e3+(0,L.Qj)());Be(e)&&ge(Ue(t.id,t.chatId,e)),Rn({"@type":"updateServiceNotification",message:t})}else if(e instanceof V.Api.UpdateMessageID||e instanceof V.Api.UpdateShortSentMessage)Un.add(e.id);else if(e instanceof V.Api.UpdateReadMessagesContents)Rn({"@type":"updateCommonBoxMessages",ids:e.messages,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}});else if(e instanceof V.Api.UpdateChannelReadMessagesContents)Rn({"@type":"updateChannelMessages",channelId:de(e.channelId,"channel"),ids:e.messages,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}});else if(e instanceof V.Api.UpdateMessagePoll){const{pollId:t,poll:n,results:s}=e;if(n){const e=Et(n,s);Rn({"@type":"updateMessagePoll",pollId:String(t),pollUpdate:e})}else{const e=Rt(s);Rn({"@type":"updateMessagePoll",pollId:String(t),pollUpdate:{results:e}})}}else if(e instanceof V.Api.UpdateMessagePollVote)Rn({"@type":"updateMessagePollVote",pollId:String(e.pollId),userId:de(e.userId,"user"),options:e.options.map(_e)});else if(e instanceof V.Api.UpdateChannelMessageViews)Rn({"@type":"updateMessage",chatId:de(e.channelId,"channel"),id:e.id,message:{views:e.views}});else if(e instanceof V.Api.UpdateReadHistoryInbox)Rn({"@type":"updateChatInbox",id:ue(e.peer),chat:{lastReadInboxMessageId:e.maxId,unreadCount:e.stillUnreadCount}});else if(e instanceof V.Api.UpdateReadHistoryOutbox)Rn({"@type":"updateChat",id:ue(e.peer),chat:{lastReadOutboxMessageId:e.maxId}});else if(e instanceof V.Api.UpdateReadChannelInbox)Rn({"@type":"updateChat",id:de(e.channelId,"channel"),chat:{lastReadInboxMessageId:e.maxId,unreadCount:e.stillUnreadCount}});else if(e instanceof V.Api.UpdateReadChannelOutbox)Rn({"@type":"updateChat",id:de(e.channelId,"channel"),chat:{lastReadOutboxMessageId:e.maxId}});else if(e instanceof V.Api.UpdateReadChannelDiscussionInbox)Rn({"@type":"updateThreadInfo",chatId:de(e.channelId,"channel"),threadId:e.topMsgId,threadInfo:{lastReadInboxMessageId:e.readMaxId}});else if(e instanceof V.Api.UpdateReadChannelDiscussionOutbox)Rn({"@type":"updateChat",id:de(e.channelId,"channel"),chat:{lastReadOutboxMessageId:e.readMaxId}});else if(e instanceof V.Api.UpdateDialogPinned&&e.peer instanceof V.Api.DialogPeer)Rn({"@type":"updateChatPinned",id:ue(e.peer.peer),isPinned:e.pinned||!1});else if(e instanceof V.Api.UpdatePinnedDialogs){const t=e.order?e.order.filter((e=>e instanceof V.Api.DialogPeer)).map((e=>ue(e.peer))):[];Rn({"@type":"updatePinnedChatIds",ids:t,folderId:e.folderId||void 0})}else if(e instanceof V.Api.UpdateFolderPeers)e.folderPeers.forEach((e=>{const{folderId:t,peer:n}=e;Rn({"@type":"updateChatListType",id:ue(n),folderId:t})}));else if(e instanceof V.Api.UpdateDialogFilter){const{id:t,filter:n}=e,s=fe(n)?Xt(n):void 0;Rn({"@type":"updateChatFolder",id:t,folder:s})}else if(e instanceof V.Api.UpdateDialogFilterOrder)Rn({"@type":"updateChatFoldersOrder",orderedIds:e.order});else if(e instanceof V.Api.UpdateChatParticipants){const t=Qt(e.participants);Rn({"@type":"updateChatMembers",id:de(e.participants.chatId,"chat"),replacedMembers:t})}else if(e instanceof V.Api.UpdateChatParticipantAdd){const t=Jt(F(e,["userId","inviterId","date"]));Rn({"@type":"updateChatMembers",id:de(e.chatId,"chat"),addedMember:t})}else if(e instanceof V.Api.UpdateChatParticipantDelete)Rn({"@type":"updateChatMembers",id:de(e.chatId,"chat"),deletedMemberId:de(e.userId,"user")});else if(e instanceof V.Api.UpdatePinnedMessages||e instanceof V.Api.UpdatePinnedChannelMessages){const t=e instanceof V.Api.UpdatePinnedMessages?ue(e.peer):de(e.channelId,"channel");Rn({"@type":"updatePinnedIds",chatId:t,messageIds:e.messages,isPinned:e.pinned})}else if(e instanceof V.Api.UpdateNotifySettings&&e.peer instanceof V.Api.NotifyPeer){const t=An(e.notifySettings,e.peer.peer);En(t.chatId,t.muteUntil,Rn),Rn({"@type":"updateNotifyExceptions",...t})}else if(e instanceof V.Api.UpdateNotifySettings&&e.peer instanceof V.Api.NotifyForumTopic){const t=function(e,t,n){const{silent:s,muteUntil:a,showPreviews:i,otherSound:o}=e,r=Boolean(o&&!(o instanceof V.Api.NotificationSoundNone));return{chatId:ue(t),topicId:n,isMuted:s||"number"==typeof a&&(0,L.bp)()<a,...!r&&{isSilent:!0},...void 0!==i&&{shouldShowPreviews:Boolean(i)},muteUntil:a}}(e.notifySettings,e.peer.peer,e.peer.topMsgId);!function(e,t){let n=arguments.length>3?arguments[3]:void 0;kn({chatId:e,topicId:t,muteUntil:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0},(()=>n({"@type":"updateTopicNotifyExceptions",chatId:e,topicId:t,isMuted:!1})))}(t.chatId,t.topicId,t.muteUntil,Rn),Rn({"@type":"updateTopicNotifyExceptions",...t})}else if(e instanceof V.Api.UpdateUserTyping||e instanceof V.Api.UpdateChatUserTyping){const t=e instanceof V.Api.UpdateUserTyping?de(e.userId,"user"):de(e.chatId,"chat");e.action instanceof V.Api.SendMessageEmojiInteraction?Rn({"@type":"updateStartEmojiInteraction",id:t,emoji:e.action.emoticon,messageId:e.action.msgId,interaction:(n=JSON.parse(e.action.interaction.data),{timestamps:n.a.map((e=>{let{t}=e;return t}))})}):Rn({"@type":"updateChatTypingStatus",id:t,typingStatus:Zt(e)})}else if(e instanceof V.Api.UpdateChannelUserTyping){const t=de(e.channelId,"channel");Rn({"@type":"updateChatTypingStatus",id:t,threadId:e.topMsgId,typingStatus:Zt(e)})}else if(e instanceof V.Api.UpdateChannel){const{_entities:t}=e;if(!t)return;const n=t.find((e=>e instanceof V.Api.Channel||e instanceof V.Api.ChannelForbidden));if(n instanceof V.Api.Channel){const t=Gt(n);t&&(Rn({"@type":"updateChat",id:t.id,chat:t}),Rn({"@type":t.isNotJoined?"updateChatLeave":"updateChatJoin",id:de(e.channelId,"channel")}))}else if(n instanceof V.Api.ChannelForbidden){const t=de(e.channelId,"channel");Rn({"@type":"updateChat",id:t,chat:{isRestricted:!0}}),Rn({"@type":"updateChatLeave",id:t})}else 0===t.length&&Rn({"@type":"resetMessages",id:de(e.channelId,"channel")})}else if(e instanceof V.Api.UpdateDialogUnreadMark&&e.peer instanceof V.Api.DialogPeer)Rn({"@type":"updateChat",id:ue(e.peer.peer),chat:{hasUnreadMark:e.unread}});else if(e instanceof V.Api.UpdateChatDefaultBannedRights)Rn({"@type":"updateChat",id:ue(e.peer),chat:{defaultBannedRights:S(e.defaultBannedRights)}});else if(e instanceof V.Api.UpdateUserStatus)Rn({"@type":"updateUserStatus",userId:de(e.userId,"user"),status:hn(e.status)});else if(e instanceof V.Api.UpdateUser)Rn({"@type":"updateRequestUserUpdate",id:de(e.userId,"user")});else if(e instanceof V.Api.UpdateUserEmojiStatus){const t=mn(e.emojiStatus);Rn({"@type":"updateUserEmojiStatus",userId:de(e.userId,"user"),emojiStatus:t})}else if(e instanceof V.Api.UpdateUserName){const t=de(e.userId,"user"),n=B.users[t],s=n?.mutualContact&&!n.self?F(e,[]):F(e,["firstName","lastName"]),a=Q(e);Rn({"@type":"updateUser",id:t,user:{...s,usernames:a}})}else if(e instanceof V.Api.UpdateUserPhone){const{userId:t,phone:n}=e;Rn({"@type":"updateUser",id:de(t,"user"),user:{phoneNumber:n}})}else if(e instanceof V.Api.UpdatePeerSettings){const{_entities:t,settings:n}=e;if(!t)return;t?.length&&(t.filter((e=>e instanceof V.Api.User&&!e.contact)).forEach((e=>{Rn({"@type":"deleteContact",id:de(e.id,"user")})})),t.filter((e=>e instanceof V.Api.User&&e.contact)).map(gn).forEach((e=>{e&&Rn({"@type":"updateUser",id:e.id,user:{...e,...n&&{settings:nn(n)}}})})))}else if(e instanceof V.Api.UpdateNotifySettings){const{notifySettings:{showPreviews:t,silent:n,muteUntil:s},peer:{className:a}}=e,i="NotifyUsers"===a?"contact":"NotifyChats"===a?"group":"NotifyBroadcasts"===a?"broadcast":void 0;if(!i)return;Rn({"@type":"updateNotifySettings",peerType:i,isSilent:Boolean(n||"number"==typeof s&&Date.now()+1e3*(0,L.Qj)()<1e3*s),shouldShowPreviews:Boolean(t)})}else if(e instanceof V.Api.UpdatePeerBlocked)Rn({"@type":"updatePeerBlocked",id:ue(e.peerId),isBlocked:e.blocked});else if(e instanceof V.Api.UpdatePrivacy){const t=function(e){switch(e.className){case"PrivacyKeyPhoneNumber":return"phoneNumber";case"PrivacyKeyStatusTimestamp":return"lastSeen";case"PrivacyKeyProfilePhoto":return"profilePhoto";case"PrivacyKeyPhoneCall":return"phoneCall";case"PrivacyKeyPhoneP2P":return"phoneP2P";case"PrivacyKeyForwards":return"forwards";case"PrivacyKeyVoiceMessages":return"voiceMessages";case"PrivacyKeyChatInvite":return"chatInvite"}}(e.key);t&&Rn({"@type":"updatePrivacy",key:t,rules:vn(e.rules)})}else if(e instanceof V.Api.UpdateDraftMessage)Rn({"@type":"draftMessage",chatId:ue(e.peer),threadId:e.topMsgId,...It(e.draft)});else if(e instanceof V.Api.UpdateContactsReset)Rn({"@type":"updateResetContactList"});else if(e instanceof V.Api.UpdateFavedStickers)Rn({"@type":"updateFavoriteStickers"});else if(e instanceof V.Api.UpdateRecentStickers)Rn({"@type":"updateRecentStickers"});else if(e instanceof V.Api.UpdateRecentReactions)Rn({"@type":"updateRecentReactions"});else if(e instanceof V.Api.UpdateMoveStickerSetToTop)e.masks||Rn({"@type":"updateMoveStickerSetToTop",isCustomEmoji:e.emojis,id:e.stickerset.toString()});else if(e instanceof V.Api.UpdateStickerSets)Rn({"@type":"updateStickerSets"});else if(e instanceof V.Api.UpdateStickerSetsOrder)e.masks||Rn({"@type":"updateStickerSetsOrder",order:e.order.map((e=>e.toString())),isCustomEmoji:e.emojis});else if(e instanceof V.Api.UpdateNewStickerSet){if(e.stickerset instanceof V.Api.messages.StickerSet){const t=ee(e.stickerset.set);Rn({"@type":"updateStickerSet",id:t.id,stickerSet:t})}}else if(e instanceof V.Api.UpdateSavedGifs)Rn({"@type":"updateSavedGifs"});else if(e instanceof V.Api.UpdateGroupCall){const t=e._entities;t&&(ye(t),Tn(t)),Rn({"@type":"updateGroupCall",call:Ye(e.call)})}else if(e instanceof V.Api.UpdateGroupCallConnection)Rn({"@type":"updateGroupCallConnection",data:JSON.parse(e.params.data),presentation:Boolean(e.presentation)});else if(e instanceof V.Api.UpdateGroupCallParticipants){const n=e._entities;n&&(ye(n),Tn(n)),Rn({"@type":"updateGroupCallParticipants",groupCallId:(t=e.call,t.id.toString()),participants:e.participants.map(Qe)})}else if(e instanceof V.Api.UpdatePendingJoinRequests){const t=e._entities;t&&(ye(t),Tn(t)),Rn({"@type":"updatePendingJoinRequests",chatId:ue(e.peer),recentRequesterIds:e.recentRequesters.map((e=>de(e,"user"))),requestsPending:e.requestsPending})}else if(e instanceof V.Api.UpdatePhoneCall){const t=e._entities;t&&(ye(t),Tn(t)),Rn({"@type":"updatePhoneCall",call:et(e.phoneCall)})}else if(e instanceof V.Api.UpdatePhoneCallSignalingData)Rn({"@type":"updatePhoneCallSignalingData",callId:e.phoneCallId.toString(),data:Array.from(e.data)});else if(e instanceof V.Api.UpdateWebViewResultSent){const{queryId:t}=e;Rn({"@type":"updateWebViewResultSent",queryId:t.toString()})}else if(e instanceof V.Api.UpdateBotMenuButton){const{botId:t,button:n}=e,s=de(t,"user");Rn({"@type":"updateBotMenuButton",botId:s,button:pn(n)})}else if(e instanceof V.Api.UpdateTranscribedAudio){const t=e._entities;t&&(ye(t),Tn(t)),Rn({"@type":"updateTranscribedAudio",transcriptionId:e.transcriptionId.toString(),text:e.text,isPending:e.pending})}else if(e instanceof V.Api.UpdateConfig){const t=e._entities;t&&(ye(t),Tn(t)),Rn({"@type":"updateConfig"})}else e instanceof V.Api.UpdateChannelPinnedTopic?Rn({"@type":"updatePinnedTopic",chatId:de(e.channelId,"channel"),topicId:e.topicId,isPinned:Boolean(e.pinned)}):e instanceof V.Api.UpdateChannelPinnedTopics?Rn({"@type":"updatePinnedTopicsOrder",chatId:de(e.channelId,"channel"),order:e.order||[]}):e instanceof V.Api.UpdateRecentEmojiStatuses&&Rn({"@type":"updateRecentEmojiStatuses"});var t,n,s}const Dn={PHONE_NUMBER_INVALID:"Invalid phone number.",PHONE_CODE_INVALID:"Invalid code.",PASSWORD_HASH_INVALID:"Incorrect password.",PHONE_PASSWORD_FLOOD:"Limit exceeded. Please try again later.",PHONE_NUMBER_BANNED:"This phone number is banned."},xn={};let Vn;function Nn(){Vn({"@type":"updateWebAuthTokenFailed"})}function Fn(){return Vn(jn("authorizationStateWaitPhoneNumber")),new Promise(((e,t)=>{xn.resolve=e,xn.reject=t}))}function qn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Vn({...jn("authorizationStateWaitCode"),isCodeViaApp:e}),new Promise(((e,t)=>{xn.resolve=e,xn.reject=t}))}function On(e,t){return Vn({...jn("authorizationStateWaitPassword"),hint:e,noReset:t}),new Promise((e=>{xn.resolve=e}))}function Ln(){return Vn(jn("authorizationStateWaitRegistration")),new Promise((e=>{xn.resolve=e}))}function Hn(e){return Vn({...jn("authorizationStateWaitQrCode"),qrCode:{token:btoa(String.fromCharCode(...e.token)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),expires:e.expires}}),new Promise(((e,t)=>{xn.reject=t}))}function Gn(e){let t;if(e instanceof V.errors.FloodWaitError){const n=Math.ceil(Number(e.seconds)/60/60);t="Too many attempts. Try again in "+(n>1?`${n} hours`:"an hour")}else t=Dn[e.message];t||(t="Unexpected Error"),Vn({"@type":"updateAuthorizationError",message:t})}function jn(e){return{"@type":"updateAuthorizationState",authorizationState:e}}function Kn(e){xn.resolve&&xn.resolve(e)}function Wn(e){xn.resolve&&xn.resolve(e)}function zn(e){xn.resolve&&xn.resolve(e)}function $n(e){const{firstName:t,lastName:n}=e;xn.resolve&&xn.resolve([t,n])}function Jn(){xn.reject&&xn.reject(new Error("RESTART_AUTH"))}function Qn(){xn.reject&&xn.reject(new Error("RESTART_AUTH_WITH_QR"))}var Zn=n(78742),Xn=n.n(Zn),Yn=n(89832);const es=self.caches;let ts;async function ns(){var e;return!!es&&(ts=null!==(e=ts)&&void 0!==e?e:await es.has("test").then((()=>!0)).catch((()=>!1)),ts)}let ss=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function as(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(es)try{const a=new Request(t.replace(/:/g,"_")),i=await es.open(e),o=await i.match(a);if(!o)return;const r=o.headers.get("Content-Type");switch(n){case ss.Text:return await o.text();case ss.Blob:{if(t.startsWith("avatar")&&r&&r.startsWith("text"))return;const e=await o.blob(),n=!e.type||!s&&e.type.includes("html");let a=e.type||r;return n&&a?(s||(a=a.replace(/html/gi,"")),new Blob([e],{type:a})):e}case ss.Json:return await o.json();case ss.ArrayBuffer:return await o.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function is(e,t,n){if(!es)return!1;try{const s="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),a=new Request(t.replace(/:/g,"_")),i=new Response(s),o=await es.open(e);return await o.put(a,i),!0}catch(e){return console.warn(e),!1}}async function os(e,t){try{if(!es)return;const n=await es.open(e);return await n.delete(t)}catch(e){return void console.warn(e)}}async function rs(e){try{if(!es)return;return await es.delete(e)}catch(e){return void console.warn(e)}}const cs=new Set(["msg","sticker","gif","wallpaper","photo","webDocument","document","videoAvatar"]);async function ds(e,t,n,a){let{url:i,mediaFormat:o,start:r,end:c,isHtmlAllowed:d}=e;const{data:u,mimeType:l,fullSize:p}=await async function(e,t,n,s,a,i,o,r){const c=ls(e);if(!c)return;const{entityType:d,entityId:u,sizeType:l,params:p,mediaMatchType:f}=c;if(!n)return Promise.reject(new Error("ERROR: Client is not connected"));if("staticMap"===d){const e=u,n=new URLSearchParams(p),s=n.get("long"),a=n.get("lat"),i=n.get("w"),o=n.get("h"),r=n.get("zoom"),c=n.get("scale"),d=n.get("accuracy_radius");return{mimeType:"image/png",data:await t.downloadStaticMap(e,s,a,i,o,r,c,d)}}let g;switch(d){case"channel":case"chat":g=B.chats[u];break;case"user":g=B.users[u];break;case"msg":g=B.messages[u];break;case"sticker":case"gif":case"wallpaper":case"document":g=B.documents[u];break;case"videoAvatar":case"photo":g=B.photos[u];break;case"stickerSet":g=B.stickerSets[u];break;case"webDocument":g=B.webDocuments[u]}if(g){if(cs.has(d)){o===H.IU.Stream&&(s.acceptsBuffer=!0);const e=await t.downloadMedia(g,{sizeType:l,start:a,end:i,progressCallback:s,workers:16});let n,c;return g instanceof V.Api.MessageService&&g.action instanceof V.Api.MessageActionSuggestProfilePhoto?n="image/jpeg":g instanceof V.Api.Message?(n=function(e,t){if(e&&e.media)return e.media instanceof V.Api.MessageMediaPhoto?"image/jpeg":e.media instanceof V.Api.MessageMediaGeo||e.media instanceof V.Api.MessageMediaVenue||e.media instanceof V.Api.MessageMediaGeoLive?"image/png":e.media instanceof V.Api.MessageMediaDocument&&e.media.document instanceof V.Api.Document?t?e.media.document.attributes.some((e=>e instanceof V.Api.DocumentAttributeSticker))?"image/webp":"image/jpeg":e.media.document.mimeType:e.media instanceof V.Api.MessageMediaWebPage&&e.media.webpage instanceof V.Api.WebPage&&e.media.webpage.document instanceof V.Api.Document?t?"image/jpeg":e.media.webpage.document.mimeType:void 0}(g,l),g.media instanceof V.Api.MessageMediaDocument&&g.media.document instanceof V.Api.Document&&(c=g.media.document.size.toJSNumber()),g.media instanceof V.Api.MessageMediaWebPage&&g.media.webpage instanceof V.Api.WebPage&&g.media.webpage.document instanceof V.Api.Document&&(c=g.media.webpage.document.size.toJSNumber())):g instanceof V.Api.Photo?n="videoAvatar"===d?"video/mp4":"image/jpeg":"sticker"===d&&l?n="image/webp":"webDocument"===d?(n=g.mimeType,c=g.size):(n=g.mimeType,c=g.size.toJSNumber()),!r&&n&&(n=n.replace(/html/gi,"")),{mimeType:n,data:e,fullSize:c}}if("stickerSet"===d){const e=await t.downloadStickerSetThumb(g);return{mimeType:us(e),data:e}}{const e=await t.downloadProfilePhoto(g,"profile"===f);return{mimeType:us(e),data:e}}}}(i,t,n,a,r,c,o,d)||{};if(!u)return;const f=await async function(e,t,n){switch(t){case H.IU.BlobUrl:return new Blob([e],{type:n});case H.IU.Text:return e.toString();case H.IU.Progressive:case H.IU.DownloadUrl:return e.buffer}}(u,o,l);if(!f)return;const g=o!==H.IU.Progressive&&(o!==H.IU.BlobUrl||f.size<=524288);return s&&g&&is(i.startsWith("avatar")?"tt-media-avatars":"tt-media",i,f),{dataBlob:o===H.IU.Progressive?"":f,arrayBuffer:o===H.IU.Progressive?f:void 0,mimeType:l,fullSize:p}}function us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";if(e.length<4)return t;let n=t;const s=e.subarray(0,4).reduce(((e,t)=>e+t.toString(16)),"");switch(s){case"89504e47":n="image/png";break;case"47494638":n="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":n="image/jpeg";break;case"52494646":n="image/webp"}return n}function ls(e){const t=e.startsWith("staticMap")?e.match(/(staticMap):([0-9-]+)(\?.+)/):e.startsWith("webDocument")?e.match(/(webDocument):(.+)/):e.match(/(avatar|profile|photo|msg|stickerSet|sticker|wallpaper|gif|document|videoAvatar)([-\d\w./]+)(?::\d+)?(\?size=\w+)?/);if(!t)return;const n=t[1],s=t[2];let a;const i=t[3],o=i?.replace("?size=","")||void 0;return a="avatar"===t[1]||"profile"===t[1]?we(s):t[1],{mediaMatchType:n,entityType:a,entityId:s,sizeType:o,params:i}}Yn.Logger.setLevel("warn");const ps={build:e=>e};let fs,gs,hs,ms,ys=!1;function _s(e){let{isPremium:t}=e;gs.setIsPremium(t)}async function bs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||await Ss(new V.Api.auth.LogOut),t||x(),await gs.destroy()}async function ws(){await gs.disconnect()}function vs(e){fs({"@type":"updateSession",sessionData:e})}function As(e){if(e instanceof V.connection.UpdateConnectionState)ys=e.state===V.connection.UpdateConnectionState.connected;else if(e instanceof V.Api.UpdatesTooLong)!async function(){try{await Ss(new V.Api.users.GetFullUser({id:new V.Api.InputUserSelf}),void 0,!0)}catch(e){"AUTH_KEY_UNREGISTERED"!==e.message&&"SESSION_REVOKED"!==e.message||fs({"@type":"updateConnectionState",connectionState:"connectionStateBroken"})}}();else if(e instanceof V.Api.UpdateConfig){const t=e._entities?.find((e=>e instanceof V.Api.User&&de(e.id,"user")===hs));if(!(t instanceof V.Api.User))return;_s({isPremium:Boolean(t.premium)})}}async function Ss(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ys)try{const n=await gs.invoke(e,a);return s||Is(n),t?n&&!0:n}catch(t){if(i)return;if(n)throw t;return void Es(t,e)}}function Is(e){let t,n;e instanceof V.Api.UpdatesCombined||e instanceof V.Api.Updates?t=e:"object"==typeof e&&"updates"in e&&(e.updates instanceof V.Api.Updates||e.updates instanceof V.Api.UpdatesCombined)?t=e.updates:(e instanceof V.Api.UpdateShortMessage||e instanceof V.Api.UpdateShortChatMessage||e instanceof V.Api.UpdateShort||e instanceof V.Api.UpdateShortSentMessage)&&(n=e),t?(function(e){const t=[...e.users,...e.chats];e.updates.forEach((e=>{t&&(e._entities=t)}))}(t),t.updates.forEach((e=>{Bn(e)}))):n&&Bn(n)}async function Ps(e,t){try{return await ds(e,gs,ys,t)}catch(n){if(n.message.startsWith("FILE_REFERENCE")&&await Rs({url:e.url}))return ds(e,gs,ys,t);throw n}}function Cs(e,t){return gs.uploadFile({file:e,onProgress:t,workers:16})}function Ms(e){return gs.updateTwoFaSettings(e)}async function ks(){const e=await Ss(new V.Api.users.GetFullUser({id:new V.Api.InputUserSelf}));if(!(e&&e.users[0]instanceof V.Api.User))return;const t=e.users[0];t.photo instanceof V.Api.Photo&&(B.photos[t.photo.id.toString()]=t.photo),B.users[de(t.id,"user")]=t;const n=fn(e),s=gn(t);var a;a=s.id,ut=a,function(e,t){Vn({"@type":"updateCurrentUser",currentUser:e,currentUserFullInfo:t})}(s,n),hs=s.id,_s({isPremium:Boolean(s.isPremium)})}function Es(e,t){const n=e.message.startsWith("A wait of")&&(t instanceof V.Api.messages.SendMessage||t instanceof V.Api.messages.SendMedia||t instanceof V.Api.messages.SendMultiMedia),{message:s}=e;fs({"@type":"error",error:{message:s,isSlowMode:n,hasErrorKey:!0}})}async function Rs(e){let{url:t}=e;const n=ls(t);if(!n)return;const{entityType:s,entityId:a,mediaMatchType:i}=n;if("file"===i)return!1;if("msg"===s){const e=B.messages[a],t=e.id,n="channelId"in e.peerId?new V.Api.InputChannel({channelId:e.peerId.channelId,accessHash:B.chats[de(e.peerId.channelId,"channel")].accessHash}):void 0,s=await Ss(n?new V.Api.channels.GetMessages({channel:n,id:[new V.Api.InputMessageID({id:t})]}):new V.Api.messages.GetMessages({id:[new V.Api.InputMessageID({id:t})]}));if(!s||s instanceof V.Api.messages.MessagesNotModified)return!1;const i=s.messages[0];return!(i instanceof V.Api.MessageEmpty||(ge(i),0))}return!1}async function Us(e){let{limit:t,offsetDate:n,archived:s,withPinned:a,lastLocalServiceMessage:i}=e;const o=await Ss(new V.Api.messages.GetDialogs({offsetPeer:new V.Api.InputPeerEmpty,limit:t,offsetDate:n,folderId:s?1:void 0,...a&&{excludePinned:!0}})),r=a?await Ss(new V.Api.messages.GetPinnedDialogs({folderId:s?1:void 0})):void 0;if(!o||o instanceof V.Api.messages.DialogsNotModified)return;r&&Sa(r),Sa(o);const c=N((r?r.messages:[]).concat(o.messages).map(gt).filter(Boolean),"chatId"),d=Aa(o);r&&Object.assign(d,Aa(r,d));const u=[],l={},p={},f=(r?r.dialogs:[]).concat(o.dialogs),g=[];f.forEach((e=>{if(!(e instanceof V.Api.Dialog)||!s&&1===e.folderId||s&&1!==e.folderId)return;const t=qt(e,d[Kt(e.peer)]);if(t.id===h&&i&&(!c[t.id]||i.date>c[t.id].date)?t.lastMessage=i:t.lastMessage=c[t.id],t.isListed=!0,u.push(t),En(t.id,t.muteUntil,ms),a&&e.pinned&&g.push(t.id),e.draft){const{formattedText:n,replyingToId:s}=It(e.draft)||{};n&&(l[t.id]=n),s&&(p[t.id]=s)}}));const m=u.map((e=>e.id)),{users:y,userStatusesById:_}=yn((r?.users||[]).concat(o.users));let b;return b=o instanceof V.Api.messages.DialogsSlice?o.count:m.length,{chatIds:m,chats:u,users:y,userStatusesById:_,draftsById:l,replyingToById:p,orderedPinnedIds:a?g:void 0,totalChatCount:b}}function Ts(e){const{id:t,accessHash:n,adminRights:s}=e;return Ie(t,n)instanceof V.Api.InputChannel?async function(e,t,n){const s=await Ss(new V.Api.channels.GetFullChannel({channel:Ie(e,t)}));if(!(s&&s.fullChat instanceof V.Api.ChannelFull))return;const{about:a,onlineCount:i,exportedInvite:o,slowmodeSeconds:r,slowmodeNextSendDate:c,migratedFromChatId:d,migratedFromMaxId:u,canViewParticipants:l,canViewStats:p,linkedChatId:f,hiddenPrehistory:g,call:h,botInfo:m,availableReactions:y,defaultSendAs:_,requestsPending:b,recentRequesters:w,statsDc:v,participantsCount:A,stickerset:S,chatPhoto:I,participantsHidden:P}=s.fullChat;I instanceof V.Api.Photo&&(B.photos[I.id.toString()]=I);const C=o instanceof V.Api.ChatInviteExported?o.link:void 0,{members:M,users:k,userStatusesById:E}=l&&await fa(e,t)||{},{members:R,users:U,userStatusesById:T}=l&&n&&await fa(e,t,"kicked")||{},{members:D,users:x,userStatusesById:F}=l&&await fa(e,t,"admin")||{},q=m?en(m):void 0;if(s?.chats?.length>1){Sa(s);const[,e]=s.chats,t=Gt(e);t&&ms({"@type":"updateChat",id:t.id,chat:t})}const O={...E,...T,...F};return{fullInfo:{...I instanceof V.Api.Photo&&{profilePhoto:z(I)},about:a,onlineCount:i,inviteLink:C,slowMode:r?{seconds:r,nextSendDate:c}:void 0,migratedFrom:d?{chatId:de(d,"chat"),maxMessageId:u}:void 0,canViewMembers:l,canViewStatistics:p,isPreHistoryHidden:g,members:M,kickedMembers:R,adminMembersById:D?N(D,"userId"):void 0,groupCallId:h?String(h.id):void 0,linkedChatId:f?de(f,"chat"):void 0,botCommands:q,enabledReactions:sn(y),sendAsId:_?ue(_):void 0,requestsPending:b,recentRequesterIds:w?.map((e=>de(e,"user"))),statisticsDcId:v,stickerSet:S?ee(S):void 0,areParticipantsHidden:P},users:[...k||[],...U||[],...x||[]],userStatusesById:O,groupCall:h?{chatId:e,isLoaded:!1,id:h.id.toString(),accessHash:h?.accessHash.toString(),participants:{},version:0,participantsCount:0,connectionState:"disconnected"}:void 0,membersCount:A}}(t,n,s):async function(e){const t=await Ss(new V.Api.messages.GetFullChat({chatId:Ie(e)}));if(!(t&&t.fullChat instanceof V.Api.ChatFull))return;Sa(t);const{about:n,participants:s,exportedInvite:a,botInfo:i,call:o,availableReactions:r,recentRequesters:c,requestsPending:d,chatPhoto:u}=t.fullChat;u instanceof V.Api.Photo&&(B.photos[u.id.toString()]=u);const l=Qt(s),p=l?l.filter((e=>{let{isAdmin:t,isOwner:n}=e;return t||n})):void 0,f=i?en(i):void 0,g=a instanceof V.Api.ChatInviteExported?a.link:void 0,{users:h,userStatusesById:m}=yn(t.users);return{fullInfo:{...u instanceof V.Api.Photo&&{profilePhoto:z(u)},about:n,members:l,adminMembersById:p?N(p,"userId"):void 0,canViewMembers:!0,botCommands:f,inviteLink:g,groupCallId:o?.id.toString(),enabledReactions:sn(r),requestsPending:d,recentRequesterIds:c?.map((e=>de(e,"user")))},users:h,userStatusesById:m,groupCall:o?{chatId:e,isLoaded:!1,id:o.id.toString(),accessHash:o.accessHash.toString(),connectionState:"disconnected",participantsCount:0,version:0,participants:{}}:void 0,membersCount:l?.length}}(t)}async function Bs(e){const{id:t,accessHash:n}=e,s=await Ss(new V.Api.messages.GetPeerSettings({peer:Ae(t,n)}));if(s)return ye(s.users),{users:s.users.map(gn).filter(Boolean),settings:nn(s.settings)}}async function Ds(e){let{query:t}=e;const n=await Ss(new V.Api.contacts.Search({q:t}));if(!n)return;Sa(n);const s=n.myResults.map(ue),a=n.chats.concat(n.users).map((e=>Gt(e))).filter(Boolean),i=n.users.map(gn).filter((e=>Boolean(e)&&!e.isSelf));return{localChats:a.filter((e=>s.includes(e.id))),localUsers:i.filter((e=>s.includes(e.id))),globalChats:a.filter((e=>!s.includes(e.id))),globalUsers:i.filter((e=>!s.includes(e.id)))}}async function xs(e){let t,{type:n,user:s}=e;if("self"===n||"user"===n){const e=await Ss(new V.Api.users.GetUsers({id:["user"===n&&s?Ie(s.id,s.accessHash):new V.Api.InputUserSelf]}));if(!e||!e.length)return;[t]=e}else if("support"===n){const e=await Ss(new V.Api.help.GetSupport);if(!e||!e.user)return;t=e.user}const a=Gt(t,"support"===n);if(a)return ms({"@type":"updateChat",id:a.id,chat:a}),{chatId:a.id}}async function Vs(e){let{chat:t,lastLocalMessage:n,noLastMessage:s}=e;const{id:a,accessHash:i}=t,o=await Ss(new V.Api.messages.GetPeerDialogs({peers:[new V.Api.InputDialogPeer({peer:Ae(a,i)})]}));if(!o)return;const r=o.dialogs[0];if(!(r&&r instanceof V.Api.Dialog))return;const c=Aa(o)[Kt(r.peer)];if(!c)return;Sa(o);const d=gt(o.messages[0]),u=n&&(!d||n.date>d.date)?n:d,l={...qt(r,c),...!s&&{lastMessage:u}};ms({"@type":"updateChat",id:a,chat:l}),En(l.id,l.muteUntil,ms)}function Ns(e){let{chat:t,text:n,entities:s,threadId:a,replyToMsgId:i}=e;return Ss(new V.Api.messages.SaveDraft({peer:Ae(t.id,t.accessHash),message:n,...s&&{entities:s.map(Te)},replyToMsgId:i,topMsgId:a}))}function Fs(e,t){return Ss(new V.Api.messages.SaveDraft({peer:Ae(e.id,e.accessHash),message:"",...t&&{topMsgId:t}}))}async function qs(e){let{chat:t,isMuted:n,muteUntil:s=0}=e;n&&!s&&(s=o),await Ss(new V.Api.account.UpdateNotifySettings({peer:new V.Api.InputNotifyPeer({peer:Ae(t.id,t.accessHash)}),settings:new V.Api.InputPeerNotifySettings({muteUntil:s})})),ms({"@type":"updateNotifyExceptions",chatId:t.id,isMuted:n}),Vs({chat:t,noLastMessage:!0})}async function Os(e){let{chat:t,topicId:n,isMuted:s,muteUntil:a=0}=e;s&&!a&&(a=o),await Ss(new V.Api.account.UpdateNotifySettings({peer:new V.Api.InputNotifyForumTopic({peer:Ae(t.id,t.accessHash),topMsgId:n}),settings:new V.Api.InputPeerNotifySettings({muteUntil:a})})),ms({"@type":"updateTopicNotifyExceptions",chatId:t.id,topicId:n,isMuted:s})}async function Ls(e){let{title:t,about:n="",users:s}=e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await Ss(new V.Api.channels.CreateChannel({broadcast:!0,title:t,about:n}),void 0,!0);if(!(i instanceof V.Api.Updates))return;const o=i.chats[0];if(!(o&&o instanceof V.Api.Channel))return;const r=Gt(o);if(s?.length)try{await Ss(new V.Api.channels.InviteToChannel({channel:Ie(r.id,r.accessHash),users:s.map((e=>{let{id:t,accessHash:n}=e;return Ie(t,n)}))}),void 0,a)}catch(e){}return r}function Hs(e){let{channelId:t,accessHash:n}=e;return Ss(new V.Api.channels.JoinChannel({channel:Ie(t,n)}),!0,!0)}function Gs(e){let{chat:t,user:n}=e;if("chatTypeBasicGroup"===t.type)return Ss(new V.Api.messages.DeleteChatUser({chatId:Ie(t.id,t.accessHash),userId:Ie(n.id,n.accessHash)}),!0)}function js(e){let{chatId:t}=e;return Ss(new V.Api.messages.DeleteChat({chatId:Ie(t)}),!0)}function Ks(e){let{channelId:t,accessHash:n}=e;return Ss(new V.Api.channels.LeaveChannel({channel:Ie(t,n)}),!0)}function Ws(e){let{channelId:t,accessHash:n}=e;return Ss(new V.Api.channels.DeleteChannel({channel:Ie(t,n)}),!0)}async function zs(e){let{title:t,users:n}=e;const s=await Ss(new V.Api.messages.CreateChat({title:t,users:n.map((e=>{let{id:t,accessHash:n}=e;return Ie(t,n)}))}),void 0,!0);if(!(s instanceof V.Api.Updates))return;const a=s.chats[0];return a&&a instanceof V.Api.Chat?Gt(a):void 0}async function $s(e){let{chatId:t,accessHash:n,photo:s}=e;const a=Ie(t,n);let i;if(s instanceof File){const e=await Cs(s);i=new V.Api.InputChatUploadedPhoto({file:e})}else if(s){const e=De(s);if(!e)return!1;i=new V.Api.InputChatPhoto({id:e})}else i=new V.Api.InputChatPhotoEmpty;return Ss(a instanceof V.Api.InputChannel?new V.Api.channels.EditPhoto({channel:a,photo:i}):new V.Api.messages.EditChatPhoto({chatId:a,photo:i}),!0)}async function Js(e){let{chat:t,shouldBePinned:n}=e;const{id:s,accessHash:a}=t;await Ss(new V.Api.messages.ToggleDialogPin({peer:new V.Api.InputDialogPeer({peer:Ae(s,a)}),pinned:n||void 0}))&&ms({"@type":"updateChatPinned",id:t.id,isPinned:n})}function Qs(e){let{chat:t,folderId:n}=e;const{id:s,accessHash:a}=t;return Ss(new V.Api.folders.EditPeerFolders({folderPeers:[new V.Api.InputFolderPeer({peer:Ae(s,a),folderId:n})]}),!0)}async function Zs(){const e=await Ss(new V.Api.messages.GetDialogFilters);if(!e)return;const t=e.findIndex((e=>e instanceof V.Api.DialogFilterDefault)),n=e.filter(fe),s=n.map((e=>{let{id:t}=e;return t}));return-1!==t&&s.splice(t,0,0),{byId:N(n.map(Xt),"id"),orderedIds:s}}async function Xs(){const e=await Ss(new V.Api.messages.GetSuggestedDialogFilters);if(e)return e.map(Yt).filter(Boolean)}async function Ys(e){let{id:t,folderUpdate:n}=e;n.excludedChatIds=n.excludedChatIds.filter((e=>!n.includedChatIds.includes(e)));const s=function(e){const{emoticon:t,contacts:n,nonContacts:s,groups:a,channels:i,bots:o,excludeArchived:r,excludeMuted:c,excludeRead:d,pinnedChatIds:u,includedChatIds:l,excludedChatIds:p}=e,f=u?u.map(Se).filter(Boolean):[],g=l?l.map(Se).filter(Boolean):[],h=p?p.map(Se).filter(Boolean):[];return e.isChatList?new V.Api.DialogFilterChatlist({id:e.id,title:e.title,emoticon:t||void 0,pinnedPeers:f,includePeers:g,hasMyInvites:e.hasMyInvites}):new V.Api.DialogFilter({id:e.id,title:e.title,emoticon:t||void 0,contacts:n||void 0,nonContacts:s||void 0,groups:a||void 0,bots:o||void 0,excludeArchived:r||void 0,excludeMuted:c||void 0,excludeRead:d||void 0,broadcasts:i||void 0,pinnedPeers:f,includePeers:g,excludePeers:h})}(n);await Ss(new V.Api.messages.UpdateDialogFilter({id:t,filter:s}))&&ms({"@type":"updateChatFolder",id:t,folder:n})}async function ea(e){const t=await Ss(new V.Api.messages.UpdateDialogFilter({id:e,filter:void 0})),n=await Xs();t&&ms({"@type":"updateChatFolder",id:e,folder:void 0}),n&&ms({"@type":"updateRecommendedChatFolders",folders:n})}function ta(e){return Ss(new V.Api.messages.UpdateDialogFiltersOrder({order:e}))}async function na(e){let{chat:t,hasUnreadMark:n}=e;const{id:s,accessHash:a}=t;await Ss(new V.Api.messages.MarkDialogUnread({peer:new V.Api.InputDialogPeer({peer:Ae(s,a)}),unread:n||void 0}))&&ms({"@type":"updateChat",id:t.id,chat:{hasUnreadMark:n}})}async function sa(e){return ia(await Ss(new V.Api.contacts.ResolvePhone({phone:e})))}async function aa(e){return ia(await Ss(new V.Api.contacts.ResolveUsername({username:e})))}function ia(e){if(!e)return;const{users:t,chats:n}=e,s=n.length?Gt(n[0]):Gt(t[0]);return s?(Sa(e),{chat:s,user:gn(t[0])}):void 0}function oa(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:a}=t,i=Ie(s,a);return Ss(new V.Api.channels.TogglePreHistoryHidden({channel:i,enabled:n}),!0)}function ra(e){let{chat:t,bannedRights:n}=e;const{id:s,accessHash:a}=t,i=Ae(s,a);return Ss(new V.Api.messages.EditChatDefaultBannedRights({peer:i,bannedRights:Ve(n)}),!0)}function ca(e){let{chat:t,user:n,bannedRights:s,untilDate:a}=e;const i=Ie(t.id,t.accessHash),o=Ae(n.id,n.accessHash);return Ss(new V.Api.channels.EditBanned({channel:i,participant:o,bannedRights:Ve(s,a)}),!0)}function da(e){let{chat:t,user:n,adminRights:s,customTitle:a=""}=e;const i=Ie(t.id,t.accessHash),o=Ie(n.id,n.accessHash);return Ss(new V.Api.channels.EditAdmin({channel:i,userId:o,adminRights:Ne(s),rank:a}),!0)}async function ua(e,t){const n=Ie(e.id,e.accessHash);await Ss(n instanceof V.Api.InputChannel?new V.Api.channels.EditTitle({channel:n,title:t}):new V.Api.messages.EditChatTitle({chatId:n,title:t}),!0)}async function la(e,t){await Ss(new V.Api.messages.EditChatAbout({peer:Ae(e.id,e.accessHash),about:t}))&&ms({"@type":"updateChatFullInfo",id:e.id,fullInfo:{about:t}})}function pa(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:a}=t,i=Ie(s,a);return Ss(new V.Api.channels.ToggleSignatures({channel:i,enabled:n}),!0)}async function fa(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"recent",a=arguments.length>3?arguments[3]:void 0;switch(s){case"kicked":n=new V.Api.ChannelParticipantsKicked({q:""});break;case"admin":n=new V.Api.ChannelParticipantsAdmins;break;default:n=new V.Api.ChannelParticipantsRecent}const i=await Ss(new V.Api.channels.GetParticipants({channel:Ie(e,t),filter:n,offset:a,limit:200}));if(!i||i instanceof V.Api.channels.ChannelParticipantsNotModified)return;Sa(i);const{users:o,userStatusesById:r}=yn(i.users);return{members:Qt(i),users:o,userStatusesById:r}}async function ga(){const e=await Ss(new V.Api.channels.GetGroupsForDiscussion);if(e)return Sa(e),e.chats.map((e=>Gt(e)))}function ha(e){let{channel:t,chat:n}=e;return Ss(new V.Api.channels.SetDiscussionGroup({broadcast:Ae(t.id,t.accessHash),group:n?Ae(n.id,n.accessHash):new V.Api.InputChannelEmpty}),!0)}async function ma(e){const t=await Ss(new V.Api.messages.MigrateChat({chatId:Ie(e.id)}),void 0,!0);if(t&&t instanceof V.Api.Updates)return Sa(t),Gt(t.chats[1])}async function ya(e){const t=await Ss(new V.Api.messages.CheckChatInvite({hash:e}));if(!t)return;let n;if(t instanceof V.Api.ChatInvite){const{photo:n,participantsCount:s,title:a,channel:i,requestNeeded:o,about:r,megagroup:c}=t;n instanceof V.Api.Photo&&he(t.photo),ms({"@type":"showInvite",data:{title:a,about:r,hash:e,participantsCount:s,isChannel:i&&!c,isRequestNeeded:o,...n instanceof V.Api.Photo&&{photo:z(n)}}})}else n=Gt(t.chat),n&&ms({"@type":"updateChat",id:n.id,chat:n});return n?{chatId:n.id}:void 0}async function _a(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?await Ss(new V.Api.channels.InviteToChannel({channel:Ie(e.id,e.accessHash),users:t.map((e=>Ie(e.id,e.accessHash)))}),!0,n):await Promise.all(t.map((t=>Ss(new V.Api.messages.AddChatUser({chatId:Ie(e.id),userId:Ie(t.id,t.accessHash)}),!0,n))))}catch(e){return}}function ba(e,t){return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?ca({chat:e,user:t,bannedRights:{viewMessages:!0,sendMessages:!0,sendMedia:!0,sendStickers:!0,sendGifs:!0,sendGames:!0,sendInline:!0,embedLinks:!0,sendPolls:!0,changeInfo:!0,inviteUsers:!0,pinMessages:!0,manageTopics:!0,sendPhotos:!0,sendVideos:!0,sendRoundvideos:!0,sendAudios:!0,sendVoices:!0,sendDocs:!0,sendPlain:!0},untilDate:o}):Ss(new V.Api.messages.DeleteChatUser({chatId:Ie(e.id),userId:Ie(t.id,t.accessHash)}),!0)}function wa(e,t){return Ss(new V.Api.channels.ToggleJoinToSend({channel:Ie(e.id,e.accessHash),enabled:t}),!0)}function va(e,t){return Ss(new V.Api.channels.ToggleJoinRequest({channel:Ie(e.id,e.accessHash),enabled:t}),!0)}function Aa(e,t){const n={};return e.chats?.forEach((e=>{const s=`chat${e.id}`;t?.[s]&&"min"in e&&e.min||(n[s]=e)})),e.users?.forEach((e=>{const s=`user${e.id}`;t?.[s]&&"min"in e&&e.min||(n[s]=e)})),n}function Sa(e){"users"in e&&ye(e.users),"chats"in e&&ye(e.chats),"messages"in e&&e.messages.forEach((e=>{e instanceof V.Api.Message&&Be(e)&&ge(e)}))}async function Ia(e){let{hash:t}=e;const n=await Ss(new V.Api.messages.ImportChatInvite({hash:t}));if(n instanceof V.Api.Updates&&n.chats.length)return Gt(n.chats[0])}function Pa(e){let{chat:t,enabledReactions:n}=e;return Ss(new V.Api.messages.SetChatAvailableReactions({peer:Ae(t.id,t.accessHash),availableReactions:(s=n,"all"===s?.type?new V.Api.ChatReactionsAll({allowCustom:s.areCustomAllowed}):"some"===s?.type?new V.Api.ChatReactionsSome({reactions:s.allowed.map(We)}):new V.Api.ChatReactionsNone)}),!0);var s}function Ca(e){let{chat:t,isProtected:n}=e;const{id:s,accessHash:a}=t;return Ss(new V.Api.messages.ToggleNoForwards({peer:Ae(s,a),enabled:n}),!0)}function Ma(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:a}=t;return Ss(new V.Api.channels.ToggleParticipantsHidden({channel:Ae(s,a),enabled:n}),!0)}function ka(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:a}=t;return Ss(new V.Api.channels.ToggleForum({channel:Ae(s,a),enabled:n}),!0,!0)}async function Ea(e){let{chat:t,title:n,iconColor:s,iconEmojiId:a,sendAs:i}=e;const{id:o,accessHash:r}=t,c=await Ss(new V.Api.channels.CreateForumTopic({channel:Ae(o,r),title:n,iconColor:s,iconEmojiId:a?v()(a):void 0,sendAs:i?Ae(i.id,i.accessHash):void 0,randomId:Ee()}));if(c instanceof V.Api.Updates&&c.updates.length)return c.updates?.find((e=>e instanceof V.Api.UpdateMessageID))?.id}async function Ra(e){let{chat:t,query:n,offsetTopicId:s,offsetId:a,offsetDate:o,limit:r=i}=e;const{id:c,accessHash:d}=t,u=await Ss(new V.Api.channels.GetForumTopics({channel:Ae(c,d),limit:r,q:n,offsetTopic:s,offsetId:a,offsetDate:o}));if(!u)return;Sa(u);const{count:l,orderByCreateDate:p}=u;return{topics:u.topics.map(on).filter(Boolean),messages:u.messages.map(gt).filter(Boolean),users:u.users.map(gn).filter(Boolean),chats:u.chats.map((e=>Gt(e))).filter(Boolean),count:l+1,shouldOrderByCreateDate:p,draftsById:u.topics.reduce(((e,t)=>(t instanceof V.Api.ForumTopic&&t.draft&&(e[t.id]=It(t.draft)),e)),{}),readInboxMessageIdByTopicId:u.topics.reduce(((e,t)=>(t instanceof V.Api.ForumTopic&&t.readInboxMaxId&&(e[t.id]=t.readInboxMaxId),e)),{})}}async function Ua(e){let{chat:t,topicId:n}=e;const{id:s,accessHash:a}=t,i=await Ss(new V.Api.channels.GetForumTopicsByID({channel:Ae(s,a),topics:[n]}));if(!(i?.topics.length&&i.topics[0]instanceof V.Api.ForumTopic))return;Sa(i);const o=i.messages.map(gt).filter(Boolean),r=i.users.map(gn).filter(Boolean),c=i.chats.map((e=>Gt(e))).filter(Boolean);return{topic:on(i.topics[0]),messages:o,users:r,chats:c}}function Ta(e){let{chat:t,topicId:n}=e;const{id:s,accessHash:a}=t;return Ss(new V.Api.channels.DeleteTopicHistory({channel:Ae(s,a),topMsgId:n}),!0)}function Ba(e){let{chat:t,topicId:n,isPinned:s}=e;const{id:a,accessHash:i}=t;return Ss(new V.Api.channels.UpdatePinnedForumTopic({channel:Ae(a,i),topicId:n,pinned:s}),!0)}function Da(e){let{chat:t,topicId:n,title:s,iconEmojiId:a,isClosed:i,isHidden:o}=e;const{id:r,accessHash:c}=t;return Ss(new V.Api.channels.EditForumTopic({channel:Ae(r,c),topicId:n,title:s,iconEmojiId:1!==n&&a?v()(a):void 0,closed:i,hidden:o}),!0)}async function xa(e){let{slug:t}=e;const n=await Ss(new V.Api.chatlists.CheckChatlistInvite({slug:t})),s=function(e,t){return e instanceof V.Api.chatlists.ChatlistInvite?{slug:t,title:e.title,emoticon:e.emoticon,peerIds:e.peers.map(ue).filter(Boolean)}:e instanceof V.Api.chatlists.ChatlistInviteAlready?{slug:t,folderId:e.filterId,missingPeerIds:e.missingPeers.map(ue).filter(Boolean),alreadyPeerIds:e.alreadyPeers.map(ue).filter(Boolean)}:void 0}(n,t);if(n&&s)return Sa(n),{invite:s,users:n.users.map(gn).filter(Boolean),chats:n.chats.map((e=>Gt(e))).filter(Boolean)}}function Va(e){let{slug:t,peers:n}=e;return Ss(new V.Api.chatlists.JoinChatlistInvite({slug:t,peers:n.map((e=>Ae(e.id,e.accessHash)))}),!0,!0)}async function Na(e){let{folderId:t}=e;const n=await Ss(new V.Api.chatlists.GetLeaveChatlistSuggestions({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t})}));if(n)return n.map(ue)}function Fa(e){let{folderId:t,peers:n}=e;return Ss(new V.Api.chatlists.LeaveChatlist({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t}),peers:n.map((e=>Ae(e.id,e.accessHash)))}),!0)}async function qa(e){let{folderId:t,title:n,peers:s}=e;const a=await Ss(new V.Api.chatlists.ExportChatlistInvite({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t}),title:n||"",peers:s.map((e=>Ae(e.id,e.accessHash)))}),void 0,!0);if(a&&!(a.filter instanceof V.Api.DialogFilterDefault))return{filter:Xt(a.filter),invite:rn(a.invite)}}function Oa(e){let{folderId:t,slug:n}=e;return Ss(new V.Api.chatlists.DeleteExportedInvite({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t}),slug:n}))}async function La(e){let{folderId:t,slug:n,title:s,peers:a}=e;const i=await Ss(new V.Api.chatlists.EditExportedInvite({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t}),slug:n,title:s,peers:a.map((e=>Ae(e.id,e.accessHash)))}),void 0,!0);if(i)return rn(i)}async function Ha(e){let{folderId:t}=e;const n=await Ss(new V.Api.chatlists.GetExportedInvites({chatlist:new V.Api.InputChatlistDialogFilter({filterId:t})}));if(n)return Sa(n),{invites:n.invites.map(rn).filter(Boolean),users:n.users.map(gn).filter(Boolean),chats:n.chats.map((e=>Gt(e))).filter(Boolean)}}function Ga(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function ja(e,t){const n=await async function(e){return(await fetch(e)).blob()}(e);return function(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}(n,t)}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...s}=n;super(e,{type:t}),Ga(this,"name",void 0),Object.assign(this,s)}else super(e),Ga(this,"name",void 0);this.name=t}});var Ka=n(48764).lW;let Wa;async function za(e){let{chat:t,threadId:n,offsetId:s,...a}=e;const i=n===H._f?V.Api.messages.GetHistory:V.Api.messages.GetReplies;let r;try{r=await Ss(new i({peer:Ae(t.id,t.accessHash),...n!==H._f&&{msgId:Number(n)},...s&&{offsetId:Math.min(s,o)},...a}),void 0,!0)}catch(e){"CHANNEL_PRIVATE"===e.message&&Wa({"@type":"updateChat",id:t.id,chat:{isRestricted:!0}})}if(!r||r instanceof V.Api.messages.MessagesNotModified||!r.messages)return;Ii(r);const c=r.messages.map(gt).filter(Boolean),d=r.users.map(gn).filter(Boolean),u=r.chats.map((e=>Gt(e))).filter(Boolean),l=c.map((e=>{let{repliesThreadInfo:t}=e;return t})).filter(Boolean);return{messages:c,users:d,chats:u,repliesThreadInfos:l}}async function $a(e){let{chat:t,messageId:n}=e;const s="channel"===we(t.id);let a;try{a=await Ss(s?new V.Api.channels.GetMessages({channel:Ie(t.id,t.accessHash),id:[new V.Api.InputMessageID({id:n})]}):new V.Api.messages.GetMessages({id:[new V.Api.InputMessageID({id:n})]}),void 0,!0)}catch(e){const{message:t}=e;"CHANNEL_PRIVATE"!==t&&Wa({"@type":"error",error:{message:t,isSlowMode:!1,hasErrorKey:!0}})}if(!a||a instanceof V.Api.messages.MessagesNotModified)return;const i=a.messages[0];if(!i)return;if(i instanceof V.Api.MessageEmpty)return H._Q;const o=i&&gt(i);return o?(i instanceof V.Api.Message&&ge(i),{message:o,users:a.users.map(gn).filter(Boolean)}):void 0}let Ja=Promise.resolve(),Qa=Promise.resolve();function Za(e,t){let{chat:n,text:s,entities:a,replyingTo:i,replyingToTopId:o,attachment:r,sticker:c,gif:d,poll:u,contact:g,isSilent:h,scheduledAt:m,groupedId:y,noWebPage:_,sendAs:b,shouldUpdateStickerSetOrder:w}=e;const v=function(e,t,n,s,a,i,o,r,c,d,u,g,h){const m=pt(e.lastMessage?.id),y=i&&function(e){const{filename:t,blobUrl:n,previewBlobUrl:s,mimeType:a,size:i,audio:o,shouldSendAsFile:r,shouldSendAsSpoiler:c}=e;if(!r){if(e.quick){if(l.has(a)){const{width:t,height:s}=e.quick;return{photo:{id:dt,sizes:[],thumbnail:{width:t,height:s,dataUri:n},blobUrl:n,isSpoiler:c}}}if(p.has(a)){const{width:o,height:r,duration:d}=e.quick;return{video:{id:dt,mimeType:a,duration:d||0,fileName:t,width:o,height:r,blobUrl:n,...s&&{thumbnail:{width:o,height:r,dataUri:s}},size:i,isSpoiler:c}}}}if(e.voice){const{duration:t,waveform:n}=e.voice,{data:s}=ae(n,63);return{voice:{id:dt,duration:t,waveform:s}}}if(f.has(a)){const{duration:e,performer:n,title:s}=o||{};return{audio:{id:dt,mimeType:a,fileName:t,size:i,duration:e||0,title:s,performer:n}}}}return{document:{mimeType:a,fileName:t,size:i,...s&&{previewBlobUrl:s}}}}(i),_="chatTypeChannel"===e.type,b=e.isForum,w={id:m,chatId:e.id,content:{...t&&{text:{text:t,entities:n}},...y,...o&&{sticker:o},...r&&{video:r},...c&&xt(c,m),...d&&{contact:d}},date:g||Math.round(Date.now()/1e3)+(0,L.Qj)(),isOutgoing:!_,senderId:h?.id||ut,...s&&{replyToMessageId:s},...a&&{replyToTopMessageId:a},...(s||a)&&b&&{isTopicReply:!0},...u&&{groupedId:u,...y&&(y.photo||y.video)&&{isInAlbum:!0}},...g&&{isScheduled:!0},isForwardingAllowed:!0},v=rt(w.content,w.groupedId);return{...w,...v&&{emojiOnlyCount:v}}}(n,s,a,i,o,r,c,d,u,g,y,m,b);Wa({"@type":v.isScheduled?"newScheduledMessage":"newMessage",id:v.id,chatId:n.id,message:v});const A=setTimeout((()=>{Wa({"@type":v.isScheduled?"updateScheduledMessage":"updateMessage",id:v.id,chatId:n.id,message:{sendingState:"messageSendingStatePending"}})}),1e3),S=Ee();return y?function(e,t,n,s){let{chat:a,text:i,entities:o,replyingTo:r,replyingToTopId:c,attachment:d,groupedId:u,isSilent:l,scheduledAt:p,sendAs:f}=e,g=-1;Xa[u]||(Xa[u]={counter:0,singleMediaByIndex:{},localMessages:{}}),g=Xa[u].counter++;const h=Ja;return Ja=(async()=>{let e;try{e=await ti(n,d,s)}catch(e){return Xa[u].counter--,void await h}const m=await async function(e,t){const n=await Ss(new V.Api.messages.UploadMedia({peer:e,media:t})),s=t.spoiler;if(n instanceof V.Api.MessageMediaPhoto&&n.photo&&n.photo instanceof V.Api.Photo){const{photo:{id:e,accessHash:t,fileReference:a}}=n;return new V.Api.InputMediaPhoto({id:new V.Api.InputPhoto({id:e,accessHash:t,fileReference:a}),spoiler:s})}if(n instanceof V.Api.MessageMediaDocument&&n.document&&n.document instanceof V.Api.Document){const{document:{id:e,accessHash:t,fileReference:a}}=n;return new V.Api.InputMediaDocument({id:new V.Api.InputDocument({id:e,accessHash:t,fileReference:a}),spoiler:s})}}(Ae(a.id,a.accessHash),e);if(await h,!m)return void Xa[u].counter--;if(Xa[u].singleMediaByIndex[g]=new V.Api.InputSingleMedia({media:m,randomId:t,message:i||"",entities:o?o.map(Te):void 0}),Xa[u].localMessages[t.toString()]=n,Object.keys(Xa[u].singleMediaByIndex).length<Xa[u].counter)return;const{singleMediaByIndex:y,localMessages:_}=Xa[u];delete Xa[u];const b=await Ss(new V.Api.messages.SendMultiMedia({clearDraft:!0,peer:Ae(a.id,a.accessHash),multiMedia:Object.values(y),replyToMsgId:r,...c&&{topMsgId:c},...l&&{silent:l},...p&&{scheduleDate:p},...f&&{sendAs:Ae(f.id,f.accessHash)}}),!1,void 0,!0);b&&Ni(_,b)})(),Qa=Ja,Ja}({chat:n,text:s,entities:a,replyingTo:i,replyingToTopId:o,attachment:r,groupedId:y,isSilent:h,scheduledAt:m},S,v,t):(Qa=(async()=>{let e;if(r)try{e=await ti(v,r,t)}catch(e){return void await Ja}else c?e=Me(c):d?e=Me(d):u?e=function(e,t){const{summary:n,quiz:s}=e,a=new V.Api.Poll({id:t,publicVoters:n.isPublic,question:n.question,answers:n.answers.map((e=>{let{text:t,option:n}=e;return new V.Api.PollAnswer({text:t,option:be(n)})})),quiz:n.quiz,multipleChoice:n.multipleChoice});if(!s)return new V.Api.InputMediaPoll({poll:a});const i=s.correctAnswers.map(be),{solution:o}=s,r=s.solutionEntities?s.solutionEntities.map(Te):[];return new V.Api.InputMediaPoll({poll:a,correctAnswers:i,...o&&{solution:o,solutionEntities:r}})}(u,S):g&&(e=new V.Api.InputMediaContact({phoneNumber:g.phoneNumber,firstName:g.firstName,lastName:g.lastName,vcard:""}));const l=e?V.Api.messages.SendMedia:V.Api.messages.SendMessage;try{const t=await Ss(new l({clearDraft:!0,message:s||"",entities:a?a.map(Te):void 0,peer:Ae(n.id,n.accessHash),randomId:S,...h&&{silent:h},...m&&{scheduleDate:m},...i&&{replyToMsgId:i},...o&&{topMsgId:o},...e&&{media:e},..._&&{noWebpage:_},...b&&{sendAs:Ae(b.id,b.accessHash)},...w&&{updateStickersetsOrder:w}}),!1,!0,!0);t&&Fi(v,t)}catch(e){Wa({"@type":"updateMessageSendFailed",chatId:n.id,localId:v.id,error:e.message}),clearTimeout(A)}})(),Qa)}const Xa={};async function Ya(e){let{chat:t,message:n,text:s,entities:a,noWebPage:i}=e;const o=1e3*n.date>Date.now()+1e3*(0,L.Qj)();let r={content:{...n.content,...s&&{text:{text:s,entities:a}}}};const c=rt(r.content,r.groupedId);r={...r,emojiOnlyCount:c},Wa({"@type":o?"updateScheduledMessage":"updateMessage",id:n.id,chatId:t.id,message:r});const d=a&&a.map(Te);await Ss(new V.Api.messages.EditMessage({message:s||"",entities:d,peer:Ae(t.id,t.accessHash),id:n.id,...o&&{scheduleDate:n.date},...i&&{noWebpage:i}}),!0)}async function ei(e){let{chat:t,message:n,scheduledAt:s}=e;await Ss(new V.Api.messages.EditMessage({peer:Ae(t.id,t.accessHash),id:n.id,scheduleDate:s}),!0)}async function ti(e,t,n){const{filename:s,blobUrl:a,mimeType:i,quick:o,voice:r,audio:c,previewBlobUrl:d,shouldSendAsFile:f,shouldSendAsSpoiler:g}=t,h=t=>{n.isCanceled?h.isCanceled=!0:n(t,e.id)},m=await ja(a,s),y=await Cs(m,h),_=d&&await ja(d,s),b=_?await Cs(_):void 0,w=[new V.Api.DocumentAttributeFilename({fileName:s})];if(!f){if(o){if(l.has(i)&&i!==u)return new V.Api.InputMediaUploadedPhoto({file:y,spoiler:g});if(p.has(i)){const{width:e,height:t,duration:n}=o;void 0!==n&&w.push(new V.Api.DocumentAttributeVideo({duration:n,w:e,h:t,supportsStreaming:!0}))}}if(c){const{duration:e,title:t,performer:n}=c;w.push(new V.Api.DocumentAttributeAudio({duration:e,title:t,performer:n}))}if(r){const{duration:e,waveform:t}=r,{data:n}=ae(t,63);w.push(new V.Api.DocumentAttributeAudio({voice:!0,duration:e,waveform:Ka.from(n)}))}}return new V.Api.InputMediaUploadedDocument({file:y,mimeType:i,attributes:w,thumb:b,forceFile:f,spoiler:g})}async function ni(e){let{chat:t,messageId:n,isUnpin:s,isOneSide:a,isSilent:i}=e;await Ss(new V.Api.messages.UpdatePinnedMessage({peer:Ae(t.id,t.accessHash),id:n,...s&&{unpin:!0},...a&&{pmOneside:!0},...i&&{silent:!0}}))}async function si(e){let{chat:t,threadId:n}=e;await Ss(new V.Api.messages.UnpinAllMessages({peer:Ae(t.id,t.accessHash),...n&&{topMsgId:n}}),!0)}async function ai(e){let{chat:t,messageIds:n,shouldDeleteForAll:s}=e;const a="channel"===we(t.id);await Ss(a?new V.Api.channels.DeleteMessages({channel:Ie(t.id,t.accessHash),id:n}):new V.Api.messages.DeleteMessages({id:n,...s&&{revoke:!0}}))&&Wa({"@type":"deleteMessages",ids:n,...a&&{chatId:t.id}})}function ii(e){let{chat:t,messageIds:n}=e;Ss(new V.Api.messages.DeleteScheduledMessages({peer:Ae(t.id,t.accessHash),id:n}))}async function oi(e){let{chat:t,shouldDeleteForAll:n}=e;const s="channel"===we(t.id),a=await Ss(s?new V.Api.channels.DeleteHistory({channel:Ie(t.id,t.accessHash)}):new V.Api.messages.DeleteHistory({peer:Ae(t.id,t.accessHash),...n&&{revoke:!0},...!n&&{just_clear:!0}}));a&&("offset"in a&&a.offset?await oi({chat:t,shouldDeleteForAll:n}):Wa({"@type":"deleteHistory",chatId:t.id}))}async function ri(e){let{peer:t,messageIds:n,reason:s,description:a}=e;return await Ss(new V.Api.messages.Report({peer:Ae(t.id,t.accessHash),id:n,reason:Oe(s),message:a}))}async function ci(e){let{peer:t,threadId:n,action:s}=e;const a=function(e){switch(e.type){case"cancel":return new V.Api.SendMessageCancelAction;case"typing":return new V.Api.SendMessageTypingAction;case"recordAudio":return new V.Api.SendMessageRecordAudioAction;case"chooseSticker":return new V.Api.SendMessageChooseStickerAction;case"playingGame":return new V.Api.SendMessageGamePlayAction}}(s);if(a)try{return await Ss(new V.Api.messages.SetTyping({peer:Ae(t.id,t.accessHash),topMsgId:n,action:a}),void 0,!0)}catch(e){}}async function di(e){let{chat:t,threadId:n,maxId:s=0}=e;const a="channel"===we(t.id),i=Math.min(s,o);a&&n===H._f?await Ss(new V.Api.channels.ReadHistory({channel:Ie(t.id,t.accessHash),maxId:i})):a?await Ss(new V.Api.messages.ReadDiscussion({peer:Ae(t.id,t.accessHash),msgId:n,readMaxId:i})):await Ss(new V.Api.messages.ReadHistory({peer:Ae(t.id,t.accessHash),maxId:i})),n===H._f?Vs({chat:t,noLastMessage:!0}):pi({chat:t,threadId:n})}async function ui(e){let{chat:t,messageIds:n}=e;const s="channel"===we(t.id);await Ss(s?new V.Api.channels.ReadMessageContents({channel:Ie(t.id,t.accessHash),id:n}):new V.Api.messages.ReadMessageContents({id:n})),Wa({...s?{"@type":"updateChannelMessages",channelId:t.id}:{"@type":"updateCommonBoxMessages"},ids:n,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}})}async function li(e){let{chat:t,ids:n,shouldIncrement:s}=e;const a=await Ss(new V.Api.messages.GetMessagesViews({peer:Ae(t.id,t.accessHash),id:n,increment:s}));if(a)return n.map(((e,t)=>{const{views:n,forwards:s,replies:i}=a.views[t];return{id:e,views:n,forwards:s,messagesCount:i?.replies,recentReplierIds:i?.recentRepliers?.map(ue),maxId:i?.maxId,readMaxId:i?.readMaxId}}))}async function pi(e){let{chat:t,threadId:n,originChannelId:s}=e;if(n===H._f)return;const[a,i]=await Promise.all([Ss(new V.Api.messages.GetDiscussionMessage({peer:Ae(t.id,t.accessHash),msgId:Number(n)})),Ss(new V.Api.messages.GetReplies({peer:Ae(t.id,t.accessHash),msgId:Number(n),offsetId:1,addOffset:-1,limit:1}))]);if(!a||!a.messages.length)return;const o=pe(a.messages[0]);if(!o)return;const r=a.messages[a.messages.length-1].id;return Wa({"@type":"updateThreadInfo",chatId:o,threadId:r,threadInfo:{threadId:r,topMessageId:r,lastReadInboxMessageId:a.readInboxMaxId,messagesCount:i instanceof V.Api.messages.ChannelMessages?i.count:void 0,lastMessageId:a.maxId,...s?{originChannelId:s}:void 0},firstMessageId:i&&"messages"in i&&i.messages.length?i.messages[0].id:void 0}),a.chats.map((e=>Gt(e))).filter(Boolean).forEach((e=>{Wa({"@type":"updateChat",id:e.id,chat:e,noTopChatsRequest:!0})})),t.isForum&&Wa({"@type":"updateTopic",chatId:t.id,topicId:n}),ye(a.users),ye(a.chats),{topMessageId:r,discussionChatId:o,users:a.users.map(gn).filter(Boolean)}}async function fi(e){let t,{chat:n,type:s,query:a,topMessageId:i,minDate:o,maxDate:r,...c}=e;switch(s){case"media":t=new V.Api.InputMessagesFilterPhotoVideo;break;case"documents":t=new V.Api.InputMessagesFilterDocument;break;case"links":t=new V.Api.InputMessagesFilterUrl;break;case"audio":t=new V.Api.InputMessagesFilterMusic;break;case"voice":t=new V.Api.InputMessagesFilterRoundVoice;break;case"profilePhoto":t=new V.Api.InputMessagesFilterChatPhotos;break;default:t=new V.Api.InputMessagesFilterEmpty}const d=await Ss(new V.Api.messages.Search({peer:Ae(n.id,n.accessHash),topMsgId:i,filter:t,q:a||"",minDate:o,maxDate:r,...c}));if(!d||d instanceof V.Api.messages.MessagesNotModified||!d.messages)return;Ii(d);const u=d.chats.map((e=>Gt(e))).filter(Boolean),l=d.users.map(gn).filter(Boolean),p=d.messages.map(gt).filter(Boolean);let f,g=p.length;return(d instanceof V.Api.messages.MessagesSlice||d instanceof V.Api.messages.ChannelMessages)&&(g=d.count,p.length&&(f=p[p.length-1].id)),{chats:u,users:l,messages:p,totalCount:g,nextOffsetId:f}}async function gi(e){let t,{query:n,offsetRate:s=0,limit:a,type:i="text",minDate:o,maxDate:r}=e;switch(i){case"media":t=new V.Api.InputMessagesFilterPhotoVideo;break;case"documents":t=new V.Api.InputMessagesFilterDocument;break;case"links":t=new V.Api.InputMessagesFilterUrl;break;case"audio":t=new V.Api.InputMessagesFilterMusic;break;case"voice":t=new V.Api.InputMessagesFilterRoundVoice;break;default:if(!(n||r&&o))return;t=new V.Api.InputMessagesFilterEmpty}const c=await Ss(new V.Api.messages.SearchGlobal({q:n,offsetRate:s,offsetPeer:new V.Api.InputPeerEmpty,limit:a,filter:t,folderId:0,minDate:o,maxDate:r}));if(!c||c instanceof V.Api.messages.MessagesNotModified||!c.messages)return;Ii({chats:c.chats,users:c.users,messages:c.messages});const d=c.chats.map((e=>Gt(e))).filter(Boolean),u=c.users.map(gn).filter(Boolean),l=c.messages.map(gt).filter(Boolean);let p,f=l.length;return(c instanceof V.Api.messages.MessagesSlice||c instanceof V.Api.messages.ChannelMessages)&&(f=c.count,l.length&&(p=l[l.length-1].id)),{messages:l,users:u,chats:d,totalCount:f,nextRate:"nextRate"in c&&c.nextRate?c.nextRate:p}}async function hi(e){let{text:t}=e;const n=$e(t),s=await Ss(new V.Api.messages.GetWebPagePreview({message:n.text,entities:n.entities}));return s&&Ut(s)}async function mi(e){let{chat:t,messageId:n,options:s}=e;const{id:a,accessHash:i}=t;await Ss(new V.Api.messages.SendVote({peer:Ae(a,i),msgId:n,options:s.map(be)}),!0)}async function yi(e){let{chat:t,messageId:n,poll:s}=e;const{id:a,accessHash:i}=t;await Ss(new V.Api.messages.EditMessage({peer:Ae(a,i),id:n,media:ke(s,!0)}))}async function _i(e){let{chat:t,messageId:n,option:s,offset:a,limit:i,shouldResetVoters:o}=e;const{id:r,accessHash:c}=t,d=await Ss(new V.Api.messages.GetPollVotes({peer:Ae(r,c),id:n,...s&&{option:be(s)},...a&&{offset:a},...i&&{limit:i}}));if(!d)return;Ii({chats:[],users:d.users,messages:[]});const u=d.users.map(gn).filter(Boolean),l=d.votes.map((e=>({userId:e.userId,date:e.date})));return{count:d.count,votes:l,users:u,nextOffset:d.nextOffset,shouldResetVoters:o}}async function bi(e){let{chat:t,ids:n}=e;await Ss(new V.Api.messages.GetExtendedMedia({peer:Ae(t.id,t.accessHash),id:n}))}async function wi(e){let{fromChat:t,toChat:n,toThreadId:s,messages:a,isSilent:i,scheduledAt:o,sendAs:r,withMyScore:c,noAuthors:d,noCaptions:u,isCurrentUserPremium:l}=e;const p=a.map((e=>{let{id:t}=e;return t})),f=a.map(Ee),g={};a.forEach(((e,t)=>{const a=function(e){let{toChat:t,toThreadId:n,message:s,scheduledAt:a,noAuthors:i,noCaptions:o,isCurrentUserPremium:r}=e;const c=pt(t?.lastMessage?.id),{content:d,chatId:u,id:l,senderId:p,groupedId:f,isInAlbum:g}=s,h=d.audio,m=t.id===ut&&(u!==t.id||s.forwardInfo)&&!h,y=Object.keys(d).length>1&&d.text&&o,_=!r,b=d.text?.entities&&_?{text:d.text.text,entities:d.text.entities.filter((e=>e.type!==H.Vv.CustomEmoji))}:d.text,w=rt(d,f),v={...d,text:y?void 0:b};return{id:c,chatId:t.id,content:v,date:a||Math.round(Date.now()/1e3)+(0,L.Qj)(),isOutgoing:!m&&"chatTypeChannel"!==t.type,senderId:ut,sendingState:"messageSendingStatePending",groupedId:f,isInAlbum:g,isForwardingAllowed:!0,replyToTopMessageId:n,...n&&t?.isForum&&{isTopicReply:!0},...w&&{emojiOnlyCount:w},...s.chatId!==ut&&!h&&!i&&{forwardInfo:{date:s.date,isChannelPost:!1,fromChatId:u,fromMessageId:l,senderUserId:p}},...s.chatId===ut&&!i&&{forwardInfo:s.forwardInfo},...a&&{isScheduled:!0}}}({toChat:n,toThreadId:s,message:e,scheduledAt:o,noAuthors:d,noCaptions:u,isCurrentUserPremium:l});g[f[t].toString()]=a,Wa({"@type":a.isScheduled?"newScheduledMessage":"newMessage",id:a.id,chatId:n.id,message:a})})),await Qa;const h=await Ss(new V.Api.messages.ForwardMessages({fromPeer:Ae(t.id,t.accessHash),toPeer:Ae(n.id,n.accessHash),randomId:f,id:p,withMyScore:c||void 0,silent:i||void 0,dropAuthor:d||void 0,dropMediaCaptions:u||void 0,...s&&{topMsgId:s},...o&&{scheduleDate:o},...r&&{sendAs:Ae(r.id,r.accessHash)}}),!1,void 0,!0);h&&Ni(g,h)}async function vi(e){let{chat:t,timestamp:n}=e;const s=await Ss(new V.Api.messages.GetHistory({peer:Ae(t.id,t.accessHash),offsetDate:n,addOffset:-1,limit:1}));if(s&&!(s instanceof V.Api.messages.MessagesNotModified)&&s.messages&&s.messages.length)return s.messages[0].id}async function Ai(e){let{chat:t}=e;const{id:n,accessHash:s}=t,a=await Ss(new V.Api.messages.GetScheduledHistory({peer:Ae(n,s)}));if(a&&!(a instanceof V.Api.messages.MessagesNotModified)&&a.messages)return Ii(a),{messages:a.messages.map(gt).filter(Boolean)}}async function Si(e){let{chat:t,ids:n}=e;const{id:s,accessHash:a}=t;await Ss(new V.Api.messages.SendScheduledMessages({peer:Ae(s,a),id:n}),!0)}function Ii(e){ye(e.users),ye(e.chats),e.messages.forEach((e=>{(e instanceof V.Api.Message&&Be(e)||e instanceof V.Api.MessageService&&function(e){return"photo"in e.action&&e.action.photo instanceof V.Api.Photo}(e))&&ge(e)}))}async function Pi(e){let{chat:t,threadId:n}=e;const s=await Ss(new V.Api.messages.Search({peer:Ae(t.id,t.accessHash),filter:new V.Api.InputMessagesFilterPinned,q:"",limit:50,topMsgId:n}));if(!s||s instanceof V.Api.messages.MessagesNotModified||!s.messages)return;Ii(s);const a=s.chats.map((e=>Gt(e))).filter(Boolean),i=s.users.map(gn).filter(Boolean);return{messages:s.messages.map(gt).filter(Boolean),users:i,chats:a}}async function Ci(e){let{chat:t,messageId:n}=e;const s=await Ss(new V.Api.messages.GetMessageReadParticipants({peer:Ae(t.id,t.accessHash),msgId:n}));return s?s.reduce(((e,t)=>(e[t.userId.toString()]=t.date,e)),{}):void 0}async function Mi(e){let{chat:t}=e;const n=await Ss(new V.Api.channels.GetSendAs({peer:Ae(t.id,t.accessHash)}),void 0,void 0,void 0,void 0,!0);if(n)return ye(n.users),ye(n.chats),{users:n.users.map(gn).filter(Boolean),chats:n.chats.map((e=>Gt(e))).filter(Boolean),sendAs:n.peers.map(an)}}function ki(e){let{sendAs:t,chat:n}=e;return Ss(new V.Api.messages.SaveDefaultSendAs({peer:Ae(n.id,n.accessHash),sendAs:Ae(t.id,t.accessHash)}))}async function Ei(e){let{chat:t}=e;const n=await Ss(new V.Api.channels.GetSponsoredMessages({channel:Ae(t.id,t.accessHash)}));if(n&&!(n instanceof V.Api.messages.SponsoredMessagesEmpty)&&n.messages.length)return Ii(n),{messages:n.messages.map(ft).filter(Boolean),users:n.users.map(gn).filter(Boolean),chats:n.chats.map((e=>Gt(e))).filter(Boolean)}}async function Ri(e){let{chat:t,random:n}=e;await Ss(new V.Api.channels.ViewSponsoredMessage({channel:Ae(t.id,t.accessHash),randomId:be(n)}))}function Ui(e){let{chat:t}=e;return Ss(new V.Api.messages.ReadMentions({peer:Ae(t.id,t.accessHash)}),!0)}function Ti(e){let{chat:t}=e;return Ss(new V.Api.messages.ReadReactions({peer:Ae(t.id,t.accessHash)}),!0)}async function Bi(e){let{chat:t,...n}=e;const s=await Ss(new V.Api.messages.GetUnreadMentions({peer:Ae(t.id,t.accessHash),limit:100,...n}));if(s&&!(s instanceof V.Api.messages.MessagesNotModified)&&s.messages)return Ii(s),{messages:s.messages.map(gt).filter(Boolean),users:s.users.map(gn).filter(Boolean),chats:s.chats.map((e=>Gt(e))).filter(Boolean)}}async function Di(e){let{chat:t,...n}=e;const s=await Ss(new V.Api.messages.GetUnreadReactions({peer:Ae(t.id,t.accessHash),limit:100,...n}));if(s&&!(s instanceof V.Api.messages.MessagesNotModified)&&s.messages)return Ii(s),{messages:s.messages.map(gt).filter(Boolean),users:s.users.map(gn).filter(Boolean),chats:s.chats.map((e=>Gt(e))).filter(Boolean)}}async function xi(e){let{chat:t,messageId:n}=e;const s=await Ss(new V.Api.messages.TranscribeAudio({msgId:n,peer:Ae(t.id,t.accessHash)}));if(s)return Wa({"@type":"updateTranscribedAudio",isPending:s.pending,transcriptionId:s.transcriptionId.toString(),text:s.text}),s.transcriptionId.toString()}async function Vi(e){let t;const n="chat"in e;if(n){const{chat:n,messageIds:s,toLanguageCode:a}=e;t=await Ss(new V.Api.messages.TranslateText({peer:Ae(n.id,n.accessHash),id:s,toLang:a}))}else{const{text:n,toLanguageCode:s}=e;t=await Ss(new V.Api.messages.TranslateText({text:n.map((e=>$e(e))),toLang:s}))}if(!t)return;const s=t.result.map((e=>function(e){const{text:t,entities:n}=e;return{text:t,entities:n.map(Vt)}}(e)));return n&&Wa({"@type":"updateMessageTranslations",chatId:e.chat.id,messageIds:e.messageIds,translations:s,toLanguageCode:e.toLanguageCode}),s}function Ni(e,t){"updates"in t&&t.updates.forEach((t=>{t instanceof V.Api.UpdateMessageID?Fi(e[t.randomId.toString()],t):Bn(t)}))}function Fi(e,t){let n,s;if(t instanceof V.Api.UpdateShortSentMessage||t instanceof V.Api.UpdateMessageID?n=t:"updates"in t&&(n=t.updates.find((e=>e instanceof V.Api.UpdateMessageID))),!n)return void Is(t);if(n instanceof V.Api.UpdateShortSentMessage){e.content.text&&n.entities&&(s={text:St(e.content.text.text,n.entities)}),n.media&&(s={...s,...Pt(n.media)});const t=Ue(n.id,e.chatId,n);Be(t)&&ge(t)}const a="date"in n&&1e3*n.date<Date.now()+1e3*(0,L.Qj)();Wa({"@type":e.isScheduled&&!a?"updateScheduledMessageSendSucceeded":"updateMessageSendSucceeded",chatId:e.chatId,localId:e.id,message:{...e,...s&&{content:{...e.content,...s}},id:n.id,sendingState:void 0,..."date"in n&&{date:n.date}}}),Is(t)}let qi,Oi,Li,Hi;async function Gi(e){let{id:t,accessHash:n}=e;const s=Ie(t,n);if(!(s instanceof V.Api.InputUser))return;const a=await Ss(new V.Api.users.GetFullUser({id:s}));if(!a)return;to(a),me(a.users[0],!0),a.fullUser.profilePhoto instanceof V.Api.Photo&&(B.photos[a.fullUser.profilePhoto.id.toString()]=a.fullUser.profilePhoto),a.fullUser.personalPhoto instanceof V.Api.Photo&&(B.photos[a.fullUser.personalPhoto.id.toString()]=a.fullUser.personalPhoto),a.fullUser.fallbackPhoto instanceof V.Api.Photo&&(B.photos[a.fullUser.fallbackPhoto.id.toString()]=a.fullUser.fallbackPhoto);const i=a.fullUser.botInfo;i?.descriptionPhoto instanceof V.Api.Photo&&(B.photos[i.descriptionPhoto.id.toString()]=i.descriptionPhoto),i?.descriptionDocument instanceof V.Api.Document&&(B.documents[i.descriptionDocument.id.toString()]=i.descriptionDocument);const o=fn(a),r=gn(a.users[0]);return qi({"@type":"updateUser",id:t,user:{...r,avatarHash:r?.avatarHash||void 0},fullInfo:o}),{user:r,fullInfo:o}}async function ji(e,t,n){const s=await Ss(new V.Api.messages.GetCommonChats({userId:Ie(e,t),maxId:n?He(n,we(n)):void 0,limit:100}));if(!s)return;to(s);const a=[],i=[];return s.chats.forEach((e=>{const t=Gt(e);t&&(i.push(t),a.push(t.id))})),{chats:i,chatIds:a,isFullyLoaded:a.length<100}}async function Ki(){return(await Ss(new V.Api.help.GetNearestDc))?.country}async function Wi(){const e=await Ss(new V.Api.contacts.GetTopPeers({correspondents:!0}));if(!(e instanceof V.Api.contacts.TopPeers))return;const t=e.users.map(gn).filter((e=>Boolean(e)&&!e.isSelf));return{ids:t.map((e=>{let{id:t}=e;return t})),users:t}}async function zi(){const e=await Ss(new V.Api.contacts.GetContacts({hash:v()("0")}));if(!e||e instanceof V.Api.contacts.ContactsNotModified)return;e.users.forEach((e=>{e instanceof V.Api.User&&me(e,!0)}));const{users:t,userStatusesById:n}=yn(e.users);return{users:t,userStatusesById:n,chats:e.users.map((e=>Gt(e))).filter(Boolean)}}async function $i(e){let{users:t}=e;const n=await Ss(new V.Api.users.GetUsers({id:t.map((e=>{let{id:t,accessHash:n}=e;return Ae(t,n)}))}));if(n&&n.length)return n.forEach((e=>{e instanceof V.Api.User&&me(e,!0)})),yn(n)}async function Ji(e){let{phone:t,firstName:n,lastName:s}=e;const a=await Ss(new V.Api.contacts.ImportContacts({contacts:[xe({phone:t||"",firstName:n||"",lastName:s||""})]}));return a instanceof V.Api.contacts.ImportedContacts&&a.users.length&&me(a.users[0]),a?.imported.length?de(a.imported[0].userId,"user"):void 0}function Qi(e){let{id:t,accessHash:n,phoneNumber:s="",firstName:a="",lastName:i="",shouldSharePhoneNumber:o=!1}=e;return Ss(new V.Api.contacts.AddContact({id:Ie(t,n),firstName:a,lastName:i,phone:s,...o&&{addPhonePrivacyException:o}}),!0)}async function Zi(e){let{id:t,accessHash:n}=e;const s=Ie(t,n);s instanceof V.Api.InputUser&&await Ss(new V.Api.contacts.DeleteContacts({id:[s]}))&&qi({"@type":"deleteContact",id:t})}async function Xi(e,t){if(e){const{id:t,accessHash:n}=e,s=await Ss(new V.Api.photos.GetUserPhotos({userId:Ie(t,n),limit:40,offset:0,maxId:v()("0")}));if(!s)return;return to(s),{photos:s.photos.filter((e=>e instanceof V.Api.Photo)).map((e=>z(e))),users:s.users.map(gn).filter(Boolean)}}const n=await fi({chat:t,type:"profilePhoto",limit:40});if(!n)return;const{messages:s,users:a}=n;return{photos:s.map((e=>e.content.action.photo)).filter(Boolean),users:a}}function Yi(e){const{id:t,accessHash:n}=e;return Ss(new V.Api.messages.ReportSpam({peer:Ae(t,n)}),!0)}function eo(e,t){return Ss(new V.Api.account.UpdateEmojiStatus({emojiStatus:ze(e,t)}),!0)}function to(e){"chats"in e&&ye(e.chats),"photos"in e&&e.photos.forEach(he),"users"in e&&ye(e.users)}async function no(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetEmojiStickers({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.AllStickersNotModified))return n.sets.forEach((e=>{(e.thumbs?.length||e.thumbDocumentId)&&(B.stickerSets[String(e.id)]=e)})),{hash:String(n.hash),sets:n.sets.map(ee)}}async function so(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetAllStickers({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.AllStickersNotModified))return n.sets.forEach((e=>{e.thumbs?.length&&(B.stickerSets[String(e.id)]=e)})),{hash:String(n.hash),sets:n.sets.map(ee)}}async function ao(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetRecentStickers({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.RecentStickersNotModified))return{hash:String(n.hash),stickers:se(n.stickers.slice(0,20))}}async function io(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetFavedStickers({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.FavedStickersNotModified))return{hash:String(n.hash),stickers:se(n.stickers)}}async function oo(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetFeaturedStickers({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.FeaturedStickersNotModified))return{hash:String(n.hash),isPremium:Boolean(n.premium),sets:n.sets.map(te)}}async function ro(){const e=await Ss(new V.Api.messages.GetFeaturedEmojiStickers({hash:v()(0)}));if(e&&!(e instanceof V.Api.messages.FeaturedStickersNotModified))return e.sets.forEach((e=>{let{set:t}=e;t.thumbDocumentId&&(B.stickerSets[String(t.id)]=t)})),{isPremium:Boolean(e.premium),sets:e.sets.map(te)}}async function co(e){let{sticker:t,unfave:n}=e;const s=new V.Api.messages.FaveSticker({id:Ce(t),unfave:n});await Ss(s)&&Oi({"@type":"updateFavoriteStickers"})}function uo(e){let{sticker:t}=e;return Ss(new V.Api.messages.SaveRecentSticker({id:Ce(t),unsave:!0}))}function lo(){return Ss(new V.Api.messages.ClearRecentStickers)}async function po(e){let{stickerSetInfo:t}=e;if("isMissing"in t)return;const n=await Ss(new V.Api.messages.GetStickerSet({stickerset:"id"in t?Pe(t.id,t.accessHash):(s=t.shortName,new V.Api.InputStickerSetShortName({shortName:s}))}),void 0,!0);var s;return n instanceof V.Api.messages.StickerSet?(B.stickerSets[String(n.set.id)]=n.set,{set:ee(n.set),stickers:se(n.documents),packs:ne(n.packs)}):void 0}async function fo(e){let{documentId:t}=e;if(!t.length)return;const n=await Ss(new V.Api.messages.GetCustomEmojiDocuments({documentId:t.map((e=>v()(e)))}));return n?se(n):void 0}async function go(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetAnimatedEmoji}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function ho(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetAnimatedEmojiAnimations}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function mo(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetEmojiGenericAnimations}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function yo(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetPremiumGifts}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function _o(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetEmojiDefaultTopicIcons}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function bo(){const e=await Ss(new V.Api.messages.GetStickerSet({stickerset:new V.Api.InputStickerSetEmojiDefaultStatuses}));if(e instanceof V.Api.messages.StickerSet)return{set:ee(e.set),stickers:se(e.documents)}}async function wo(e){let{query:t,hash:n="0"}=e;const s=await Ss(new V.Api.messages.SearchStickerSets({q:t,hash:v()(n)}));if(s&&!(s instanceof V.Api.messages.FoundStickerSetsNotModified))return{hash:String(s.hash),sets:s.sets.map(te)}}async function vo(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetSavedGifs({hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.SavedGifsNotModified))return{hash:String(n.hash),gifs:Eo(n.gifs)}}function Ao(e){let{gif:t,shouldUnsave:n}=e;return Ss(new V.Api.messages.SaveGif({id:Ce(t),unsave:n}),!0)}async function So(e){let{stickerSetId:t,accessHash:n}=e;await Ss(new V.Api.messages.InstallStickerSet({stickerset:Pe(t,n)}))&&Oi({"@type":"updateStickerSet",id:t,stickerSet:{installedDate:Date.now()}})}async function Io(e){let{stickerSetId:t,accessHash:n}=e;await Ss(new V.Api.messages.UninstallStickerSet({stickerset:Pe(t,n)}))&&Oi({"@type":"updateStickerSet",id:t,stickerSet:{installedDate:void 0}})}async function Po(e){let{query:t,offset:n="",username:s=m}=e;if(!Li){const e=await Ss(new V.Api.contacts.ResolveUsername({username:s}));if(!(e&&e.users[0]instanceof V.Api.User))return;Li=new V.Api.InputUser({userId:e.peer.userId,accessHash:e.users[0].accessHash})}const a=await Ss(new V.Api.messages.GetInlineBotResults({bot:Li,peer:new V.Api.InputPeerEmpty,query:t,offset:n}));if(!a)return;const i=a.results.map((e=>{if(e instanceof V.Api.BotInlineMediaResult)return e.document})).filter(Boolean);return{nextOffset:a.nextOffset,gifs:Eo(i)}}async function Co(e){let{emoji:t,hash:n="0"}=e;const s=await Ss(new V.Api.messages.GetStickers({emoticon:t,hash:v()(n)}));if(s&&!(s instanceof V.Api.messages.StickersNotModified))return{stickers:se(s.stickers),hash:String(s.hash)}}async function Mo(e){let{language:t,fromVersion:n}=e;const s=await Ss(new V.Api.messages.GetEmojiKeywordsDifference({langCode:t,fromVersion:n}));if(s)return{language:s.langCode,version:s.version,keywords:s.keywords.reduce(((e,t)=>(e[t.keyword]=t.emoticons,e)),{})}}async function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";const t=await Ss(new V.Api.account.GetRecentEmojiStatuses({hash:v()(e)}));if(!t||t instanceof V.Api.account.EmojiStatusesNotModified)return;const n=t.statuses.slice(0,20).map(mn).filter(Boolean).map((e=>{let{documentId:t}=e;return t})),s=await fo({documentId:n});return{hash:String(t.hash),emojiStatuses:s}}function Eo(e){return e.map((e=>{if(e instanceof V.Api.Document){const t=Ct(e);if(t)return B.documents[String(e.id)]=e,t}})).filter(Boolean)}const Ro=new Set(["USERNAME_PURCHASE_AVAILABLE","USERNAME_INVALID"]);async function Uo(e){let{username:t}=e;try{return{result:await Ss(new V.Api.channels.CheckUsername({channel:new V.Api.InputChannelEmpty,username:t}),void 0,!0),error:void 0}}catch(e){const t=e.message;if(Ro.has(t))return{result:!1,error:t};throw e}}async function To(e){let{chat:t,username:n}=e;const s=await Ss(new V.Api.channels.UpdateUsername({channel:Ie(t.id,t.accessHash),username:n})),a=t.usernames?t.usernames.map((e=>e.isEditable?{...e,username:n}:e)).filter((e=>e.username)):[{username:n,isEditable:!0,isActive:!0}];return s&&Hi({"@type":"updateChat",id:t.id,chat:{usernames:a.length?a:void 0}}),s}async function Bo(e){let{chat:t,usageLimit:n,expireDate:s}=e;const a=await Ss(new V.Api.messages.ExportChatInvite({peer:Ae(t.id,t.accessHash),usageLimit:n,expireDate:s}));if(a instanceof V.Api.ChatInviteExported)return Hi({"@type":"updateChatFullInfo",id:t.id,fullInfo:{inviteLink:a.link}}),a.link}async function Do(e){let{peer:t,admin:n,limit:s=0,isRevoked:a}=e;const i=await Ss(new V.Api.messages.GetExportedChatInvites({peer:Ae(t.id,t.accessHash),adminId:Ie(n.id,n.accessHash),limit:s,revoked:a||void 0}));if(i)return ye(i.users),{invites:i.invites.filter((e=>e instanceof V.Api.ChatInviteExported)).map(tn),users:i.users.map(gn).filter(Boolean)}}async function xo(e){let{peer:t,isRevoked:n,link:s,expireDate:a,usageLimit:i,isRequestNeeded:o,title:r}=e;const c=await Ss(new V.Api.messages.EditExportedChatInvite({link:s,peer:Ae(t.id,t.accessHash),expireDate:a,usageLimit:o?void 0:i,requestNeeded:o,title:r,revoked:n||void 0}));if(c){if(ye(c.users),c instanceof V.Api.messages.ExportedChatInvite&&c.invite instanceof V.Api.ChatInviteExported){const e=tn(c.invite);return{oldInvite:e,newInvite:e,users:c.users.map(gn).filter(Boolean)}}if(c instanceof V.Api.messages.ExportedChatInviteReplaced&&c.invite instanceof V.Api.ChatInviteExported&&c.newInvite instanceof V.Api.ChatInviteExported)return{oldInvite:tn(c.invite),newInvite:tn(c.newInvite),users:c.users.map(gn).filter(Boolean)}}}async function Vo(e){let{peer:t,expireDate:n,usageLimit:s,isRequestNeeded:a,title:i}=e;const o=await Ss(new V.Api.messages.ExportChatInvite({peer:Ae(t.id,t.accessHash),expireDate:n,usageLimit:a?void 0:s,requestNeeded:a||void 0,title:i}));if(o instanceof V.Api.ChatInviteExported)return tn(o)}async function No(e){let{peer:t,link:n}=e;return await Ss(new V.Api.messages.DeleteExportedChatInvite({peer:Ae(t.id,t.accessHash),link:n}))}async function Fo(e){let{peer:t,admin:n}=e;return await Ss(new V.Api.messages.DeleteRevokedExportedChatInvites({peer:Ae(t.id,t.accessHash),adminId:Ie(n.id,n.accessHash)}))}async function qo(e){let{peer:t,link:n,offsetDate:s=0,offsetUser:a,limit:i=0,isRequested:o}=e;const r=await Ss(new V.Api.messages.GetChatInviteImporters({peer:Ae(t.id,t.accessHash),link:n,offsetDate:s,offsetUser:a?Ie(a.id,a.accessHash):new V.Api.InputUserEmpty,limit:i,requested:o||void 0}));if(!r)return;const c=r.users.map((e=>gn(e))).filter(Boolean);return ye(r.users),{importers:r.importers.map((e=>function(e){const{userId:t,date:n,about:s,requested:a,viaChatlist:i}=e;return{userId:de(t,"user"),date:n,about:s,isRequested:a,isFromChatList:i}}(e))),users:N(c,"id")}}function Oo(e){let{peer:t,user:n,isApproved:s}=e;return Ss(new V.Api.messages.HideChatJoinRequest({peer:Ae(t.id,t.accessHash),userId:Ie(n.id,n.accessHash),approved:s||void 0}),!0)}function Lo(e){let{peer:t,isApproved:n,link:s}=e;return Ss(new V.Api.messages.HideAllChatJoinRequests({peer:Ae(t.id,t.accessHash),approved:n||void 0,link:s}),!0)}function Ho(e){const{id:t,accessHash:n}=e;return Ss(new V.Api.messages.HidePeerSettingsBar({peer:Ae(t,n)}))}const Go={EMAIL_UNCONFIRMED:"Email unconfirmed",EMAIL_HASH_EXPIRED:"Email hash expired",NEW_SALT_INVALID:"The new salt is invalid",NEW_SETTINGS_INVALID:"The new password settings are invalid",CODE_INVALID:"Invalid Code",PASSWORD_HASH_INVALID:"Invalid Password"},jo={};let Ko,Wo;async function zo(){const e=await Ss(new V.Api.account.GetPassword);if(!e)return;const{hint:t,hasPassword:n}=e;return{hint:t,hasPassword:n}}function $o(e){return Ko({"@type":"updateTwoFaStateWaitCode",length:e}),new Promise(((e,t)=>{jo.resolve=e,jo.reject=t}))}async function Jo(e){try{return await Ms({isCheckPassword:!0,currentPassword:e}),!0}catch(e){return er(e),!1}}async function Qo(e){try{return await Ms({currentPassword:e}),!0}catch(e){return er(e),!1}}async function Zo(e,t,n,s){try{return await Ms({currentPassword:e,newPassword:t,hint:n,email:s,emailCodeCallback:$o,onEmailCodeError:er}),!0}catch(e){return er(e),!1}}async function Xo(e,t){try{return await Ms({currentPassword:e,newPassword:e,email:t,emailCodeCallback:$o,onEmailCodeError:er}),!0}catch(e){return er(e),!1}}function Yo(e){jo.resolve(e)}function er(e){let t;if(e instanceof V.errors.FloodWaitError){const n=Math.ceil(Number(e.seconds)/60/60);t="Too many attempts. Try again in "+(n>1?`${n} hours`:"an hour")}else t=Go[e.message];t||(t="Unexpected Error"),Ko({"@type":"updateTwoFaError",message:t})}async function tr(e){let{chatId:t,accessHash:n,messageId:s,data:a,isGame:i}=e;const o=await Ss(new V.Api.messages.GetBotCallbackAnswer({peer:Ae(t,n),msgId:s,data:a?be(a):void 0,game:i||void 0}));return o?S(o):void 0}async function nr(){const e=await Ss(new V.Api.contacts.GetTopPeers({botsInline:!0}));if(!(e instanceof V.Api.contacts.TopPeers))return;const t=e.users.map(gn).filter(Boolean);return{ids:t.map((e=>{let{id:t}=e;return t})),users:t}}async function sr(e){let{username:t}=e;const n=await Ss(new V.Api.contacts.ResolveUsername({username:t}));if(n&&n.users[0]instanceof V.Api.User&&n.users[0].bot&&n.users[0].botInlinePlaceholder)return me(n.users[0]),{user:gn(n.users[0]),chat:Gt(n.users[0])}}async function ar(e){let{bot:t,chat:n,query:s,offset:a=""}=e;const i=await Ss(new V.Api.messages.GetInlineBotResults({bot:Ae(t.id,t.accessHash),peer:Ae(n.id,n.accessHash),query:s,offset:a}));var o,r,c,d,u,l;if(i)return ye(i.users),{isGallery:Boolean(i.gallery),help:t.botPlaceholder,nextOffset:(u=t.usernames[0].username,l=i.nextOffset,"gif"===u&&"0"===l?"":l),switchPm:(d=i.switchPm,d?F(d,["text","startParam"]):void 0),switchWebview:(c=i.switchWebview,c?F(c,["text","url"]):void 0),users:i.users.map(gn).filter(Boolean),results:(o=String(i.queryId),r=i.results,r.map((e=>{return e instanceof V.Api.BotInlineMediaResult?(e.document instanceof V.Api.Document&&(t=e.document,B.documents[String(t.id)]=t),e.photo instanceof V.Api.Photo&&(n=e.photo,B.photos[String(n.id)]=n),function(e,t){const{id:n,type:s,title:a,description:i,photo:o,document:r}=e;return{id:n,queryId:t,type:s,title:a,description:i,..."sticker"===s&&r instanceof V.Api.Document&&{sticker:Y(r)},...o instanceof V.Api.Photo&&{photo:z(o)},..."gif"===s&&r instanceof V.Api.Document&&{gif:Ct(r)},..."video"===s&&r instanceof V.Api.Document&&{thumbnail:K(r.thumbs)}}}(e,o)):(e.thumb&&(s=e.thumb,B.webDocuments[s.url]=s),function(e,t){const{id:n,type:s,title:a,description:i,url:o,thumb:r}=e;return{id:n,queryId:t,type:s,title:a,description:i,url:o,webThumbnail:Dt(r)}}(e,o));var t,n,s}))),cacheTime:i.cacheTime}}async function ir(e){let{chat:t,replyingToTopId:n,resultId:s,queryId:a,replyingTo:i,sendAs:o,isSilent:r,scheduleDate:c}=e;const d=Ee();await Ss(new V.Api.messages.SendInlineBotResult({clearDraft:!0,randomId:d,queryId:v()(a),peer:Ae(t.id,t.accessHash),id:s,scheduleDate:c,...n&&{topMsgId:n},...r&&{silent:!0},...i&&{replyToMsgId:i},...o&&{sendAs:Ae(o.id,o.accessHash)}}),!0)}async function or(e){let{bot:t,startParam:n}=e;const s=Ee();await Ss(new V.Api.messages.StartBot({bot:Ae(t.id,t.accessHash),peer:Ae(t.id,t.accessHash),randomId:s,startParam:n}),!0)}async function rr(e){let{isSilent:t,peer:n,bot:s,url:a,startParam:i,replyToMessageId:o,threadId:r,theme:c,sendAs:d,isFromBotMenu:u}=e;const l=await Ss(new V.Api.messages.RequestWebView({silent:t||void 0,peer:Ae(n.id,n.accessHash),bot:Ae(s.id,s.accessHash),replyToMsgId:o,url:a,startParam:i,themeParams:c?Le(c):void 0,fromBotMenu:u||void 0,platform:g,...r&&{topMsgId:r},...d&&{sendAs:Ae(d.id,d.accessHash)}}));if(l instanceof V.Api.WebViewResultUrl)return{url:l.url,queryId:l.queryId.toString()}}async function cr(e){let{bot:t,url:n,theme:s}=e;return(await Ss(new V.Api.messages.RequestSimpleWebView({url:n,bot:Ae(t.id,t.accessHash),themeParams:s?Le(s):void 0,platform:g})))?.url}async function dr(e){let{bot:t,appName:n}=e;const s=await Ss(new V.Api.messages.GetBotApp({app:new V.Api.InputBotAppShortName({botId:Ie(t.id,t.accessHash),shortName:n})}));if(s&&!(s instanceof V.Api.BotAppNotModified))return function(e){const{app:t,inactive:n,requestWriteAccess:s}=e;if(t instanceof V.Api.BotAppNotModified)return;const{id:a,accessHash:i,title:o,description:r,shortName:c,photo:d,document:u}=t,l=d instanceof V.Api.Photo?z(d):void 0,p=u instanceof V.Api.Document?Mt(u):void 0;return{id:a.toString(),accessHash:i.toString(),title:o,description:r,shortName:c,photo:l,document:p,isInactive:n,shouldRequestWriteAccess:s}}(s)}async function ur(e){let{peer:t,app:n,startParam:s,theme:a,isWriteAllowed:i}=e;return(await Ss(new V.Api.messages.RequestAppWebView({peer:Ae(t.id,t.accessHash),app:Je(n),startParam:s,themeParams:a?Le(a):void 0,platform:g,writeAllowed:i||void 0})))?.url}function lr(e){let{isSilent:t,peer:n,bot:s,queryId:a,replyToMessageId:i,threadId:o,sendAs:r}=e;return Ss(new V.Api.messages.ProlongWebView({silent:t||void 0,peer:Ae(n.id,n.accessHash),bot:Ae(s.id,s.accessHash),queryId:v()(a),replyToMsgId:i,...o&&{topMsgId:o},...r&&{sendAs:Ae(r.id,r.accessHash)}}))}async function pr(e){let{bot:t,buttonText:n,data:s}=e;const a=Ee();await Ss(new V.Api.messages.SendWebViewData({bot:Ae(t.id,t.accessHash),buttonText:n,data:s,randomId:a}),!0)}async function fr(e){let{hash:t}=e;const n=await Ss(new V.Api.messages.GetAttachMenuBots({hash:t?v()(t):void 0}));if(n instanceof V.Api.AttachMenuBots)return ye(n.users),{hash:n.hash.toString(),bots:N(n.bots.map(cn),"id"),users:n.users.map(gn).filter(Boolean)}}async function gr(e){let{bot:t}=e;const n=await Ss(new V.Api.messages.GetAttachMenuBot({bot:Ae(t.id,t.accessHash)}));if(n instanceof V.Api.AttachMenuBotsBot)return ye(n.users),{bot:cn(n.bot),users:n.users.map(gn).filter(Boolean)}}function hr(e){let{bot:t,isWriteAllowed:n,isEnabled:s}=e;return Ss(new V.Api.messages.ToggleBotInAttachMenu({bot:Ae(t.id,t.accessHash),writeAllowed:n||void 0,enabled:s}))}async function mr(e){let{chat:t,buttonId:n,messageId:s}=e;const a=await Ss(new V.Api.messages.RequestUrlAuth({peer:Ae(t.id,t.accessHash),buttonId:n,msgId:s}));if(!a)return;const i=Pn(a);return"request"===i?.type&&Wo({"@type":"updateUser",id:i.bot.id,user:i.bot}),i}async function yr(e){let{chat:t,messageId:n,buttonId:s,isWriteAllowed:a}=e;const i=await Ss(new V.Api.messages.AcceptUrlAuth({peer:Ae(t.id,t.accessHash),msgId:n,buttonId:s,writeAllowed:a||void 0}));if(!i)return;const o=Pn(i);return"request"===o?.type&&Wo({"@type":"updateUser",id:o.bot.id,user:o.bot}),o}async function _r(e){let{url:t}=e;const n=await Ss(new V.Api.messages.RequestUrlAuth({url:t}));if(!n)return;const s=Pn(n);return"request"===s?.type&&Wo({"@type":"updateUser",id:s.bot.id,user:s.bot}),s}async function br(e){let{url:t,isWriteAllowed:n}=e;const s=await Ss(new V.Api.messages.AcceptUrlAuth({url:t,writeAllowed:n||void 0}));if(!s)return;const a=Pn(s);return"request"===a?.type&&Wo({"@type":"updateUser",id:a.bot.id,user:a.bot}),a}var wr=n(48764).lW;let vr,Ar;async function Sr(e){let{call:t}=e;const n=await Ss(new V.Api.phone.GetGroupCall({call:Ge(t)}));if(!n)return;ye(n.users),ye(n.chats);const s=n.users.map(gn).filter(Boolean),a=n.chats.map((e=>Gt(e))).filter(Boolean);return{groupCall:Ye(n.call),users:s,chats:a}}function Ir(e){let{call:t}=e;return Ss(new V.Api.phone.DiscardGroupCall({call:Ge(t)}),!0)}function Pr(e){let{call:t,participant:n,muted:s,presentationPaused:a,videoStopped:i,videoPaused:o,volume:r,raiseHand:c}=e;return Ss(new V.Api.phone.EditGroupCallParticipant({call:Ge(t),participant:Ae(n.id,n.accessHash),...void 0!==i&&{videoStopped:i},...void 0!==o&&{videoPaused:o},...void 0!==s&&{muted:s},...void 0!==a&&{presentationPaused:a},...void 0!==c&&{raiseHand:c},...void 0!==r&&{volume:r}}),!0)}function Cr(e){let{groupCall:t,title:n}=e;return Ss(new V.Api.phone.EditGroupCallTitle({title:n,call:Ge(t)}),!0)}async function Mr(e){let{call:t,canSelfUnmute:n}=e;const s=await Ss(new V.Api.phone.ExportGroupCallInvite({canSelfUnmute:n||void 0,call:Ge(t)}));if(s)return s.link}async function kr(e){let{call:t,offset:n}=e;const s=await Ss(new V.Api.phone.GetGroupParticipants({call:Ge(t),ids:[],sources:[],offset:n||"",limit:100}));if(!s)return;ye(s.users),ye(s.chats);const a=s.users.map(gn).filter(Boolean),i=s.chats.map((e=>Gt(e))).filter(Boolean);return vr({"@type":"updateGroupCallParticipants",groupCallId:t.id,participants:s.participants.map(Qe),nextOffset:s.nextOffset}),{users:a,chats:i}}function Er(e){let{call:t}=e;return Ss(new V.Api.phone.LeaveGroupCall({call:Ge(t)}),!0)}async function Rr(e){let{call:t,inviteHash:n,params:s}=e;const a=await Ss(new V.Api.phone.JoinGroupCall({call:Ge(t),joinAs:new V.Api.InputPeerSelf,muted:!0,videoStopped:!0,params:new V.Api.DataJSON({data:JSON.stringify(s)}),inviteHash:n}));if(a&&a instanceof V.Api.Updates){const e=a.updates.find((e=>e instanceof V.Api.UpdateGroupCall));if(!(e instanceof V.Api.UpdateGroupCall))return;return Ye(e.call)}}async function Ur(e){let{peer:t}=e;const n=Re(),s=await Ss(new V.Api.phone.CreateGroupCall({peer:Ae(t.id,t.accessHash),randomId:n}));if(s&&s instanceof V.Api.Updates){const e=s.updates[0];if(e instanceof V.Api.UpdateGroupCall)return Ye(e.call)}}function Tr(e){let{call:t,params:n}=e;return Ss(new V.Api.phone.JoinGroupCallPresentation({call:Ge(t),params:new V.Api.DataJSON({data:JSON.stringify(n)})}),!0)}function Br(e){let{call:t,subscribed:n}=e;return Ss(new V.Api.phone.ToggleGroupCallStartSubscription({call:Ge(t),subscribed:n}),!0,void 0,void 0,void 0,!0)}function Dr(e){let{call:t}=e;return Ss(new V.Api.phone.LeaveGroupCallPresentation({call:Ge(t)}),!0)}async function xr(){const e=await Ss(new V.Api.messages.GetDhConfig({}));if(e&&!(e instanceof V.Api.messages.DhConfigNotModified))return{g:e.g,p:Array.from(e.p),random:Array.from(e.random)}}function Vr(e){let{call:t,isBusy:n}=e;return Ss(new V.Api.phone.DiscardCall({peer:je(t),reason:n?new V.Api.PhoneCallDiscardReasonBusy:new V.Api.PhoneCallDiscardReasonHangup}),!0)}async function Nr(e){let{user:t,gAHash:n,isVideo:s}=e;const a=await Ss(new V.Api.phone.RequestCall({randomId:Re(),userId:Ae(t.id,t.accessHash),gAHash:wr.from(n),...s&&{video:!0},protocol:at()}));if(!a)return;const i=et(a.phoneCall);return vr({"@type":"updatePhoneCall",call:i}),ye(a.users),{users:a.users.map(gn).filter(Boolean)}}function Fr(e){let{call:t,rating:n,comment:s}=e;return Ss(new V.Api.phone.SetCallRating({rating:n,peer:je(t),comment:s}),!0)}function qr(e){let{call:t}=e;return Ss(new V.Api.phone.ReceivedCall({peer:je(t)}))}async function Or(e){let{call:t,gB:n}=e;const s=await Ss(new V.Api.phone.AcceptCall({peer:je(t),gB:wr.from(n),protocol:at()}));if(s)return t=et(s.phoneCall),vr({"@type":"updatePhoneCall",call:t}),ye(s.users),{users:s.users.map(gn).filter(Boolean)}}async function Lr(e){let{call:t,gA:n,keyFingerprint:s}=e;const a=await Ss(new V.Api.phone.ConfirmCall({peer:je(t),gA:wr.from(n),keyFingerprint:v()(s),protocol:at()}));if(a)return t=et(a.phoneCall),vr({"@type":"updatePhoneCall",call:t}),ye(a.users),{users:a.users.map(gn).filter(Boolean)}}function Hr(e){let{data:t,call:n}=e;return Ss(new V.Api.phone.SendSignalingData({data:wr.from(t),peer:je(n)}))}function Gr(e){if(e)return Object.values(e).map((e=>({id:e.id,title:e.title,amount:e.prices.reduce(((e,t)=>e+t.amount.toJSNumber()),0),prices:e.prices.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}}))})))}function jr(e){const{invoice:t,info:n,shipping:s,currency:a,totalAmount:i,credentialsTitle:o,tipAmount:r}=e,{shippingAddress:c,phone:d,name:u}=n||{},{prices:l}=t,p=l.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}}));let f,g;return s&&(f=s.prices.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}})),g=s.title),{currency:a,prices:p,info:{shippingAddress:c,phone:d,name:u},totalAmount:i.toJSNumber(),credentialsTitle:o,shippingPrices:f,shippingMethod:g,tipAmount:r?r.toJSNumber():0}}function Kr(e){const{formId:t,canSaveCredentials:n,passwordMissing:s,providerId:a,nativeProvider:i,nativeParams:o,savedInfo:r,invoice:c,savedCredentials:d}=e,{test:u,nameRequested:l,phoneRequested:p,emailRequested:f,shippingAddressRequested:g,flexible:h,phoneToProvider:m,emailToProvider:y,currency:_,prices:b}=c,w=b.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}})),{shippingAddress:v}=r||{},A=r?S(r):void 0;A&&v&&(A.shippingAddress=S(v));const I=o?JSON.parse(o.data):{};return{canSaveCredentials:n,isPasswordMissing:s,formId:String(t),providerId:String(a),nativeProvider:i,savedInfo:A,invoiceContainer:{isTest:u,isNameRequested:l,isPhoneRequested:p,isEmailRequested:f,isShippingAddressRequested:g,isFlexible:h,shouldSendPhoneToProvider:m,shouldSendEmailToProvider:y,currency:_,prices:w},nativeParams:{needCardholderName:Boolean(I?.need_cardholder_name),needCountry:Boolean(I?.need_country),needZip:Boolean(I?.need_zip),publishableKey:I?.publishable_key,publicToken:I?.public_token},...d&&{savedCredentials:(P=d,P.map((e=>{let{id:t,title:n}=e;return{id:t,title:n}})))}};var P}function Wr(e){const{invoice:t,description:n,title:s,photo:a}=e,{test:i,currency:o,prices:r,recurring:c,recurringTermsUrl:d,maxTipAmount:u,suggestedTipAmounts:l}=t,p=r.reduce(((e,t)=>e+t.amount.toJSNumber()),0);return{text:n,title:s,photo:Dt(a),amount:p,currency:o,isTest:i,isRecurring:c,recurringTermsUrl:d,maxTipAmount:u?.toJSNumber(),...l&&{suggestedTipAmounts:l.map((e=>e.toJSNumber()))}}}function zr(e){const{statusText:t,statusEntities:n,videos:s,videoSections:a,periodOptions:i}=e;return{statusText:t,statusEntities:n.map(Vt),videoSections:a,videos:s.map(Mt).filter(Boolean),options:i.map($r)}}function $r(e){const{current:t,canPurchaseUpgrade:n,currency:s,amount:a,botUrl:i,months:o}=e;return{isCurrent:t,canPurchaseUpgrade:n,currency:s,amount:a.toString(),botUrl:i,months:o}}async function Jr(e){let{inputInvoice:t,requestInfo:n,shouldSave:s}=e;const a=await Ss(new V.Api.payments.ValidateRequestedInfo({invoice:Ke(t),save:s||void 0,info:Fe(n)}));if(!a)return;const{id:i,shippingOptions:o}=a;return i?{id:i,shippingOptions:Gr(o)}:void 0}async function Qr(e){let{inputInvoice:t,formId:n,requestedInfoId:s,shippingOptionId:a,credentials:i,savedCredentialId:o,temporaryPassword:r,tipAmount:c}=e;const d=r&&o?new V.Api.InputPaymentCredentialsSaved({id:o,tmpPassword:be(r)}):new V.Api.InputPaymentCredentials({save:i.save,data:new V.Api.DataJSON({data:JSON.stringify(i.data)})}),u=await Ss(new V.Api.payments.SendPaymentForm({formId:v()(n),invoice:Ke(t),requestedInfoId:s,shippingOptionId:a,credentials:d,...c&&{tipAmount:v()(c)}}));if(!(u instanceof V.Api.payments.PaymentVerificationNeeded))return Boolean(u);Ar({"@type":"updatePaymentVerificationNeeded",url:u.url})}async function Zr(e){const t=await Ss(new V.Api.payments.GetPaymentForm({invoice:Ke(e)}));if(t)return t.photo&&(B.webDocuments[t.photo.url]=t.photo),ye(t.users),{form:Kr(t),invoice:Wr(t),users:t.users.map(gn).filter(Boolean)}}async function Xr(e,t){const n=await Ss(new V.Api.payments.GetPaymentReceipt({peer:Ae(e.id,e.accessHash),msgId:t}));if(n)return ye(n.users),{receipt:jr(n),users:n.users.map(gn).filter(Boolean)}}async function Yr(){const e=await Ss(new V.Api.help.GetPremiumPromo);if(!e)return;ye(e.users);const t=e.users.map(gn).filter(Boolean);return e.videos.forEach((e=>{e instanceof V.Api.Document&&(B.documents[e.id.toString()]=e)})),{promo:zr(e),users:t}}async function ec(e){const t=await function(e,t){return function(e,t){return gs.getTmpPassword(e,t)}(e,t)}(e);if(t)return"error"in t?t:{value:_e(t.tmpPassword),validUntil:t.validUntil}}async function tc(e){let{peer:t,reason:n,description:s}=e;return await Ss(new V.Api.account.ReportPeer({peer:Ae(t.id,t.accessHash),reason:Oe(n),message:s}))}async function nc(e){let{peer:t,photo:n,reason:s,description:a}=e;const i=De(n);if(i)return await Ss(new V.Api.account.ReportProfilePhoto({peer:Ae(t.id,t.accessHash),photoId:i,reason:Oe(s),message:a}))}async function sc(e){let{hash:t,areCallsEnabled:n,areSecretChatsEnabled:s}=e;return await Ss(new V.Api.account.ChangeAuthorizationSettings({hash:v()(t),...void 0!==n?{callRequestsDisabled:!n}:void 0,...void 0!==s?{encryptedRequestsDisabled:!s}:void 0}))}async function ac(e){let{days:t}=e;return await Ss(new V.Api.account.SetAuthorizationTTL({authorizationTtlDays:t}))}var ic=n(48764).lW;function oc(e){const{emojies_sounds:t}=e;return t?Object.keys(t).reduce(((e,n)=>{const s=t[n];return B.documents[s.id]=new V.Api.Document({id:v()(s.id),accessHash:v()(s.access_hash),dcId:1,mimeType:"audio/ogg",fileReference:ic.alloc(0),size:v()(0)}),e[n]=s.id,e}),{}):{}}function rc(e,t,n){return[e[`${t}_default`]||y[n][0],e[`${t}_premium`]||y[n][1]]}const cc=["ar","fa","id","ko","uz","en"];function dc(e){let{firstName:t,lastName:n,about:s}=e;return Ss(new V.Api.account.UpdateProfile({firstName:t||"",lastName:n||"",about:s||""}),!0)}async function uc(e){try{return{result:await Ss(new V.Api.account.CheckUsername({username:e}),void 0,!0),error:void 0}}catch(e){const t=e.message;if(Ro.has(t))return{result:!1,error:t};throw e}}function lc(e){return Ss(new V.Api.account.UpdateUsername({username:e}),!0)}async function pc(e,t){const n=e?De(e):new V.Api.InputPhotoEmpty,s=await Ss(new V.Api.photos.UpdateProfilePhoto({id:n,...t?{fallback:!0}:void 0}));if(s)return ye(s.users),s.photo instanceof V.Api.Photo?(he(s.photo),{users:s.users.map(gn).filter(Boolean),photo:z(s.photo)}):void 0}async function fc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=await Cs(e),i=await Ss(new V.Api.photos.UploadProfilePhoto({...n?{video:a,videoStartTs:s}:{file:a},...t?{fallback:!0}:void 0}));if(i)return ye(i.users),i.photo instanceof V.Api.Photo?(he(i.photo),{users:i.users.map(gn).filter(Boolean),photo:z(i.photo)}):void 0}async function gc(e){let{file:t,isSuggest:n,user:s}=e;const a=t?await Cs(t):void 0,i=await Ss(new V.Api.photos.UploadContactProfilePhoto({userId:Ie(s.id,s.accessHash),file:a,...n?{suggest:!0}:{save:!0}}));if(!i)return;ye(i.users);const o=i.users.map(gn).filter(Boolean);return i.photo instanceof V.Api.Photo?(he(i.photo),{users:o,photo:z(i.photo)}):{users:o,photo:void 0}}async function hc(e){const t=e.map(De).filter(Boolean),n=await Ss(new V.Api.photos.DeletePhotos({id:t}),!0);return n&&e.forEach((e=>{delete B.photos[e.id]})),n}async function mc(){const e=await Ss(new V.Api.account.GetWallPapers({hash:v()("0")}));if(!e||e instanceof V.Api.account.WallPapersNotModified)return;const t=e.wallpapers.filter((e=>e instanceof V.Api.WallPaper&&e.document instanceof V.Api.Document&&!e.pattern&&"application/x-tgwallpattern"!==e.document.mimeType));return t.forEach((e=>{B.documents[String(e.document.id)]=e.document})),{wallpapers:t.map(_n).filter(Boolean)}}async function yc(e){const t=await Cs(e),n=await Ss(new V.Api.account.UploadWallPaper({file:t,mimeType:e.type,settings:new V.Api.WallPaperSettings}));if(!(n&&n instanceof V.Api.WallPaper))return;const s=_n(n);return s?(B.documents[String(n.document.id)]=n.document,{wallpaper:s}):void 0}async function _c(){const e=await Ss(new V.Api.contacts.GetBlocked({limit:100}));if(e)return Gc(e),{users:e.users.map(gn).filter(Boolean),chats:e.chats.map((e=>Gt(e))).filter(Boolean),blockedIds:e.blocked.map((e=>ue(e.peerId))),totalCount:e instanceof V.Api.contacts.BlockedSlice?e.count:e.blocked.length}}function bc(e,t){return Ss(new V.Api.contacts.Block({id:Ae(e,t)}))}function wc(e,t){return Ss(new V.Api.contacts.Unblock({id:Ae(e,t)}))}async function vc(){const e=await Ss(new V.Api.account.GetAuthorizations);if(e)return{authorizations:N(e.authorizations.map(bn),"hash"),ttlDays:e.authorizationTtlDays}}function Ac(e){return Ss(new V.Api.account.ResetAuthorization({hash:v()(e)}))}function Sc(){return Ss(new V.Api.auth.ResetAuthorizations)}async function Ic(){const e=await Ss(new V.Api.account.GetWebAuthorizations);if(e)return ye(e.users),{users:e.users.map(gn).filter(Boolean),webAuthorizations:N(e.authorizations.map(wn),"hash")}}function Pc(e){return Ss(new V.Api.account.ResetWebAuthorization({hash:v()(e)}))}function Cc(){return Ss(new V.Api.account.ResetWebAuthorizations)}async function Mc(){const e=await Ss(new V.Api.account.GetNotifyExceptions({compareSound:!0}),void 0,void 0,!0);if(e instanceof V.Api.Updates||e instanceof V.Api.UpdatesCombined)return Gc(e),e.updates.reduce(((e,t)=>t instanceof V.Api.UpdateNotifySettings&&t.peer instanceof V.Api.NotifyPeer?(e.push(An(t.notifySettings,t.peer.peer)),e):e),[])}async function kc(){const[e,t,n,s]=await Promise.all([Ss(new V.Api.account.GetContactSignUpNotification),Ss(new V.Api.account.GetNotifySettings({peer:new V.Api.InputNotifyUsers})),Ss(new V.Api.account.GetNotifySettings({peer:new V.Api.InputNotifyChats})),Ss(new V.Api.account.GetNotifySettings({peer:new V.Api.InputNotifyBroadcasts}))]);if(!t||!n||!s)return!1;const{silent:a,muteUntil:i,showPreviews:o}=t,{silent:r,muteUntil:c,showPreviews:d}=n,{silent:u,muteUntil:l,showPreviews:p}=s;return{hasContactJoinedNotifications:!e,hasPrivateChatsNotifications:!(a||"number"==typeof i&&(0,L.bp)()<i),hasPrivateChatsMessagePreview:o,hasGroupNotifications:!(r||"number"==typeof c&&(0,L.bp)()<c),hasGroupMessagePreview:d,hasBroadcastNotifications:!(u||"number"==typeof l&&(0,L.bp)()<l),hasBroadcastMessagePreview:p}}function Ec(e){return Ss(new V.Api.account.SetContactSignUpNotification({silent:e}))}function Rc(e,t){let n,{isSilent:s,shouldShowPreviews:a}=t;n="contact"===e?new V.Api.InputNotifyUsers:"group"===e?new V.Api.InputNotifyChats:new V.Api.InputNotifyBroadcasts;const i={showPreviews:a,silent:s,muteUntil:s?o:0};return Ss(new V.Api.account.UpdateNotifySettings({peer:n,settings:new V.Api.InputPeerNotifySettings(i)}))}async function Uc(){const e=await Ss(new V.Api.langpack.GetLanguages({langPack:"android"}));if(e)return e.map(S)}async function Tc(e){let{sourceLangPacks:t,langCode:n}=e;const s=(await Promise.all(t.map((e=>Ss(new V.Api.langpack.GetLangPack({langPack:e,langCode:cc.includes(n)?`${n}-raw`:n})))))).filter(Boolean).map((e=>N(e.strings.map(S),"key")));if(s.length)return{langPack:Object.assign({},...s.reverse())}}async function Bc(e){let{langPack:t,langCode:n,keys:s}=e;const a=await Ss(new V.Api.langpack.GetStrings({langPack:t,langCode:cc.includes(n)?`${n}-raw`:n,keys:s}));if(a)return a.map(S)}async function Dc(e){const t=qe(e),n=await Ss(new V.Api.account.GetPrivacy({key:t}));if(n)return Gc(n),{users:n.users.map(gn).filter(Boolean),rules:vn(n.rules)}}function xc(e){const t=gs.session.getAuthKey().getKey();return Ss(new V.Api.account.RegisterDevice({tokenType:10,secret:t,appSandbox:!1,otherUids:[],token:e}))}function Vc(e){return Ss(new V.Api.account.UnregisterDevice({tokenType:10,otherUids:[],token:e}))}async function Nc(e,t){const n=qe(e),s=[];switch(t.allowedUsers&&s.push(new V.Api.InputPrivacyValueAllowUsers({users:t.allowedUsers.map((e=>{let{id:t,accessHash:n}=e;return Ie(t,n)}))})),t.allowedChats&&s.push(new V.Api.InputPrivacyValueAllowChatParticipants({chats:t.allowedChats.map((e=>{let{id:t}=e;return Ie(t)}))})),t.blockedUsers&&s.push(new V.Api.InputPrivacyValueDisallowUsers({users:t.blockedUsers.map((e=>{let{id:t,accessHash:n}=e;return Ie(t,n)}))})),t.blockedChats&&s.push(new V.Api.InputPrivacyValueDisallowChatParticipants({chats:t.blockedChats.map((e=>{let{id:t}=e;return Ie(t)}))})),t.visibility){case"everybody":s.push(new V.Api.InputPrivacyValueAllowAll);break;case"contacts":s.push(new V.Api.InputPrivacyValueAllowContacts);break;case"nonContacts":s.push(new V.Api.InputPrivacyValueDisallowContacts);break;case"nobody":s.push(new V.Api.InputPrivacyValueDisallowAll)}const a=await Ss(new V.Api.account.SetPrivacy({key:n,rules:s}));if(a)return Gc(a),{users:a.users.map(gn).filter(Boolean),rules:vn(a.rules)}}async function Fc(e){await Ss(new V.Api.account.UpdateStatus({offline:!e}))}async function qc(){const e=await Ss(new V.Api.account.GetContentSettings);if(e)return{isSensitiveEnabled:Boolean(e.sensitiveEnabled),canChangeSensitive:Boolean(e.sensitiveCanChange)}}function Oc(e){return Ss(new V.Api.account.SetContentSettings({sensitiveEnabled:e||void 0}))}async function Lc(e){const t=await Ss(new V.Api.help.GetAppConfig({hash:e}));if(!t||t instanceof V.Api.help.AppConfigNotModified)return;const{config:n,hash:s}=t;return function(e,t){const n=In(e);return{emojiSounds:oc(n),seenByMaxChatMembers:n.chat_read_mark_size_threshold,seenByExpiresAt:n.chat_read_mark_expire_period,autologinDomains:n.autologin_domains||[],urlAuthDomains:n.url_auth_domains||[],maxUniqueReactions:n.reactions_uniq_max,premiumBotUsername:n.premium_bot_username,premiumInvoiceSlug:n.premium_invoice_slug,premiumPromoOrder:n.premium_promo_order,isPremiumPurchaseBlocked:n.premium_purchase_blocked,defaultEmojiStatusesStickerSetId:n.default_emoji_statuses_stickerset_id,topicsPinnedLimit:n.topics_pinned_limit,maxUserReactionsDefault:n.reactions_user_max_default,maxUserReactionsPremium:n.reactions_user_max_premium,hiddenMembersMinCount:n.hidden_members_group_size_min,canDisplayAutoarchiveSetting:n.autoarchive_setting_available,limits:{uploadMaxFileparts:rc(n,"upload_max_fileparts","uploadMaxFileparts"),stickersFaved:rc(n,"stickers_faved_limit","stickersFaved"),savedGifs:rc(n,"saved_gifs_limit","savedGifs"),dialogFiltersChats:rc(n,"dialog_filters_chats_limit","dialogFiltersChats"),dialogFilters:rc(n,"dialog_filters_limit","dialogFilters"),dialogFolderPinned:rc(n,"dialogs_pinned_limit","dialogFolderPinned"),captionLength:rc(n,"caption_length_limit","captionLength"),channels:rc(n,"channels_limit","channels"),channelsPublic:rc(n,"channels_public_limit","channelsPublic"),aboutLength:rc(n,"about_length_limit","aboutLength"),chatlistInvites:rc(n,"chatlist_invites_limit","chatlistInvites"),chatlistJoined:rc(n,"chatlist_joined_limit","chatlistJoined")},hash:t}}(n,s)}async function Hc(){const e=await Ss(new V.Api.help.GetConfig);if(e)return function(e){const t=e.reactionsDefault&&wt(e.reactionsDefault);return{expiresAt:e.expires,gifSearchUsername:e.gifSearchUsername,defaultReaction:t,maxGroupSize:e.chatSizeMax,autologinToken:e.autologinToken}}(e)}function Gc(e){ye(e.users),ye(e.chats)}async function jc(e){let{langCode:t="en"}=e;const n=await Ss(new V.Api.help.GetCountriesList({langCode:t}));if(n instanceof V.Api.help.CountriesList)return function(e){const t=e.filter((e=>{let{hidden:t}=e;return!t}));return{phoneCodes:t.map((e=>e.countryCodes.map((t=>Sn(e,t))))).flat().sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName))),general:t.map((e=>Sn(e,e.countryCodes[0]))).sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName)))}}(n.countries)}async function Kc(){const e=await Ss(new V.Api.account.GetGlobalPrivacySettings);if(e)return{shouldArchiveAndMuteNewNonContact:Boolean(e.archiveAndMuteNewNoncontactPeers)}}async function Wc(e){let{shouldArchiveAndMuteNewNonContact:t}=e;const n=await Ss(new V.Api.account.SetGlobalPrivacySettings({settings:new V.Api.GlobalPrivacySettings({archiveAndMuteNewNoncontactPeers:t})}));if(n)return{shouldArchiveAndMuteNewNonContact:Boolean(n.archiveAndMuteNewNoncontactPeers)}}function zc(e){let{chatId:t,accessHash:n,username:s,isActive:a}=e;return Ss(t?new V.Api.channels.ToggleUsername({channel:Ie(t,n),username:s,active:a}):new V.Api.account.ToggleUsername({username:s,active:a}))}function $c(e){let{chatId:t,accessHash:n,usernames:s}=e;return Ss(t?new V.Api.channels.ReorderUsernames({channel:Ie(t,n),order:s}):new V.Api.account.ReorderUsernames({order:s}))}function Jc(e){let{chat:t,emoticon:n}=e;return Ss(new V.Api.messages.SetTyping({peer:Ae(t.id,t.accessHash),action:new V.Api.SendMessageEmojiInteractionSeen({emoticon:n})}))}function Qc(e){let{chat:t,emoticon:n,messageId:s,timestamps:a}=e;return Ss(new V.Api.messages.SetTyping({peer:Ae(t.id,t.accessHash),action:new V.Api.SendMessageEmojiInteraction({emoticon:n,msgId:s,interaction:new V.Api.DataJSON({data:JSON.stringify({v:1,a:a.map((e=>({t:e,i:1})))})})})}))}async function Zc(){const e=await Ss(new V.Api.messages.GetAvailableReactions({}));if(e&&!(e instanceof V.Api.messages.AvailableReactionsNotModified))return e.reactions.forEach((e=>{e.staticIcon instanceof V.Api.Document&&(B.documents[String(e.staticIcon.id)]=e.staticIcon),e.selectAnimation instanceof V.Api.Document&&(B.documents[String(e.selectAnimation.id)]=e.selectAnimation),e.aroundAnimation instanceof V.Api.Document&&(B.documents[String(e.aroundAnimation.id)]=e.aroundAnimation),e.appearAnimation instanceof V.Api.Document&&(B.documents[String(e.appearAnimation.id)]=e.appearAnimation),e.centerIcon instanceof V.Api.Document&&(B.documents[String(e.centerIcon.id)]=e.centerIcon)})),e.reactions.map(vt)}function Xc(e){let{chat:t,messageId:n,reactions:s,shouldAddToRecent:a}=e;return Ss(new V.Api.messages.SendReaction({reaction:s?.map((e=>We(e))),peer:Ae(t.id,t.accessHash),msgId:n,...a&&{addToRecent:!0}}),!0,!0)}function Yc(e){let{ids:t,chat:n}=e;return Ss(new V.Api.messages.GetMessagesReactions({id:t,peer:Ae(n.id,n.accessHash)}),!0)}async function ed(e){let{chat:t,messageId:n,reaction:s,offset:a}=e;const i=await Ss(new V.Api.messages.GetMessageReactionsList({peer:Ae(t.id,t.accessHash),id:n,...s&&{reaction:We(s)},limit:100,...a&&{offset:a}}));if(!i)return;ye(i.users);const{nextOffset:o,reactions:r,count:c}=i;return{users:i.users.map(gn).filter(Boolean),nextOffset:o,reactions:r.map(bt).filter(Boolean),count:c}}function td(e){let{reaction:t}=e;return Ss(new V.Api.messages.SetDefaultReaction({reaction:We(t)}))}async function nd(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetTopReactions({limit:100,hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.ReactionsNotModified))return{hash:String(n.hash),reactions:n.reactions.map(wt).filter(Boolean)}}async function sd(e){let{hash:t="0"}=e;const n=await Ss(new V.Api.messages.GetRecentReactions({limit:50,hash:v()(t)}));if(n&&!(n instanceof V.Api.messages.ReactionsNotModified))return{hash:String(n.hash),reactions:n.reactions.map(wt).filter(Boolean)}}function ad(){return Ss(new V.Api.messages.ClearRecentReactions)}function id(e,t){if(e.error)return;const n=JSON.parse(e.json.data),[s,...a]=n.columns,i=n.y_scaled;return{type:t?"area":n.types.y0,zoomToken:e.zoomToken,labelFormatter:n.xTickFormatter,tooltipFormatter:n.xTooltipFormatter,labels:s.slice(1),hideCaption:!n.subchart.show,hasSecondYAxis:i,isStacked:n.stacked&&!i,isPercentage:t,datasets:a.map((e=>{const t=e[0];return{name:n.names[t],color:(s=n.colors[t],s.substring(s.indexOf("#"))),values:e.slice(1)};var s})),...od(n.subchart.defaultZoom,s.slice(1))}}function od(e,t){const[n,s]=e;let a=0,i=t.length-1;return t.forEach(((e,t)=>{!a&&e>=n&&(a=t),!i&&e>=s&&(i=t)})),{minimapRange:{begin:Math.max(0,a/(t.length-1)),end:Math.min(1,i/(t.length-1))},labelFromIndex:a,labelToIndex:i}}function rd(e){let{current:t,previous:n}=e;const s=t-n;return{current:t,change:s,...n&&{percentage:(s?Math.abs(s)/n*100:0).toFixed(2)}}}async function cd(e){let{chat:t,dcId:n}=e;const s=await Ss(new V.Api.stats.GetBroadcastStats({channel:Ie(t.id,t.accessHash)}),void 0,void 0,void 0,n);var a,i;if(s)return{stats:(a=s,{growthGraph:id(a.growthGraph),followersGraph:id(a.followersGraph),muteGraph:id(a.muteGraph),topHoursGraph:id(a.topHoursGraph),languagesGraph:a.languagesGraph.token,viewsBySourceGraph:a.viewsBySourceGraph.token,newFollowersBySourceGraph:a.newFollowersBySourceGraph.token,interactionsGraph:a.interactionsGraph.token,followers:rd(a.followers),viewsPerPost:rd(a.viewsPerPost),sharesPerPost:rd(a.sharesPerPost),enabledNotifications:(i=a.enabledNotifications,{percentage:(i.part/i.total*100).toFixed(2)}),recentTopMessages:a.recentMessageInteractions}),users:[]}}async function dd(e){let{chat:t,dcId:n}=e;const s=await Ss(new V.Api.stats.GetMegagroupStats({channel:Ie(t.id,t.accessHash)}),void 0,void 0,void 0,n);var a,i;if(s)return ye(s.users),{users:s.users.map(gn).filter(Boolean),stats:(a=s,{growthGraph:id(a.growthGraph),membersGraph:id(a.membersGraph),topHoursGraph:id(a.topHoursGraph),languagesGraph:a.languagesGraph.token,messagesGraph:a.messagesGraph.token,actionsGraph:a.actionsGraph.token,period:(i=a.period,{maxDate:i.maxDate,minDate:i.minDate}),members:rd(a.members),viewers:rd(a.viewers),messages:rd(a.messages),posters:rd(a.posters)})}}async function ud(e){let{chat:t,messageId:n,dcId:s}=e;const a=await Ss(new V.Api.stats.GetMessageStats({channel:Ie(t.id,t.accessHash),msgId:n}),void 0,void 0,void 0,s);if(a)return{viewsGraph:id(a.viewsGraph)}}async function ld(e){let{chat:t,messageId:n,dcId:s}=e;const a=await Ss(new V.Api.stats.GetMessagePublicForwards({channel:Ie(t.id,t.accessHash),msgId:n,offsetPeer:new V.Api.InputPeerEmpty}),void 0,void 0,void 0,s);if(a)return"chats"in a&&ye(a.chats),function(e){if(e&&"messages"in e)return e.messages.map((t=>{const n=de(t.peerId.channelId,"channel"),s=e.chats.find((e=>de(e.id,"channel")===n));return{messageId:t.id,views:t.views,title:s.title,chat:{id:n,type:"chatTypeChannel",title:s.title,username:s.username,avatarHash:$t(s.photo)}}}))}(a)}async function pd(e){let{token:t,x:n,isPercentage:s,dcId:a}=e;const i=await Ss(new V.Api.stats.LoadAsyncGraph({token:t,...n&&{x:v()(n)}}),void 0,void 0,void 0,a);if(i)return id(i,s)}var fd=n(59109),gd=n.n(fd),hd=n(96748),md=n.n(hd),yd=n(13302),_d=n.n(yd),bd=n(48764).lW;function wd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let vd,Ad;class Sd{constructor(e){this.isOutgoing=e,wd(this,"state",void 0),wd(this,"seq",0),wd(this,"gA",void 0),wd(this,"gB",void 0),wd(this,"p",void 0),wd(this,"random",void 0),wd(this,"waitForState",void 0),wd(this,"resolveState",void 0),this.waitForState=new Promise((e=>{this.resolveState=e}))}async requestCall(e){let{p:t,g:n,random:s}=e;const a=oe().readBigIntFromBuffer(bd.from(t),!1),i=oe().readBigIntFromBuffer(bd.from(s),!1),o=oe().modExp(v()(n),i,a);this.gA=o,this.p=a,this.random=i;const r=await oe().sha256(oe().getByteArray(o));return Array.from(r)}acceptCall(e){let{p:t,g:n,random:s}=e;const a=oe().readBigIntFromBuffer(t,!1),i=oe().readBigIntFromBuffer(s,!1),o=oe().modExp(v()(n),i,a);return this.gB=o,this.p=a,this.random=i,Array.from(oe().getByteArray(o))}async confirmCall(e,t,n){this.isOutgoing?this.gB=oe().readBigIntFromBuffer(bd.from(e),!1):this.gA=oe().readBigIntFromBuffer(bd.from(e),!1);const s=oe().modExp(this.isOutgoing?this.gB:this.gA,this.random,this.p),a=await oe().sha1(oe().getByteArray(s)),i=oe().readBigIntFromBuffer(a.slice(-8).reverse(),!1),o=await async function(e,t,n,s){const a=await oe().sha256(bd.concat([new Uint8Array(e),new Uint8Array(t)])),i=[],o=s.length-1;for(let e=0;e!==a.byteLength;e+=8){const t=(r=a.subarray(e,e+8),v()(r[0]).and(127).shiftLeft(56).or(v()(r[1]).shiftLeft(48)).or(v()(r[2]).shiftLeft(40)).or(v()(r[3]).shiftLeft(32)).or(v()(r[4]).shiftLeft(24)).or(v()(r[5]).shiftLeft(16)).or(v()(r[6]).shiftLeft(8)).or(v()(r[7]))).modPow(1,o).toJSNumber(),c=s[t],d=s[t+1]-c;i.push(String.fromCharCode(...n.subarray(c,c+d)))}var r;return i.join("")}(oe().getByteArray(s),oe().getByteArray(this.gA),t,n),r=new(_d());return await r.setKey(oe().getByteArray(s)),this.state=new(gd())(r,new(md()),!0,this.isOutgoing),this.resolveState(),{gA:Array.from(oe().getByteArray(this.gA)),keyFingerprint:i.toString(),emojis:o}}async encode(e){if(!this.state)return;const t=new Uint32Array(1);t[0]=this.seq++;const n=await this.state.encryptMessageData(bd.concat([oe().convertToLittle(t),bd.from(e)]));return Array.from(n)}async decode(e){if(!this.state)return this.waitForState.then((()=>this.decode(e)));const t=await this.state.decryptMessageData(bd.from(e));return JSON.parse(t.toString())}}function Id(e){vd=new Sd(...e)}function Pd(){vd=void 0}function Cd(e){return vd.encode(...e)}function Md(e){return vd.decode(...e)}function kd(e){return vd.confirmCall(...e)}function Ed(e){return vd.acceptCall(...e)}function Rd(e){return vd.requestCall(...e)}async function Ud(e,t,n){var s;Ad=e,function(e){Rn=e}(Vd),function(e){Vn=e}(Vd),function(e){ms=e}(Vd),function(e){Wa=e}(Vd),function(e){qi=e}(Vd),function(e){Oi=e}(Vd),function(e){Hi=e}(Vd),function(e){Ko=e}(Vd),function(e){Wo=e}(Vd),function(e){vr=e}(Vd),function(e){Ar=e}(Vd),n&&(s=n,Object.assign(T,U(s))),await async function(e,t){fs=e;const{userAgent:n,platform:s,sessionData:a,isTest:i,isMovSupported:o,isWebmSupported:r,maxBufferSize:c,webAuthToken:u,dcId:l,mockScenario:f}=t,g=new V.sessions.CallbackSession(a,vs);self.isMovSupported=o,o&&p.add(d),self.isWebmSupported=r,self.maxBufferSize=c,gs=new(Xn())(g,"27638534","07dcddf46856a1870e7a6d38ffff6935",{deviceModel:navigator.userAgent||n||"Unknown UserAgent",systemVersion:s||"Unknown platform",appVersion:"1.61.32 Z",useWSS:!0,additionalDcsDisabled:!1,testServers:i,dcId:l}),gs.addEventHandler(As,ps),gs.addEventHandler(Bn,ps);try{try{await gs.start({phoneNumber:Fn,phoneCode:qn,password:On,firstAndLastNames:Ln,qrCode:Hn,onError:Gn,initialMethod:"iOS"===s||"Android"===s?"phoneNumber":"qrCode",shouldThrowIfUnauthorized:Boolean(a),webAuthToken:u,webAuthTokenFailed:Nn,mockScenario:f})}catch(e){if(console.error(e),"Disconnect"!==e.message&&"Cannot send requests while disconnected"!==e.message)return void fs({"@type":"updateConnectionState",connectionState:"connectionStateBroken"})}Vn(jn("authorizationStateReady")),vs(g.getSessionData()),fs({"@type":"updateApiReady"}),ks()}catch(e){throw e}}(Vd,t)}const Td=function(e,t){let n,s=!1;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];n=i,s||(s=!0,e((()=>{s=!1,t(...n)})))}}((function(e){b?b.push(e):(b=[e],Promise.resolve().then((()=>{const e=b;b=void 0,e.forEach((e=>e()))})))}),(function(e){if(!xd||e!==Dd)return;const t=xd;xd=void 0,t.forEach(Ad)}));let Bd,Dd,xd;function Vd(e){xd?xd.push(e):xd=[e],Bd&&!c.has(e["@type"])||(Bd=_(Td,r,!0),Dd=Math.random()),Bd(Dd)}self.onerror=e=>{console.error(e),qd({type:"unhandledError",error:{message:e.error.message||"Uncaught exception in worker"}})},self.addEventListener("unhandledrejection",(e=>{console.error(e),qd({type:"unhandledError",error:{message:e.reason.message||"Uncaught rejection in worker"}})}));const Nd=new Map;function Fd(e){qd({type:"update",update:e})}function qd(e,t){t?postMessage(e,[t]):postMessage(e)}onmessage=async e=>{const{data:t}=e;switch(t.type){case"initApi":await Ud(Fd,t.args[0],t.args[1]);break;case"callMethod":{const{messageId:e,name:n,args:s,withCallback:i}=t;try{if(e&&i){const t=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];const a=n[n.length-1];qd({type:"methodCallback",messageId:e,callbackArgs:n},a instanceof ArrayBuffer?a:void 0)};Nd.set(e,t),s.push(t)}const t=await function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return a[e](...n)}(n,...s),{arrayBuffer:o}="object"==typeof t&&"arrayBuffer"in t&&t||{};e&&qd({type:"methodResponse",messageId:e,response:t},o)}catch(t){e&&qd({type:"methodResponse",messageId:e,error:{message:t.message}})}e&&Nd.delete(e);break}case"cancelProgress":{const e=Nd.get(t.messageId);e&&(e.isCanceled=!0);break}case"ping":qd({type:"methodResponse",messageId:t.messageId})}}},9077:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});let s=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.Stream=2]="Stream",e[e.DownloadUrl=3]="DownloadUrl",e[e.Text=4]="Text",e}({})},94746:(e,t,n)=>{"use strict";n.d(t,{Vv:()=>s,_Q:()=>i,_f:()=>a});let s=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Unknown="MessageEntityUnknown",e}({});const a=-1,i="MESSAGE_DELETED"},89618:(e,t,n)=>{var s=n(48764).lW;const a=n(24736),i=n(66842);function o(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=s.from(e);const o=i.length;t&&(i=i.reverse());let r=a(i.toString("hex"),16);return n&&Math.floor(r.toString(2).length/8)>=o&&(r=r.subtract(a(2).pow(a(8*o)))),r}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=a(e),i=[];for(let e=0;e<t;e++)i[e]=n.shiftRight(8*e).and(255);return s.from(i)}function c(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=(e=a(e)).bitLength().toJSNumber(),r=Math.ceil(o/8);if(t<r)throw new Error("OverflowError: int too big to convert");if(!i&&e.lesser(a(0)))throw new Error("Cannot convert to unsigned");let c=!1;e.lesser(a(0))&&(c=!0,e=e.abs());const d=e.toString(16).padStart(2*t,"0");let u=s.from(d,"hex");if(i&&c){u[u.length-1]=256-u[u.length-1];for(let e=0;e<u.length-1;e++)u[e]=255-u[e]}return n&&(u=u.reverse()),u}function d(e){return s.from(i.randomBytes(e))}function u(e){const t=i.createHash("sha1");return t.update(e),t.digest()}let l;e.exports={readBigIntFromBuffer:o,readBufferFromBigInt:c,generateRandomLong:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o(d(8),!0,e)},mod:function(e,t){return(e%t+t)%t},crc32:function(e){l||(l=function(){let e;const t=[];for(let n=0;n<256;n++){e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),s.isBuffer(e)||(e=s.from(e));let t=-1;for(let n=0;n<e.length;n++){const s=e[n];t=l[255&(t^s)]^t>>>8}return(-1^t)>>>0},generateRandomBytes:d,generateKeyDataFromNonce:async function(e,t){e=r(e,16),t=r(t,32);const[n,a,i]=await Promise.all([u(s.concat([t,e])),u(s.concat([e,t])),u(s.concat([t,t]))]);return{key:s.concat([n,a.slice(0,12)]),iv:s.concat([a.slice(12,20),i,t.slice(0,4)])}},sha1:u,sha256:function(e){const t=i.createHash("sha256");return t.update(e),t.digest()},bigIntMod:function(e,t){return e.remainder(t).add(t).remainder(t)},modExp:function(e,t,n){e=e.remainder(n);let s=a.one,i=e;for(;t.greater(a.zero);){const e=t.remainder(a(2));t=t.divide(a(2)),e.eq(a.one)&&(s=s.multiply(i),s=s.remainder(n)),i=i.multiply(i),i=i.remainder(n)}return s},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},sleep:e=>new Promise((t=>{setTimeout(t,e)})),getByteArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.toString(2).length,s=Math.floor((n+8-1)/8);return c(a(e),s,!1,t)},toSignedLittleBuffer:r,convertToLittle:function(e){const t=s.alloc(4*e.length);for(let n=0;n<e.length;n++)t.writeUInt32BE(e[n],4*n);return t},bufferXor:function(e,t){const n=[];for(let s=0;s<e.length;s++)n.push(e[s]^t[s]);return s.from(n)}}},59674:(e,t,n)=>{var s=n(48764).lW;const a=n(24736),{constructors:i}=n(57404),{readBigIntFromBuffer:o,readBufferFromBigInt:r,sha256:c,bigIntMod:d,modExp:u,generateRandomBytes:l}=n(89618),p=n(66842);function f(e,t){if(!s.from([199,28,174,185,198,177,201,4,142,108,82,47,112,241,63,115,152,13,64,35,142,62,33,193,73,52,208,55,86,61,147,15,72,25,138,10,167,193,64,88,34,148,147,210,37,48,244,219,250,51,111,110,10,201,37,19,149,67,174,212,76,206,124,55,32,253,81,246,148,88,112,90,198,140,212,254,107,107,19,171,220,151,70,81,41,105,50,132,84,241,143,175,140,89,95,100,36,119,254,150,187,42,148,29,91,205,29,74,200,204,73,136,7,8,250,155,55,142,60,79,58,144,96,190,230,124,249,164,164,166,149,129,16,81,144,126,22,39,83,181,107,15,107,65,13,186,116,216,168,75,42,20,179,20,78,14,241,40,71,84,253,23,237,149,13,89,101,180,185,221,70,88,45,177,23,141,22,156,107,196,101,176,214,255,156,163,146,143,239,91,154,228,228,24,252,21,232,62,190,160,248,127,169,255,94,237,112,5,13,237,40,73,244,123,249,89,217,86,133,12,233,41,133,31,13,129,21,246,53,177,5,238,46,78,21,208,75,36,84,191,111,79,173,240,52,177,4,3,17,156,216,227,185,47,204,91]).equals(e)||![3,4,5,7].includes(t))throw new Error("Changing passwords unsupported")}function g(e){return s.concat([s.alloc(256-e.length),e])}function h(e){return r(e,256,!1)}function m(e,t){const n=t.subtract(e);return!(n.lesser(a(0))||n.bitLength()<1984||e.bitLength()<1984||Math.floor((e.bitLength()+7)/8)>256)}function y(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++)e[s]^=t[s];return e}async function _(e,t){const n=await c(s.concat([e.salt1,s.from(t,"utf-8"),e.salt1])),a=await c(s.concat([e.salt2,n,e.salt2])),i=await function(e,t,n){return p.pbkdf2(e,t,1e5,64,"sha512")}(a,e.salt1);return c(s.concat([e.salt2,i,e.salt2]))}e.exports={computeCheck:async function(e,t){const n=e.currentAlgo;if(!(n instanceof i.PasswordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow))throw new Error(`Unsupported password algorithm ${n.className}`);const r=await _(n,t),p=o(n.p,!1),{g:b}=n,w=o(e.srp_B,!1);try{f(n.p,b)}catch(e){throw new Error("bad /g in password")}if(!function(e,t){return e.greater(a(0))&&t.subtract(e).greater(a(0))}(w,p))throw new Error("bad b in check");const v=o(r,!1),A=g(n.p),S=h(b),I=g(e.srp_B),P=u(a(b),v,p),C=o(await c(s.concat([A,S])),!1),M=d(C.multiply(P),p),[k,E,R]=await(async()=>{for(;;){const e=l(256),t=o(e,!1),n=u(a(b),t,p);if(m(n,p)){const e=h(n),i=o(await c(s.concat([e,I])),!1);if(i.greater(a(0)))return[t,e,i]}}})(),U=d(w.subtract(M),p);if(!m(U,p))throw new Error("bad gB");const T=R.multiply(v),B=k.add(T),D=u(U,B,p),[x,V,N,F,q]=await Promise.all([c(h(D)),c(A),c(S),c(n.salt1),c(n.salt2)]),O=await c(s.concat([y(V,N),F,q,E,I,x]));return new i.InputCheckPasswordSRP({srpId:e.srpId,A:s.from(E),M1:O})},computeDigest:async function(e,t){try{f(e.p,e.g)}catch(e){throw new Error("bad p/g in password")}return h(u(a(e.g),o(await _(e,t),!1),o(e.p,!1)))}}},48960:(e,t,n)=>{var s=n(48764).lW;const{constructors:a}=n(57404),i=s.from("ffd8ffe000104a46494600010100000100010000ffdb004300281c1e231e19282321232d2b28303c64413c37373c7b585d4964918099968f808c8aa0b4e6c3a0aadaad8a8cc8ffcbdaeef5ffffff9bc1fffffffaffe6fdfff8ffdb0043012b2d2d3c353c76414176f8a58ca5f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8ffc00011080000000003012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00","hex"),o=s.from("ffd9","hex");function r(e,t){throw new Error(`Cannot cast ${e.className} to any kind of ${t}`)}e.exports={getMessageId:function(e){if(void 0!==e){if("number"==typeof e)return e;if(2030045667===e.SUBCLASS_OF_ID)return e.id;throw new Error(`Invalid message type: ${e.constructor.name}`)}},getInputPeer:function e(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t.SUBCLASS_OF_ID){if(n&&"inputEntity"in t)return t.inputEntity;if("entity"in t)return e(t.entity);r(t,"InputPeer")}if(3374092470===t.SUBCLASS_OF_ID)return t;if(t instanceof a.User){if(t.isSelf&&n)return new a.InputPeerSelf;if(void 0===t.accessHash&&s)throw new Error("User without accessHash or min info cannot be input");return new a.InputPeerUser({userId:t.id,accessHash:t.accessHash})}if(t instanceof a.Chat||t instanceof a.ChatEmpty||t instanceof a.ChatForbidden)return new a.InputPeerChat({chatId:t.id});if(t instanceof a.Channel){if(void 0===t.accessHash&&s)throw new TypeError("Channel without accessHash or min info cannot be input");return new a.InputPeerChannel({channelId:t.id,accessHash:t.accessHash})}return t instanceof a.ChannelForbidden?new a.InputPeerChannel({channelId:t.id,accessHash:t.accessHash}):t instanceof a.InputUser?new a.InputPeerUser({userId:t.userId,accessHash:t.accessHash}):t instanceof a.InputChannel?new a.InputPeerChannel({channelId:t.channelId,accessHash:t.accessHash}):t instanceof a.UserEmpty?new a.InputPeerEmpty:t instanceof a.UserFull?e(t.user):t instanceof a.ChatFull?new a.InputPeerChat({chatId:t.id}):t instanceof a.PeerChat?new a.InputPeerChat(t.chatId):void r(t,"InputPeer")},getDisplayName:function(e){return e instanceof a.User?e.lastName&&e.firstName?`${e.firstName} ${e.lastName}`:e.firstName?e.firstName:e.lastName?e.lastName:"":e instanceof a.Chat||e instanceof a.Channel?e.title:""},getDownloadPartSize:function(e){if(e<=65536)return 64;if(e<=104857600)return 128;if(e<=786432e3)return 256;if(e<=2097152e3)return 512;if(e<=4194304e3)return 1024;throw new Error("File size too large")},getUploadPartSize:function(e){if(e<=104857600)return 128;if(e<=786432e3)return 256;if(e<=2097152e3)return 512;if(e<=4194304e3)return 512;throw new Error("File size too large")},strippedPhotoToJpg:function(e){if(e.length<3||1!==e[0])return e;const t=s.from(i);return t[164]=e[1],t[166]=e[2],s.concat([t,e.slice(3),o])},getDC:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case 1:return{id:1,ipAddress:`zws1${t?"-1":""}.web.telegram.org`,port:443};case 2:return{id:2,ipAddress:`zws2${t?"-1":""}.web.telegram.org`,port:443};case 3:return{id:3,ipAddress:`zws3${t?"-1":""}.web.telegram.org`,port:443};case 4:return{id:4,ipAddress:`zws4${t?"-1":""}.web.telegram.org`,port:443};case 5:return{id:5,ipAddress:`zws5${t?"-1":""}.web.telegram.org`,port:443};default:throw new Error(`Cannot find the DC with the ID of ${e}`)}}}},61472:e=>{e.exports="0.0.2"},70243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getTmpPassword:()=>l,updateTwoFaSettings:()=>u});var s=n(77150),a=n.n(s),i=n(89618),o=n(59674),r=n(87873),c=n.n(r),d=n(48764).lW;async function u(e,t){let{isCheckPassword:n,currentPassword:s,newPassword:r,hint:u="",email:l,emailCodeCallback:p,onEmailCodeError:f}=t;if(!r&&!s)throw new Error("Neither `currentPassword` nor `newPassword` is present");if(l&&(!p||!f))throw new Error("`email` present without `emailCodeCallback` and `onEmailCodeError`");const g=await e.invoke(new(a().account.GetPassword));g.newAlgo instanceof a().PasswordKdfAlgoUnknown||(g.newAlgo.salt1=d.concat([g.newAlgo.salt1,(0,i.generateRandomBytes)(32)])),!g.hasPassword&&s&&(s=void 0);const h=s?await(0,o.computeCheck)(g,s):new(a().InputCheckPasswordEmpty);if(n)await e.invoke(new(a().auth.CheckPassword)({password:h}));else try{await e.invoke(new(a().account.UpdatePasswordSettings)({password:h,newSettings:new(a().account.PasswordInputSettings)({newAlgo:g.newAlgo,newPasswordHash:r?await(0,o.computeDigest)(g.newAlgo,r):d.alloc(0),hint:u,email:l,newSecureSettings:void 0})}))}catch(t){if(!(t instanceof c().EmailUnconfirmedError))throw t;for(;;)try{const n=await p(t.codeLength);if(!n)throw new Error("Code is empty");await e.invoke(new(a().account.ConfirmPasswordEmail)({code:n}));break}catch(e){f(e)}}}async function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;const s=await e.invoke(new(a().account.GetPassword));if(!s)return;const i=await(0,o.computeCheck)(s,t);try{return await e.invoke(new(a().account.GetTmpPassword)({password:i,period:n}))}catch(e){if("PASSWORD_HASH_INVALID"===e.message)return{error:e.message};throw e}}},78742:(e,t,n)=>{var s=n(48764).lW;const a=n(67435),i=n(96748),{sleep:o}=n(89618),r=n(87873),c=n(33995),d=n(89618),u=n(48960),l=n(59270),{LAYER:p}=n(70845),{constructors:f,requests:g}=n(57404),{ConnectionTCPObfuscated:h,MTProtoSender:m,UpdateConnectionState:y}=n(18415),{authFlow:_,checkAuthorization:b}=n(21545),{downloadFile:w}=n(52288),{uploadFile:v}=n(74766),{updateTwoFaSettings:A,getTmpPassword:S}=n(70243),I=n(44287),P=131072,C=["u","v","w","y","d","x","c","m","b","a","s","f"];class M{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.DEFAULT_OPTIONS;if(!t||!n)throw Error('Your API ID or Hash are invalid. Please read "Requirements" on README.md');const o={...M.DEFAULT_OPTIONS,...s};if(this.apiId=t,this.apiHash=n,this.defaultDcId=o.dcId||2,this._useIPV6=o.useIPV6,"string"==typeof o.baseLogger?this._log=new i:this._log=o.baseLogger,"string"!=typeof e&&e){if(!(e instanceof l))throw new Error("The given session must be str or a session instance")}else try{throw new Error("not implemented")}catch(t){e=new c}this.floodSleepLimit=o.floodSleepLimit,this._eventBuilders=[],this._phoneCodeHash={},this.session=e,this.apiId=parseInt(t,10),this.apiHash=n,this._requestRetries=o.requestRetries,this._connectionRetries=o.connectionRetries,this._retryDelay=o.retryDelay||0,o.proxy&&this._log.warn("proxies are not supported"),this._proxy=o.proxy,this._timeout=o.timeout,this._autoReconnect=o.autoReconnect,this._connection=o.connection,this._floodWaitedRequests={},this._initWith=e=>new g.InvokeWithLayer({layer:p,query:new g.InitConnection({apiId:this.apiId,deviceModel:o.deviceModel||a.type().toString()||"Unknown",systemVersion:o.systemVersion||a.release().toString()||"1.0",appVersion:o.appVersion||"1.0",langCode:o.langCode,langPack:"",systemLangCode:o.systemLangCode,query:e,proxy:void 0})}),this._args=o,this._config=void 0,this.phoneCodeHashes=[],this._exportedSenderPromises={},this._waitingForAuthKey={},this._exportedSenderReleaseTimeouts={},this._additionalDcsDisabled=o.additionalDcsDisabled,this._loopStarted=!1,this._isSwitchingDc=!1,this._destroyed=!1}async connect(){await this._initSession(),void 0===this._sender&&(this._sender=new m(this.session.getAuthKey(),{logger:this._log,dcId:this.session.dcId,retries:this._connectionRetries,delay:this._retryDelay,autoReconnect:this._autoReconnect,connectTimeout:this._timeout,authKeyCallback:this._authKeyCallback.bind(this),updateCallback:this._handleUpdate.bind(this),isMainSender:!0})),this._sender.userDisconnected=!1,this._sender._user_connected=!1,this._sender.isReconnecting=!1,this._sender._disconnected=!0;const e=new this._connection(this.session.serverAddress,this.session.port,this.session.dcId,this._log,this._args.testServers);await this._sender.connect(e)?(this.session.setAuthKey(this._sender.authKey),await this._sender.send(this._initWith(new g.help.GetConfig({}))),this._loopStarted||(this._updateLoop(),this._loopStarted=!0),this._isSwitchingDc=!1):this._loopStarted||(this._updateLoop(),this._loopStarted=!0)}async _initSession(){if(await this.session.load(),!this.session.serverAddress||this.session.serverAddress.includes(":")!==this._useIPV6){const e=u.getDC(this.defaultDcId);this.session.setDC(this.defaultDcId,e.ipAddress,this._args.useWSS?443:80)}}setPingCallback(e){this.pingCallback=e}async _updateLoop(){let e;for(;!this._destroyed;)if(await d.sleep(3e3),this._sender.isReconnecting||this._isSwitchingDc)e=void 0;else{try{const t=()=>this._sender.send(new g.PingDelayDisconnect({pingId:d.getRandomInt(Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),disconnectDelay:6e4})),n=Date.now(),s=e?n-e:void 0;if(!s||s<5e3)await T((()=>U(t,5e3)),3,100);else{let e=setTimeout((()=>{this._handleUpdate(new y(y.disconnected)),e=void 0}),1e3);await U(t,3e3),e&&(clearTimeout(e),e=void 0),this._handleUpdate(new y(y.connected))}e=Date.now()}catch(t){if(console.warn(t),e=void 0,this._sender.isReconnecting||this._isSwitchingDc)continue;this._sender.reconnect()}if((new Date).getTime()-this._lastRequest>18e5){try{await this.pingCallback()}catch(e){}e=void 0}}await this.disconnect()}async disconnect(){this._sender&&await this._sender.disconnect(),await Promise.all(Object.values(this._exportedSenderPromises).map((e=>Object.values(e).map((e=>e&&e.then((e=>{if(e)return e.disconnect()})))))).flat()),this._exportedSenderPromises={},this._waitingForAuthKey={}}async destroy(){this._destroyed=!0;try{await this.disconnect()}catch(e){}this.session.delete(),this._eventBuilders=[]}async _switchDC(e){this._log.info(`Reconnecting to new data center ${e}`);const t=u.getDC(e);return this.session.setDC(e,t.ipAddress,t.port),await this._sender.authKey.setKey(void 0),this.session.setAuthKey(void 0),this._isSwitchingDc=!0,await this.disconnect(),this.connect()}_authKeyCallback(e,t){this.session.setAuthKey(e,t)}async _cleanupExportedSender(e,t){this.session.dcId!==e&&this.session.setAuthKey(void 0,e);const n=await this._exportedSenderPromises[e][t];delete this._exportedSenderPromises[e][t],await n.disconnect()}async _cleanupExportedSenders(e){const t=Object.values(this._exportedSenderPromises[e]);t.length&&(this.session.dcId!==e&&this.session.setAuthKey(void 0,e),this._exportedSenderPromises[e]={},await Promise.all(t.map((async e=>{const t=await e;await t.disconnect()}))))}async _connectSender(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Boolean(e.authKey.getKey());if(!a)if(this._waitingForAuthKey[t]){await this._waitingForAuthKey[t];const n=this.session.getAuthKey(t);await e.authKey.setKey(n.getKey()),a=Boolean(e.authKey.getKey())}else this._waitingForAuthKey[t]=new Promise((e=>{n=e}));const i=u.getDC(t,a);for(;;)try{if(await e.connect(new this._connection(i.ipAddress,i.port,t,this._log,this._args.testServers,!!a&&s)),this.session.dcId!==t&&!e._authenticated){this._log.info(`Exporting authorization for data center ${i.ipAddress}`);const n=await this.invoke(new g.auth.ExportAuthorization({dcId:t})),s=this._initWith(new g.auth.ImportAuthorization({id:n.id,bytes:n.bytes}));await e.send(s),e._authenticated=!0}return e.dcId=t,e.userDisconnected=!1,n&&(n(),delete this._waitingForAuthKey[t]),e}catch(t){console.error(t),await d.sleep(1e3),await e.disconnect()}}async _borrowExportedSender(e,t,n,s,a){if(this._additionalDcsDisabled)return;const i=s||0;let o;this._exportedSenderPromises[e]||(this._exportedSenderPromises[e]={}),this._exportedSenderPromises[e][i]&&!t||(this._exportedSenderPromises[e][i]=this._connectSender(n||this._createExportedSender(e,i),e,a));try{if(o=await this._exportedSenderPromises[e][i],!o.isConnected())return o.isConnecting?(await d.sleep(1e3),this._borrowExportedSender(e,!1,o,i,a)):this._borrowExportedSender(e,!0,o,i,a)}catch(t){return console.error(t),this._borrowExportedSender(e,!0,void 0,i,a)}return this._exportedSenderReleaseTimeouts[e]||(this._exportedSenderReleaseTimeouts[e]={}),this._exportedSenderReleaseTimeouts[e][i]&&(clearTimeout(this._exportedSenderReleaseTimeouts[e][i]),this._exportedSenderReleaseTimeouts[e][i]=void 0),this._exportedSenderReleaseTimeouts[e][i]=setTimeout((()=>{this._exportedSenderReleaseTimeouts[e][i]=void 0,o.disconnect()}),3e4),o}_createExportedSender(e,t){return new m(this.session.getAuthKey(e),{logger:this._log,dcId:e,retries:this._connectionRetries,delay:this._retryDelay,autoReconnect:this._autoReconnect,connectTimeout:this._timeout,authKeyCallback:this._authKeyCallback.bind(this),isMainSender:e===this.session.dcId,onConnectionBreak:()=>this._cleanupExportedSender(e,t)})}getSender(e,t,n){return e?this._borrowExportedSender(e,void 0,void 0,t,n):Promise.resolve(this._sender)}downloadFile(e){return w(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}downloadMedia(e,t){let n;if(n=e instanceof f.Message?e.media:e instanceof f.MessageService?e.action.photo:e,"string"==typeof n)throw new Error("not implemented");return n instanceof f.MessageMediaWebPage&&n.webpage instanceof f.WebPage&&(n=n.webpage.document||n.webpage.photo),n instanceof f.MessageMediaPhoto||n instanceof f.Photo?this._downloadPhoto(n,t):n instanceof f.MessageMediaDocument||n instanceof f.Document?this._downloadDocument(n,t):n instanceof f.MessageMediaContact?this._downloadContact(n,t):n instanceof f.WebDocument||n instanceof f.WebDocumentNoProxy?this._downloadWebDocument(n,t):void 0}downloadProfilePhoto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?"x":"m";let s,a,i;if([765557111,3316604308,524706233,3566872215].includes(e.SUBCLASS_OF_ID)){if(!e.photo){if(!e.chatPhoto)return;return this._downloadPhoto(e.chatPhoto,{sizeType:n})}s=e.photo}else s=e;if(s instanceof f.UserProfilePhoto||s instanceof f.ChatPhoto)return a=s.dcId,i=new f.InputPeerPhotoFileLocation({peer:u.getInputPeer(e),photoId:s.photoId,big:t}),this.downloadFile(i,{dcId:a})}downloadStickerSetThumb(e){if(!e.thumbs?.length&&!e.thumbDocumentId)return;const{thumbVersion:t}=e;return e.thumbDocumentId?this.invoke(new f.messages.GetCustomEmojiDocuments({documentId:[e.thumbDocumentId]})).then((e=>{const t=e[0];return this.downloadFile(new f.InputDocumentFileLocation({id:t.id,accessHash:t.accessHash,fileReference:t.fileReference,thumbSize:""}),{fileSize:t.size.toJSNumber(),dcId:t.dcId})})):this.downloadFile(new f.InputStickerSetThumb({stickerset:new f.InputStickerSetID({id:e.id,accessHash:e.accessHash}),thumbVersion:t}),{dcId:e.thumbDcId})}_pickFileSize(e,t){if(!t||!e||!e.length)return;let n;for(let s=C.indexOf(t);s<C.length;s++)if(n=e.find((e=>e.type===C[s])),n)return n}_downloadCachedPhotoSize(e){let t;return t=e instanceof f.PhotoStrippedSize?u.strippedPhotoToJpg(e.bytes):e.bytes,t}_downloadPhoto(e,t){if(e instanceof f.MessageMediaPhoto&&(e=e.photo),!(e instanceof f.Photo))return;const n="u"===t.sizeType||"v"===t.sizeType,s=this._pickFileSize(n?[...e.videoSizes,...e.sizes]:e.sizes,t.sizeType);return!s||s instanceof f.PhotoSizeEmpty?void 0:s instanceof f.PhotoCachedSize||s instanceof f.PhotoStrippedSize?this._downloadCachedPhotoSize(s):this.downloadFile(new f.InputPhotoFileLocation({id:e.id,accessHash:e.accessHash,fileReference:e.fileReference,thumbSize:s.type}),{dcId:e.dcId,fileSize:s.size||Math.max(...s.sizes||[]),progressCallback:t.progressCallback})}_downloadDocument(e,t){if(e instanceof f.MessageMediaDocument&&(e=e.document),!(e instanceof f.Document))return;let n;if(t.sizeType){if(n=e.thumbs?this._pickFileSize([...e.videoThumbs||[],...e.thumbs],t.sizeType):void 0,!n&&e.mimeType.startsWith("video/"))return;if(n&&(n instanceof f.PhotoCachedSize||n instanceof f.PhotoStrippedSize))return this._downloadCachedPhotoSize(n)}return this.downloadFile(new f.InputDocumentFileLocation({id:e.id,accessHash:e.accessHash,fileReference:e.fileReference,thumbSize:n?n.type:""}),{fileSize:n?n.size:e.size.toJSNumber(),progressCallback:t.progressCallback,start:t.start,end:t.end,dcId:e.dcId,workers:t.workers})}_downloadContact(e,t){throw new Error("not implemented")}async _downloadWebDocument(e){if(e.url&&!("accessHash"in e)){const t=await fetch(e.url).then((e=>e.arrayBuffer()));return s.from(t)}try{const t=[];let n=0;for(;;){const s=new g.upload.GetWebFile({location:new f.InputWebFileLocation({url:e.url,accessHash:e.accessHash}),offset:n,limit:P}),a=await this._borrowExportedSender(4),i=await a.send(s);if(n+=131072,!i.bytes.length)break;if(t.push(i.bytes),i.bytes.length<P)break}return s.concat(t)}catch(e){if("WEBFILE_NOT_AVAILABLE"===e.message)return s.alloc(0);throw e}}async downloadStaticMap(e,t,n,a,i,c,d,u){try{const l=[];let p=0;for(;;)try{const s=new g.upload.GetWebFile({location:new f.InputWebFileGeoPointLocation({geoPoint:new f.InputGeoPoint({lat:n,long:t,accuracyRadius:u}),accessHash:e,w:a,h:i,zoom:c,scale:d}),offset:p,limit:P}),o=await this._borrowExportedSender(4),r=await o.send(s);if(p+=131072,!r.bytes.length)break;if(l.push(r.bytes),r.bytes.length<P)break}catch(e){if(e instanceof r.FloodWaitError){console.warn(`getWebFile: sleeping for ${e.seconds}s on flood wait`),await o(1e3*e.seconds);continue}}return s.concat(l)}catch(e){if("WEBFILE_NOT_AVAILABLE"===e.message)return s.alloc(0);throw e}}async invoke(e,t,n){if("request"!==e.classType)throw new Error("You can only invoke MTProtoRequests");const s=void 0===t?this._sender:await this.getSender(t);this._lastRequest=(new Date).getTime();const a=new I(e,n);let i=0;for(i=0;i<this._requestRetries;i++){s.addStateToQueue(a);try{const e=await a.promise;return a.finished.resolve(),e}catch(e){if(e instanceof r.ServerError||"RPC_CALL_FAIL"===e.message||"RPC_MCGET_FAIL"===e.message)this._log.warn(`Telegram is having internal issues ${e.constructor.name}`),await o(2e3);else if(e instanceof r.FloodWaitError||e instanceof r.FloodTestPhoneWaitError){if(!(e.seconds<=this.floodSleepLimit))throw a.finished.resolve(),e;this._log.info(`Sleeping for ${e.seconds}s on flood wait`),await o(1e3*e.seconds)}else if(e instanceof r.PhoneMigrateError||e instanceof r.NetworkMigrateError||e instanceof r.UserMigrateError){if(this._log.info(`Phone migrated to ${e.newDc}`),(e instanceof r.PhoneMigrateError||e instanceof r.NetworkMigrateError)&&await b(this))throw a.finished.resolve(),e;await this._switchDC(e.newDc)}else if(e instanceof r.MsgWaitError)await a.isReady(),a.after=void 0;else{if("CONNECTION_NOT_INITED"!==e.message)throw a.finished.resolve(),e;await this.disconnect(),await o(2e3),await this.connect()}}a.resetPromise()}throw new Error(`Request was unsuccessful ${i} time(s)`)}setIsPremium(e){this.isPremium=e}async getMe(){try{return(await this.invoke(new g.users.GetUsers({id:[new f.InputUserSelf]})))[0]}catch(e){this._log.warn("error while getting me"),this._log.warn(e)}}async start(e){if(this.isConnected()||await this.connect(),await b(this,e.shouldThrowIfUnauthorized))return;const t={apiId:this.apiId,apiHash:this.apiHash};await _(this,t,e)}uploadFile(e){return v(this,e)}updateTwoFaSettings(e){return A(this,e)}getTmpPassword(e,t){return S(this,e,t)}addEventHandler(e,t){this._eventBuilders.push([t,e])}_handleUpdate(e){if(e instanceof f.Updates||e instanceof f.UpdatesCombined){const t=[];for(const n of[...e.users,...e.chats])t.push(n);for(const n of e.updates)this._processUpdate(n,e.updates,t)}else e instanceof f.UpdateShort?this._processUpdate(e.update,void 0):this._processUpdate(e,void 0)}_processUpdate(e,t){e._entities=t||[];const n={update:e};this._dispatchUpdate(n)}async _dispatchUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{update:void 0};for(const[t,n]of this._eventBuilders){const s=t.build(e.update);s&&await n(s)}}isConnected(){return!(!this._sender||!this._sender.isConnected())}}var k,E,R;function U(e,t){let n=!1;return Promise.race([e(),d.sleep(t).then((()=>n?void 0:Promise.reject(new Error("TIMEOUT"))))]).finally((()=>{n=!0}))}async function T(e,t,n){for(let s=0;s<t;s++)try{return await e()}catch(e){if(s===t-1)throw e;await d.sleep(n)}}k=M,R={connection:h,useIPV6:!1,proxy:void 0,timeout:10,requestRetries:5,connectionRetries:1/0,retryDelay:1e3,autoReconnect:!0,sequentialUpdates:!1,floodSleepLimit:60,deviceModel:void 0,systemVersion:void 0,appVersion:void 0,langCode:"en",systemLangCode:"en",baseLogger:"gramjs",useWSS:!1,additionalDcsDisabled:!1,testServers:!1,dcId:2},(E=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(E="DEFAULT_OPTIONS"))in k?Object.defineProperty(k,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[E]=R,e.exports=M},21545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authFlow:()=>u,checkAuthorization:()=>p,signInUserWithPreferredMethod:()=>l});var s=n(77150),a=n.n(s),i=n(48960),o=n.n(i),r=n(89618),c=n(59674);const d="phoneNumber";async function u(e,t,n){let s;s="botAuthToken"in n?await async function(e,t,n){const{apiId:s,apiHash:i}=t,{botAuthToken:o}=n,{user:r}=await e.invoke(new(a().auth.ImportBotAuthorization)({apiId:s,apiHash:i,botAuthToken:o}));return r}(e,t,n):"webAuthToken"in n&&n.webAuthToken?await async function(e,t,n){try{const{apiId:s,apiHash:i}=t,o=await e.invoke(new(a().auth.ImportWebTokenAuthorization)({webAuthToken:n.webAuthToken,apiId:s,apiHash:i}));if(o instanceof a().auth.Authorization)return o.user;throw new Error("SIGN_UP_REQUIRED")}catch(s){return"SESSION_PASSWORD_NEEDED"===s.message?m(e,t,n,!0):(e._log.error(`Failed to login with web token: ${s}`),n.webAuthTokenFailed(),l(e,t,{...n,webAuthToken:void 0}))}}(e,t,n):await l(e,t,n),e._log.info("Signed in successfully as",o().getDisplayName(s))}async function l(e,t,n){const{initialMethod:s=d}=n;return"phoneNumber"===s?f(e,t,n):g(e,t,n)}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await e.invoke(new(a().updates.GetState)),!0}catch(e){if("Disconnect"===e.message||t)throw e;return!1}}async function f(e,t,n){let s,i,o,r=!1;for(;;)try{if("function"==typeof n.phoneNumber)try{s=await n.phoneNumber()}catch(s){if("RESTART_AUTH_WITH_QR"===s.message)return g(e,t,n);throw s}else s=n.phoneNumber;const a=await h(e,t,s,n.forceSMS);if(i=a.phoneCodeHash,r=a.isCodeViaApp,"string"!=typeof i)throw new Error("Failed to retrieve phone code hash");break}catch(e){if("function"!=typeof n.phoneNumber)throw e;n.onError(e)}let c,d=!1;for(;;)try{try{o=await n.phoneCode(r)}catch(s){if("RESTART_AUTH"===s.message)return f(e,t,n)}if(!o)throw new Error("Code is empty");const u=await e.invoke(new(a().auth.SignIn)({phoneNumber:s,phoneCodeHash:i,phoneCode:o}));if(u instanceof a().auth.AuthorizationSignUpRequired){d=!0,c=u.termsOfService;break}return u.user}catch(s){if("SESSION_PASSWORD_NEEDED"===s.message)return m(e,t,n);n.onError(s)}if(d)for(;;)try{const[t,o]=await n.firstAndLastNames();if(!t)throw new Error("First name is required");const{user:r}=await e.invoke(new(a().auth.SignUp)({phoneNumber:s,phoneCodeHash:i,firstName:t,lastName:o}));return c&&await e.invoke(new(a().help.AcceptTermsOfService)({id:c.id})),r}catch(e){n.onError(e)}return n.onError(new Error("Auth failed")),f(e,t,n)}async function g(e,t,n){let s=!1;const i=(async()=>{for(;!s;){const t=await e.invoke(new(a().auth.ExportLoginToken)({apiId:Number("27638534"),apiHash:"07dcddf46856a1870e7a6d38ffff6935",exceptIds:[]}));if(!(t instanceof a().auth.LoginToken))throw new Error("Unexpected");const{token:s,expires:i}=t;await Promise.race([n.qrCode({token:s,expires:i}),(0,r.sleep)(3e4)])}})(),o=new Promise((t=>{e.addEventHandler((e=>{e instanceof a().UpdateLoginToken&&t()}),{build:e=>e})}));try{await Promise.race([o,i])}catch(s){if("RESTART_AUTH"===s.message)return await f(e,t,n);throw s}finally{s=!0}try{const t=await e.invoke(new(a().auth.ExportLoginToken)({apiId:Number("27638534"),apiHash:"07dcddf46856a1870e7a6d38ffff6935",exceptIds:[]}));if(t instanceof a().auth.LoginTokenSuccess&&t.authorization instanceof a().auth.Authorization)return t.authorization.user;if(t instanceof a().auth.LoginTokenMigrateTo){await e._switchDC(t.dcId);const n=await e.invoke(new(a().auth.ImportLoginToken)({token:t.token}));if(n instanceof a().auth.LoginTokenSuccess&&n.authorization instanceof a().auth.Authorization)return n.authorization.user}}catch(s){if("SESSION_PASSWORD_NEEDED"===s.message)return m(e,t,n);throw s}throw void 0}async function h(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const{apiId:i,apiHash:o}=t,r=await e.invoke(new(a().auth.SendCode)({phoneNumber:n,apiId:i,apiHash:o,settings:new(a().CodeSettings)}));if(!(r instanceof a().auth.SentCode))throw Error("Unexpected SentCodeSuccess");if(!s||r.type instanceof a().auth.SentCodeTypeSms)return{phoneCodeHash:r.phoneCodeHash,isCodeViaApp:r.type instanceof a().auth.SentCodeTypeApp};const c=await e.invoke(new(a().auth.ResendCode)({phoneNumber:n,phoneCodeHash:r.phoneCodeHash}));if(!(c instanceof a().auth.SentCode))throw Error("Unexpected SentCodeSuccess");return{phoneCodeHash:c.phoneCodeHash,isCodeViaApp:c.type instanceof a().auth.SentCodeTypeApp}}catch(a){if("AUTH_RESTART"===a.message)return h(e,t,n,s);throw a}}async function m(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(;;)try{const t=await e.invoke(new(a().account.GetPassword)),i=await n.password(t.hint,s);if(!i)throw new Error("Password is empty");const o=await(0,c.computeCheck)(t,i),{user:r}=await e.invoke(new(a().auth.CheckPassword)({password:o}));return r}catch(e){n.onError(e)}}},52288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{downloadFile:()=>_});var s=n(24736),a=n.n(s),i=n(77150),o=n.n(i),r=n(89618),c=n(48960),d=n(87873),u=n.n(d),l=n(46586),p=n(16039),f=n(48764).lW;function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=4096,m=1048576;class y{constructor(e){g(this,"type",void 0),g(this,"size",void 0),g(this,"buffer",void 0),g(this,"largeFile",void 0),g(this,"largeFileAccessHandle",void 0),this.size=e,this.type=e&&e>self.maxBufferSize?"opfs":"memory"}async init(){if("opfs"===this.type){if(!FileSystemFileHandle?.prototype.createSyncAccessHandle)throw new Error("`createSyncAccessHandle` is not available. Cannot download files larger than 2GB.");const e=await navigator.storage.getDirectory(),t=await e.getDirectoryHandle("downloads",{create:!0});this.largeFile=await t.getFileHandle(Math.random().toString(),{create:!0}),this.largeFileAccessHandle=await this.largeFile.createSyncAccessHandle()}else this.buffer=this.size?f.alloc(this.size):f.alloc(0)}write(e,t){if("opfs"===this.type)this.largeFileAccessHandle.write(e,{at:t});else if(this.size)for(let n=0;n<e.length;n++){if(t+n>=this.buffer.length)return;this.buffer.writeUInt8(e[n],t+n)}else this.buffer=f.concat([this.buffer,e])}getData(){return"opfs"===this.type?this.largeFile.getFile():Promise.resolve(this.buffer)}}async function _(e,t,n){const{dcId:s}=n;for(let a=0;a<5;a++)try{return await w(e,t,n)}catch(t){if(!((t.message.startsWith("SESSION_REVOKED")||t.message.startsWith("CONNECTION_NOT_INITED"))&&a<4))throw t;await e._cleanupExportedSenders(s)}}const b=Array(6).fill(void 0).map((()=>new p.J(10)));async function w(e,t,n){let{partSizeKb:s,end:i}=n;const{fileSize:d}=n,p=Boolean(e.isPremium),{dcId:f,progressCallback:g,start:_=0}=n;i=i&&i<d?i:d-1,s||(s=d?(0,c.getDownloadPartSize)(_?i-_+1:d):64);const w=1024*s,v=i?Math.ceil((i+1-_+1)/w):1,A=!i,S=d&&d>=10485760&&!A;let I;if(w%h!=0)throw new Error("The part size must be evenly divisible by 4096");e._log.info(`Downloading file in chunks of ${w} bytes`);const P=new y(i-_+1),C=[];let M=_;const k=b.map((e=>{let{activeWorkers:t}=e;return t}));let E=k.indexOf(Math.min(...k)),R=!1,U=0;for(g&&g(U),await P.init();;){let n=w,s=!1;Math.floor(M/m)!==Math.floor((M+n-1)/m)&&(n=m-M%m,s=!0),M%h==0&&n%h==0||(s=!0);const c=S?E%(p?6:3):0;if(await b[c].requestWorker(),I&&await I.promise,A&&(I=new l.Z),R){b[c].releaseWorker();break}if(C.push((async d=>{for(;;){let l;try{l=await e.getSender(f,c,p);const u=await Promise.race([l.send(new(o().upload.GetFile)({location:t,offset:a()(d),limit:n,precise:s||void 0})),(0,r.sleep)(6e4).then((()=>f===e.session.dcId?Promise.reject(new Error("USER_CANCELED")):Promise.reject(new Error("SESSION_REVOKED"))))]);if(g){if(g.isCanceled)throw new Error("USER_CANCELED");U+=1/v,g(U)}return!i&&u.bytes.length<n&&(R=!0),b[c].releaseWorker(),I&&I.resolve(),void P.write(u.bytes,d-_)}catch(e){if(l&&!l.isConnected()){await(0,r.sleep)(1e3);continue}if(e instanceof u().FloodWaitError){await(0,r.sleep)(1e3*e.seconds);continue}throw b[c].releaseWorker(),I&&I.resolve(),R=!0,e}}})(M)),M+=n,E++,i&&M>i)break}return await Promise.all(C),P.getData()}},74766:(e,t,n)=>{"use strict";n.r(t),n.d(t,{uploadFile:()=>p});var s=n(77150),a=n.n(s),i=n(89618),o=n(48960),r=n(87873),c=n.n(r),d=n(16039),u=n(48764).lW;const l=Array(6).fill(void 0).map((()=>new d.J(10)));async function p(e,t){const{file:n,onProgress:s}=t,r=Boolean(e.isPremium),{name:d,size:p}=n,f=(0,i.readBigIntFromBuffer)((0,i.generateRandomBytes)(8),!0,!0),g=p>10485760,h=1024*(0,o.getUploadPartSize)(p),m=Math.floor((p+h-1)/h),y=l.map((e=>{let{activeWorkers:t}=e;return t}));let _=y.indexOf(Math.min(...y)),b=0;s&&s(b);const w=[];for(let t=0;t<m;t++){const o=_%(r?6:3);if(await l[o].requestWorker(),s?.isCanceled){l[o].releaseWorker();break}const d=n.slice(t*h,(t+1)*h);w.push((async(t,n)=>{for(;;){let d;try{d=await e.getSender(e.session.dcId,o,r);const s=await n.arrayBuffer();await d.send(g?new(a().upload.SaveBigFilePart)({fileId:f,filePart:t,fileTotalParts:m,bytes:u.from(s)}):new(a().upload.SaveFilePart)({fileId:f,filePart:t,bytes:u.from(s)}))}catch(e){if(d&&!d.isConnected()){await(0,i.sleep)(1e3);continue}if(e instanceof c().FloodWaitError){await(0,i.sleep)(1e3*e.seconds);continue}throw l[o].releaseWorker(),e}if(l[o].releaseWorker(),s){if(s.isCanceled)throw new Error("USER_CANCELED");b+=1/m,s(b)}break}})(t,d)),_++}return await Promise.all(w),g?new(a().InputFileBig)({id:f,parts:m,name:d}):new(a().InputFile)({id:f,parts:m,name:d,md5Checksum:""})}},13302:(e,t,n)=>{var s=n(48764).lW;const{sha1:a,toSignedLittleBuffer:i,readBufferFromBigInt:o,readBigIntFromBuffer:r}=n(89618),c=n(35544),{sleep:d}=n(89618);class u{constructor(e,t){if(!t||!e)return;this._key=e,this._hash=t;const n=new c(t);this.auxHash=n.readLong(!1),n.read(4),this.keyId=n.readLong(!1)}async setKey(e){if(!e)return this._key=void 0,this.auxHash=void 0,this.keyId=void 0,void(this._hash=void 0);if(e instanceof u)return this._key=e._key,this.auxHash=e.auxHash,this.keyId=e.keyId,void(this._hash=e._hash);this._key=e,this._hash=await a(this._key);const t=new c(this._hash);this.auxHash=t.readLong(!1),t.read(4),this.keyId=t.readLong(!1)}async waitForKey(){for(;!this.keyId;)await d(20)}getKey(){return this._key}async calcNewNonceHash(e,t){e=i(e,32);const n=s.alloc(1);n.writeUInt8(t,0);const c=s.concat([e,s.concat([n,o(this.auxHash,8,!0)])]),d=(await a(c)).slice(4,20);return r(d,!0,!0)}equals(e){return e instanceof this.constructor&&this._key&&e.getKey()&&e.getKey().equals(this._key)}}e.exports=u},55830:(e,t,n)=>{var s=n(48764).lW;const a=n(66842);e.exports=class{constructor(e,t){if(!s.isBuffer(e)||!s.isBuffer(t)||16!==t.length)throw new Error("Key and iv need to be a buffer");this.cipher=a.createCipheriv("AES-256-CTR",e,t)}encrypt(e){return s.from(this.cipher.update(e))}}},89636:(e,t,n)=>{const s=n(24736),{modExp:a}=n(89618);class i{static gcd(e,t){for(;t.neq(s.zero);){const n=t;t=e.remainder(t),e=n}return e}static factorize(e){if(e.remainder(2).equals(s.zero))return{p:s(2),q:e.divide(s(2))};let t=s.randBetween(s(1),e.minus(1));const n=s.randBetween(s(1),e.minus(1)),o=s.randBetween(s(1),e.minus(1));let r,c=s.one,d=s.one,u=s.one,l=s.zero,p=s.zero;for(;c.eq(s.one);){l=t;for(let i=0;s(i).lesser(d);i++)t=a(t,s(2),e).add(n).remainder(e);for(r=s.zero;r.lesser(d)&&c.eq(s.one);){p=t;const f=s.min(o,d.minus(r));for(let i=0;s(i).lesser(f);i++)t=a(t,s(2),e).add(n).remainder(e),u=u.multiply(l.minus(t).abs()).remainder(e);c=i.gcd(u,e),r=r.add(o)}d=d.multiply(2)}if(c.eq(e))for(;p=a(p,s(2),e).add(n).remainder(e),c=i.gcd(l.minus(p).abs(),e),!c.greater(1););const f=c;return u=e.divide(c),f<u?{p:f,q:u}:{p:u,q:f}}}e.exports=i},32608:(e,t,n)=>{var s=n(48764).lW;const{IGE:a}=n(28136),i=n(89618);e.exports=class{constructor(e,t){this.ige=new a(e,t)}decryptIge(e){return i.convertToLittle(this.ige.decrypt(e))}encryptIge(e){const t=e.length%16;return t&&(e=s.concat([e,i.generateRandomBytes(16-t)])),i.convertToLittle(this.ige.encrypt(e))}}},74121:(e,t,n)=>{"use strict";function s(e){const t=new Uint8Array(4*e.length);let n=0;for(let s=0;s<e.length;s++){const a=e[s];t[n++]=a>>>24,t[n++]=a>>16&255,t[n++]=a>>8&255,t[n++]=255&a}return t.buffer}function a(e){return e.buffer}function i(e){const t=new Uint8Array(e),n=new Uint32Array(t.length/4);for(let e=0;e<t.length;e+=4)n[e/4]=t[e]<<24^t[e+1]<<16^t[e+2]<<8^t[e+3];return n}function o(e){return new Uint32Array(e)}n.r(t),n.d(t,{ab2i:()=>d,ab2iBig:()=>o,ab2iLow:()=>i,i2ab:()=>c,i2abBig:()=>a,i2abLow:()=>s,isBigEndian:()=>r});const r=1===new Uint8Array(new Uint32Array([16909060]))[0],c=r?a:s,d=r?o:i},66842:(e,t,n)=>{var s=n(48764).lW;const a=n(28136).default,{i2ab:i,ab2i:o}=n(74121),{getWords:r}=n(77760);class c{constructor(e){this.setBytes(e)}setBytes(e){e=s.from(e),this._counter=e}increment(){for(let e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}}}class d{constructor(e,t){t instanceof c||(t=new c(t)),this._counter=t,this._remainingCounter=void 0,this._remainingCounterIndex=16,this._aes=new a(r(e))}update(e){return this.encrypt(e)}encrypt(e){const t=s.from(e);for(let e=0;e<t.length;e++)16===this._remainingCounterIndex&&(this._remainingCounter=s.from(i(this._aes.encrypt(o(this._counter._counter)))),this._remainingCounterIndex=0,this._counter.increment()),t[e]^=this._remainingCounter[this._remainingCounterIndex++];return t}}class u{constructor(e){this.algorithm=e}update(e){this.data=new Uint8Array(e)}async digest(){return"sha1"===this.algorithm?s.from(await self.crypto.subtle.digest("SHA-1",this.data)):"sha256"===this.algorithm?s.from(await self.crypto.subtle.digest("SHA-256",this.data)):void 0}}e.exports={createCipheriv:function(e,t,n){if(e.includes("ECB"))throw new Error("Not supported");return new d(t,n)},createDecipheriv:function(e,t,n){if(e.includes("ECB"))throw new Error("Not supported");return new d(t,n)},randomBytes:function(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),t},createHash:function(e){return new u(e)},pbkdf2:async function(e,t,n){const a=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]);return s.from(await crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:t,iterations:n},a,512))}}},77760:(e,t,n)=>{"use strict";function s(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}function a(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(let t=e.length%4;t<=4;t++)e+="\0x00";const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=s(e,n);return t}if(e instanceof Uint8Array){const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=e[n]<<24^e[n+1]<<16^e[n+2]<<8^e[n+3];return t}throw new Error("Unable to create 32-bit words")}function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;for(let s=0;s<e.length;s++)n[s]=e[s]^t[s]}n.r(t),n.d(t,{getWords:()=>a,s2i:()=>s,xor:()=>i})},48187:e=>{class t extends Error{constructor(){super("The read operation was cancelled.")}}class n extends Error{constructor(e,t){super(`Could not find a matching Constructor ID for the TLObject that was supposed to be\n        read with ID ${e}. Most likely, a TLObject was trying to be read when\n         it should not be read. Remaining bytes: ${t.length}`),"undefined"!=typeof alert&&alert(`Missing MTProto Entity: Please, make sure to add TL definition for ID ${e}`),this.invalidConstructorId=e,this.remaining=t}}class s extends Error{constructor(e,t){super(`Invalid checksum (${e} when ${t} was expected). This packet should be skipped.`),this.checksum=e,this.validChecksum=t}}class a extends Error{constructor(e){let t;4===e.length?(t=-e.readInt32LE(0),super(`Invalid response buffer (HTTP code ${t})`)):super(`Invalid response buffer (too short ${e})`),this.code=t,this.payload=e}}class i extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length||(t=["A security check failed."]),super(...t)}}class o extends Error{constructor(e,t){let n=o.ErrorMessages[t]||`Unknown error code (this should not happen): ${t}.`;n+=`  Caused by ${e.className}`,super(n),this.message=n,this.code=t}}var r,c,d;r=o,d={16:"msg_id too low (most likely, client time is wrong it would be worthwhile to synchronize it using msg_id notifications and re-send the original message with the “correct” msg_id or wrap it in a container with a new msg_id if the original message had waited too long on the client to be transmitted).",17:"msg_id too high (similar to the previous case, the client time has to be synchronized, and the message re-sent with the correct msg_id).",18:"Incorrect two lower order msg_id bits (the server expects client message msg_id to be divisible by 4).",19:"Container msg_id is the same as msg_id of a previously received message (this must never happen).",20:"Message too old, and it cannot be verified whether the server has received a message with this msg_id or not.",32:"msg_seqno too low (the server has already received a message with a lower msg_id but with either a higher or an equal and odd seqno).",33:"msg_seqno too high (similarly, there is a message with a higher msg_id but with either a lower or an equal and odd seqno).",34:"An even msg_seqno expected (irrelevant message), but odd received.",35:"Odd msg_seqno expected (relevant message), but even received.",48:"Incorrect server salt (in this case, the bad_server_salt response is received with the correct salt, and the message is to be re-sent with it).",64:"Invalid container."},(c=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(c="ErrorMessages"))in r?Object.defineProperty(r,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[c]=d,e.exports={ReadCancelledError:t,TypeNotFoundError:n,InvalidChecksumError:s,InvalidBufferError:a,SecurityError:i,CdnFileTamperedError:class extends i{constructor(){super("The CDN file has been altered and its download cancelled.")}},BadMessageError:o}},86952:e=>{function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n extends Error{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super("RPCError {0}: {1}{2}".replace("{0}",s).replace("{1}",e).replace("{2}",n._fmtRequest(t))),this.code=s,this.message=e}static _fmtRequest(e){return e?` (caused by ${e.className})`:""}}e.exports={RPCError:n,InvalidDCError:class extends n{constructor(e,t,n){super(t,e,n),this.code=n||303,this.message=t||"ERROR_SEE_OTHER"}},BadRequestError:class extends n{constructor(){super(...arguments),t(this,"code",400),t(this,"message","BAD_REQUEST")}},UnauthorizedError:class extends n{constructor(){super(...arguments),t(this,"code",401),t(this,"message","UNAUTHORIZED")}},ForbiddenError:class extends n{constructor(){super(...arguments),t(this,"code",403),t(this,"message","FORBIDDEN")}},NotFoundError:class extends n{constructor(){super(...arguments),t(this,"code",404),t(this,"message","NOT_FOUND")}},AuthKeyError:class extends n{constructor(){super(...arguments),t(this,"code",406),t(this,"message","AUTH_KEY")}},FloodError:class extends n{constructor(){super(...arguments),t(this,"code",420),t(this,"message","FLOOD")}},ServerError:class extends n{constructor(){super(...arguments),t(this,"code",500),t(this,"message","INTERNAL")}},TimedOutError:class extends n{constructor(){super(...arguments),t(this,"code",503),t(this,"message","Timeout")}}}},65651:(e,t,n)=>{const{RPCError:s,InvalidDCError:a,FloodError:i,BadRequestError:o}=n(86952);class r extends a{constructor(e){const t=Number(e.capture||0);super(`The user whose identity is being used to execute queries is associated with DC ${t}${s._fmtRequest(e.request)}`),this.message=`The user whose identity is being used to execute queries is associated with DC ${t}${s._fmtRequest(e.request)}`,this.newDc=t}}class c extends a{constructor(e){const t=Number(e.capture||0);super(`The phone number a user is trying to use for authorization is associated with DC ${t}${s._fmtRequest(e.request)}`),this.message=`The phone number a user is trying to use for authorization is associated with DC ${t}${s._fmtRequest(e.request)}`,this.newDc=t}}class d extends i{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required before sending another message in this chat${s._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required before sending another message in this chat${s._fmtRequest(e.request)}`,this.seconds=t}}class u extends i{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required${s._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required${s._fmtRequest(e.request)}`,this.seconds=t}}class l extends i{constructor(e){super(`Message failed to be sent.${s._fmtRequest(e.request)}`),this.message=`Message failed to be sent.${s._fmtRequest(e.request)}`}}class p extends i{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required in the test servers${s._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required in the test servers${s._fmtRequest(e.request)}`,this.seconds=t}}class f extends a{constructor(e){const t=Number(e.capture||0);super(`The file to be accessed is currently stored in DC ${t}${s._fmtRequest(e.request)}`),this.message=`The file to be accessed is currently stored in DC ${t}${s._fmtRequest(e.request)}`,this.newDc=t}}class g extends a{constructor(e){const t=Number(e.capture||0);super(`The source IP address is associated with DC ${t}${s._fmtRequest(e.request)}`),this.message=`The source IP address is associated with DC ${t}${s._fmtRequest(e.request)}`,this.newDc=t}}class h extends o{constructor(e){const t=Number(e.capture||0);super(`Email unconfirmed, the length of the code must be ${t}${s._fmtRequest(e.request)}`),this.message=`Email unconfirmed, the length of the code must be ${t}${s._fmtRequest(e.request)}`,this.codeLength=t}}const m=[[/FILE_MIGRATE_(\d+)/,f],[/FLOOD_TEST_PHONE_WAIT_(\d+)/,p],[/FLOOD_WAIT_(\d+)/,u],[/MSG_WAIT_(.*)/,l],[/PHONE_MIGRATE_(\d+)/,c],[/SLOWMODE_WAIT_(\d+)/,d],[/USER_MIGRATE_(\d+)/,r],[/NETWORK_MIGRATE_(\d+)/,g],[/EMAIL_UNCONFIRMED_(\d+)/,h]];e.exports={rpcErrorRe:m,FileMigrateError:f,FloodTestPhoneWaitError:p,FloodWaitError:u,PhoneMigrateError:c,SlowModeWaitError:d,UserMigrateError:r,NetworkMigrateError:g,MsgWaitError:l,EmailUnconfirmedError:h}},87873:(e,t,n)=>{const{RPCError:s}=n(86952),{rpcErrorRe:a}=n(65651),i=n(48187),o=n(86952),r=n(65651);e.exports={RPCMessageToError:function(e,t){for(const[n,s]of a){const a=e.errorMessage.match(n);if(a)return new s({request:t,capture:2===a.length?parseInt(a[1],10):void 0})}return new s(e.errorMessage,t)},...i,...o,...r}},26316:()=>{},43903:(e,t,n)=>{const{EventBuilder:s}=n(80663);e.exports=class extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{types:void 0,func:void 0};super(),e.types?this.types=e.types:this.types=!0}build(e){return e}}},80663:e=>{e.exports={EventBuilder:class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{chats:void 0,blacklistChats:void 0,func:void 0};this.chats=e.chats,this.blacklistChats=Boolean(e.blacklistChats),this.resolved=!1,this.func=e.func}build(e){}}}},33182:(e,t,n)=>{const s=n(26316),a=n(43903);class i extends Error{}e.exports={NewMessage:s,StopPropagation:i,Raw:a}},16151:e=>{e.exports=class{constructor(){this._queue=[],this.canGet=new Promise((e=>{this.resolveGet=e})),this.canPush=!0}async push(e){await this.canPush,this._queue.push(e),this.resolveGet(!0),this.canPush=new Promise((e=>{this.resolvePush=e}))}async pop(){await this.canGet;const e=this._queue.pop();return this.resolvePush(!0),this.canGet=new Promise((e=>{this.resolveGet=e})),e}}},35544:(e,t,n)=>{const{TypeNotFoundError:s}=n(48187),{coreObjects:a}=n(92058),{tlobjects:i}=n(70845),{readBigIntFromBuffer:o}=n(89618);e.exports=class{constructor(e){this.stream=e,this._last=void 0,this.offset=0}readByte(){return this.read(1)[0]}readInt(){let e;return e=arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.stream.readUInt32LE(this.offset):this.stream.readInt32LE(this.offset),this.offset+=4,e}readLong(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.readLargeInt(64,e)}readFloat(){return this.read(4).readFloatLE(0)}readDouble(){return this.read(8).readDoubleLE(0)}readLargeInt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.read(Math.floor(e/8));return o(n,!0,t)}read(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;-1===e&&(e=this.stream.length-this.offset);const t=this.stream.slice(this.offset,this.offset+e);if(this.offset+=e,t.length!==e)throw Error(`No more data left to read (need ${e}, got ${t.length}: ${t}); last read ${this._last}`);return this._last=t,t}getBuffer(){return this.stream}tgReadBytes(){const e=this.readByte();let t,n;254===e?(n=this.readByte()|this.readByte()<<8|this.readByte()<<16,t=n%4):(n=e,t=(n+1)%4);const s=this.read(n);return t>0&&(t=4-t,this.read(t)),s}tgReadString(){return this.tgReadBytes().toString("utf-8")}tgReadBool(){const e=this.readInt(!1);if(2574415285===e)return!0;if(3162085175===e)return!1;throw new Error(`Invalid boolean code ${e.toString("16")}`)}tgReadDate(){const e=this.readInt();return new Date(1e3*e)}tgReadObject(){const e=this.readInt(!1);let t=i[e];if(void 0===t){if(2574415285===e)return!0;if(3162085175===e)return!1;if(481674261===e){const e=[],t=this.readInt();for(let n=0;n<t;n++)e.push(this.tgReadObject());return e}if(t=a[e],void 0===t){this.seek(-4);const t=this.tellPosition(),n=new s(e,this.read());throw this.setPosition(t),n}}return t.fromReader(this)}tgReadVector(){if(481674261!==this.readInt(!1))throw new Error("Invalid constructor code, vector was expected");const e=this.readInt(),t=[];for(let n=0;n<e;n++)t.push(this.tgReadObject());return t}close(){this.stream=void 0}tellPosition(){return this.offset}setPosition(e){this.offset=e}seek(e){this.offset+=e}}},96472:(e,t,n)=>{var s=n(48764).lW;e.exports=class{constructor(e){this._stream=e}write(e){this._stream=s.concat([this._stream,e])}getValue(){return this._stream}}},96748:e=>{let t;class n{constructor(e){t||(t=e||"debug"),this.isBrowser="undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs,this.isBrowser?this.colors={start:"%c",warn:"color : #ff00ff",info:"color : #ffff00",debug:"color : #00ffff",error:"color : #ff0000",end:""}:this.colors={start:"[2m",warn:"[35m",info:"[33m",debug:"[36m",error:"[31m",end:"[0m"},this.messageFormat="[%t] [%l] - [%m]"}static setLevel(e){t=e}canSend(e){return n.LEVEL_MAP.get(t).has(e)}warn(e){this._log("warn",e,this.colors.warn)}info(e){this._log("info",e,this.colors.info)}debug(e){this._log("debug",e,this.colors.debug)}error(e){this._log("error",e,this.colors.error)}format(e,t){return this.messageFormat.replace("%t",(new Date).toISOString()).replace("%l",t.toUpperCase()).replace("%m",e)}_log(e,n,s){t&&this.canSend(e)&&(this.isBrowser?console.log(this.colors.start+this.format(n,e),s):console.log(s+this.format(n,e)+this.colors.end))}}var s,a,i;s=n,a="LEVEL_MAP",i=new Map([["error",new Set(["error"])],["warn",new Set(["error","warn"])],["info",new Set(["error","warn","info"])],["debug",new Set(["error","warn","info","debug"])]]),(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i,e.exports=n},36411:(e,t,n)=>{var s=n(48764).lW;const a=n(63254),i=n(40355),o=n(96472),r=new Set(["messages.SendMessage","messages.SendMedia","messages.SendMultiMedia","messages.ForwardMessages","messages.SendInlineBotResult"]);e.exports=class{constructor(e,t){this._state=e,this._queue=[],this._pendingStates=[],this._ready=new Promise((e=>{this.setReady=e})),this._log=t}values(){return this._queue}append(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&r.has(e.request.className))if(n){for(let t=0;t<this._queue.length;t++)if(r.has(this._queue[t]?.request.className)){this._queue[t].after=e;break}}else for(let t=this._queue.length-1;t>=0;t--)if(r.has(this._queue[t]?.request.className)){e.after=this._queue[t];break}n?this._queue.unshift(e):this._queue.push(e),t&&this.setReady(!0),e&&1658238041!==e.request.CONSTRUCTOR_ID&&(this._pendingStates.push(e),e.promise.catch((()=>{})).finally((()=>{this._pendingStates=this._pendingStates.filter((t=>t!==e))})))}prepend(e){e.reverse().forEach((e=>{this.append(e,!1,!0)})),this.setReady(!0)}extend(e){e.forEach((e=>{this.append(e,!1)})),this.setReady(!0)}async get(){if(this._queue.length||(this._ready=new Promise((e=>{this.setReady=e})),await this._ready),!this._queue[this._queue.length-1])return void(this._queue=[]);let e,t=new o(s.alloc(0));const n=[];let r=0;for(;this._queue.length&&n.length<=a.MAXIMUM_LENGTH;){const e=this._queue.shift();if(e)if(e.abortSignal?.aborted)e.reject(new Error("Request aborted"));else if(r+=e.data.length+i.SIZE_OVERHEAD,r<=a.MAXIMUM_SIZE){let s;e.after&&(s=e.after.msgId),e.msgId=await this._state.writeDataAsMessage(t,e.data,"request"===e.request.classType,s),this._log.debug(`Assigned msgId = ${e.msgId} to ${e.request.className||e.request.constructor.name}`),n.push(e)}else{if(n.length){this._queue.unshift(e);break}this._log.warn(`Message payload for ${e.request.className||e.request.constructor.name} is too long ${e.data.length} and cannot be sent`),e.reject("Request Payload is too big"),r=0}}if(n.length){if(n.length>1){const i=s.alloc(8);i.writeUInt32LE(a.CONSTRUCTOR_ID,0),i.writeInt32LE(n.length,4),e=s.concat([i,t.getValue()]),t=new o(s.alloc(0));const r=await this._state.writeDataAsMessage(t,e,!1);for(const e of n)e.containerId=r}return e=t.getValue(),{batch:n,data:e}}}}},71721:e=>{e.exports=class{constructor(){this._pending=new Map}set(e,t){this._pending.set(e.toString(),t)}get(e){return this._pending.get(e.toString())}getAndDelete(e){const t=this.get(e);return this.delete(e),t}values(){return Array.from(this._pending.values())}delete(e){this._pending.delete(e.toString())}clear(){this._pending.clear()}}},7214:(e,t,n)=>{var s=n(48764).lW;const{Mutex:a}=n(48125),i=new a,o=new Error("WebSocket was closed");e.exports=class{constructor(e){this.client=void 0,this.closed=!0,this.disconnectedCallback=e}async readExactly(e){let t=s.alloc(0);for(;;){const n=await this.read(e);if(t=s.concat([t,n]),!(e-=n.length))return t}}async read(e){if(this.closed)throw o;if(await this.canRead,this.closed)throw o;const t=this.stream.slice(0,e);return this.stream=this.stream.slice(e),0===this.stream.length&&(this.canRead=new Promise((e=>{this.resolveRead=e}))),t}async readAll(){if(this.closed||!await this.canRead)throw o;const e=this.stream;return this.stream=s.alloc(0),this.canRead=new Promise((e=>{this.resolveRead=e})),e}getWebSocketLink(e,t,n,s){return 443===t?`wss://${e}:${t}/apiws${n?"_test":""}${s?"_premium":""}`:`ws://${e}:${t}/apiws${n?"_test":""}${s?"_premium":""}`}connect(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.stream=s.alloc(0),this.canRead=new Promise((e=>{this.resolveRead=e})),this.closed=!1,this.website=this.getWebSocketLink(t,e,n,a),this.client=new WebSocket(this.website,"binary"),new Promise(((e,n)=>{this.client.onopen=()=>{this.receive(),e(this)},this.client.onerror=e=>{console.error("WebSocket error",e),n(e)},this.client.onclose=e=>{const{code:n,reason:s,wasClean:a}=e;1e3!==n&&console.error(`Socket ${t} closed. Code: ${n}, reason: ${s}, was clean: ${a}`),this.resolveRead(!1),this.closed=!0,this.disconnectedCallback&&this.disconnectedCallback()},self.addEventListener("offline",(async()=>{await this.close(),this.resolveRead(!1)}))}))}write(e){if(this.closed)throw o;this.client.send(e)}async close(){await this.client.close(),this.closed=!0}receive(){this.client.onmessage=async e=>{await i.runExclusive((async()=>{const t=e.data instanceof ArrayBuffer?s.from(e.data):s.from(await new Response(e.data).arrayBuffer());this.stream=s.concat([this.stream,t]),this.resolveRead(!0)}))}}}},89832:(e,t,n)=>{const s=n(96748),a=n(96472),i=n(35544),o=n(7214),r=n(36411),c=n(16151);e.exports={BinaryWriter:a,BinaryReader:i,MessagePacker:r,AsyncQueue:c,Logger:s,PromisedWebSockets:o}},13522:(e,t,n)=>{const s=n(77150),a=n(78742),i=n(18415),o=n(57404),r=n(61472),c=n(33182),d=n(48960),u=n(87873),l=n(15886),p=n(89832),f=n(89618);e.exports={Api:s,TelegramClient:a,sessions:l,connection:i,extensions:p,tl:o,version:r,events:c,utils:d,errors:u,helpers:f}},59870:(e,t,n)=>{"use strict";n.r(t),n.d(t,{doAuthentication:()=>m});var s=n(77150),a=n.n(s),i=n(87873),o=n(24736),r=n.n(o);n(89618),n(48764).lW;const c=[{fingerprint:r()("-3414540481677951611"),n:r()("29379598170669337022986177149456128565388431120058863768162556424047512191330847455146576344487764408661701890505066208632169112269581063774293102577308490531282748465986139880977280302242772832972539403531316010870401287642763009136156734339538042419388722777357134487746169093539093850251243897188928735903389451772730245253062963384108812842079887538976360465290946139638691491496062099570836476454855996319192747663615955633778034897140982517446405334423701359108810182097749467210509584293428076654573384828809574217079944388301239431309115013843331317877374435868468779972014486325557807783825502498215169806323"),e:65537},{fingerprint:r()("-5595554452916591101"),n:r()("25342889448840415564971689590713473206898847759084779052582026594546022463853940585885215951168491965708222649399180603818074200620463776135424884632162512403163793083921641631564740959529419359595852941166848940585952337613333022396096584117954892216031229237302943701877588456738335398602461675225081791820393153757504952636234951323237820036543581047826906120927972487366805292115792231423684261262330394324750785450942589751755390156647751460719351439969059949569615302809050721500330239005077889855323917509948255722081644689442127297605422579707142646660768825302832201908302295573257427896031830742328565032949"),e:65537}].reduce(((e,t)=>{let{fingerprint:n,...s}=t;return e.set(n.toString(),s),e}),new Map);var d=n(48764).lW;const u=n(24736),l=n(32608),p=n(13302),f=n(89636),g=n(89618),h=n(35544);async function m(e,t){let n=g.generateRandomBytes(16);const s=g.readBigIntFromBuffer(n,!1,!0),o=await e.send(new(a().ReqPqMulti)({nonce:s}));if(t.debug("Starting authKey generation step 1"),!(o instanceof a().ResPQ))throw new i.SecurityError(`Step 1 answer was ${o}`);if(o.nonce.neq(s))throw new i.SecurityError("Step 1 invalid nonce from server");const r=g.readBigIntFromBuffer(o.pq,!1,!0);t.debug("Finished authKey generation step 1");const{p:m,q:y}=f.factorize(r),_=g.getByteArray(m),b=g.getByteArray(y);n=g.generateRandomBytes(32);const w=g.readBigIntFromBuffer(n,!0,!0),v=new(a().PQInnerData)({pq:g.getByteArray(r),p:_,q:b,nonce:o.nonce,serverNonce:o.serverNonce,newNonce:w}).getBytes();if(v.length>144)throw new i.SecurityError("Step 1 invalid nonce from server");let A,S;for(const e of o.serverPublicKeyFingerprints)if(S=c.get(e.toString()),void 0!==S){A=e;break}if(void 0===A||void 0===S)throw new i.SecurityError("Step 2 could not find a valid key for fingerprints");const I=g.generateRandomBytes(192-v.length),P=d.concat([v,I]),C=d.from(P).reverse();let M;for(let e=0;e<20;e++){const e=g.generateRandomBytes(32),n=await g.sha256(d.concat([e,P])),s=d.concat([C,n]),a=new l(e,d.alloc(32)).encryptIge(s),i=g.bufferXor(e,await g.sha256(a)),o=d.concat([i,a]),r=g.readBigIntFromBuffer(o,!1,!1);if(r.greaterOrEquals(S.n)){t.debug("Aes key greater than RSA. retrying");continue}const c=g.modExp(r,u(S.e),S.n);M=g.readBufferFromBigInt(c,256,!1,!1);break}if(void 0===M)throw new i.SecurityError("Step 2 could create a secure encrypted key");t.debug("Step 2 : Generated a secure aes encrypted data");const k=await e.send(new(a().ReqDHParams)({nonce:o.nonce,serverNonce:o.serverNonce,p:_,q:b,publicKeyFingerprint:A,encryptedData:M}));if(!(k instanceof a().ServerDHParamsOk||k instanceof a().ServerDHParamsFail))throw new Error(`Step 2.1 answer was ${k}`);if(k.nonce.neq(o.nonce))throw new i.SecurityError("Step 2 invalid nonce from server");if(k.serverNonce.neq(o.serverNonce))throw new i.SecurityError("Step 2 invalid server nonce from server");if(k instanceof a().ServerDHParamsFail){const e=await g.sha1(g.toSignedLittleBuffer(w,32).slice(4,20)),t=g.readBigIntFromBuffer(e,!0,!0);if(k.newNonceHash.neq(t))throw new i.SecurityError("Step 2 invalid DH fail nonce from server")}if(!(k instanceof a().ServerDHParamsOk))throw new Error(`Step 2.2 answer was ${k}`);t.debug("Finished authKey generation step 2"),t.debug("Starting authKey generation step 3");const{key:E,iv:R}=await g.generateKeyDataFromNonce(o.serverNonce,w);if(k.encryptedAnswer.length%16!=0)throw new i.SecurityError("Step 3 AES block size mismatch");const U=new l(E,R),T=U.decryptIge(k.encryptedAnswer),B=new h(T);B.read(20);const D=B.tgReadObject();if(!(D instanceof a().ServerDHInnerData))throw new Error(`Step 3 answer was ${D}`);if(D.nonce.neq(o.nonce))throw new i.SecurityError("Step 3 Invalid nonce in encrypted answer");if(D.serverNonce.neq(o.serverNonce))throw new i.SecurityError("Step 3 Invalid server nonce in encrypted answer");if(3!==D.g||"c71caeb9c6b1c9048e6c522f70f13f73980d40238e3e21c14934d037563d930f48198a0aa7c14058229493d22530f4dbfa336f6e0ac925139543aed44cce7c3720fd51f69458705ac68cd4fe6b6b13abdc9746512969328454f18faf8c595f642477fe96bb2a941d5bcd1d4ac8cc49880708fa9b378e3c4f3a9060bee67cf9a4a4a695811051907e162753b56b0f6b410dba74d8a84b2a14b3144e0ef1284754fd17ed950d5965b4b9dd46582db1178d169c6bc465b0d6ff9ca3928fef5b9ae4e418fc15e83ebea0f87fa9ff5eed70050ded2849f47bf959d956850ce929851f0d8115f635b105ee2e4e15d04b2454bf6f4fadf034b10403119cd8e3b92fcc5b"!==D.dhPrime.toString("hex"))throw new i.SecurityError("Step 3 invalid dhPrime or g");const x=g.readBigIntFromBuffer(D.dhPrime,!1,!1),V=g.readBigIntFromBuffer(D.gA,!1,!1),N=D.serverTime-Math.floor((new Date).getTime()/1e3),F=g.readBigIntFromBuffer(g.generateRandomBytes(256),!1,!1),q=g.modExp(u(D.g),F,x),O=g.modExp(V,F,x);if(V.lesserOrEquals(1))throw new i.SecurityError("Step 3 failed ga > 1 check");if(q.lesserOrEquals(1))throw new i.SecurityError("Step 3 failed gb > 1 check");if(V.greater(x.minus(1)))throw new i.SecurityError("Step 3 failed ga > dh_prime - 1 check");const L=u(2).pow(1984);if(!V.greaterOrEquals(L)||!V.lesserOrEquals(x.minus(L)))throw new i.SecurityError("Step 3 failed dh_prime - 2^{2048-64} < ga < 2^{2048-64} check");if(!q.greaterOrEquals(L)||!q.lesserOrEquals(x.minus(L)))throw new i.SecurityError("Step 3 failed dh_prime - 2^{2048-64} < gb < 2^{2048-64} check");const H=new(a().ClientDHInnerData)({nonce:o.nonce,serverNonce:o.serverNonce,retryId:u.zero,gB:g.getByteArray(q,!1)}).getBytes(),G=d.concat([await g.sha1(H),H]),j=U.encryptIge(G),K=await e.send(new(a().SetClientDHParams)({nonce:o.nonce,serverNonce:o.serverNonce,encryptedData:j})),W=[a().DhGenOk,a().DhGenRetry,a().DhGenFail];if(!(K instanceof W[0]||K instanceof W[1]||K instanceof W[2]))throw new Error(`Step 3.1 answer was ${K}`);const{name:z}=K.constructor;if(K.nonce.neq(o.nonce))throw new i.SecurityError(`Step 3 invalid ${z} nonce from server`);if(K.serverNonce.neq(o.serverNonce))throw new i.SecurityError(`Step 3 invalid ${z} server nonce from server`);const $=new p;await $.setKey(g.getByteArray(O));const J=1+["DhGenOk","DhGenRetry","DhGenFail"].indexOf(K.className),Q=await $.calcNewNonceHash(w,J);if(K[`newNonceHash${J}`].neq(Q))throw new i.SecurityError("Step 3 invalid new nonce hash");if(!(K instanceof a().DhGenOk))throw new Error(`Step 3.2 answer was ${K}`);return t.debug("Finished authKey generation step 3"),{authKey:$,timeOffset:N}}},45585:(e,t,n)=>{var s=n(48764).lW;const a=n(24736),i=n(59109),o=n(35544),{InvalidBufferError:r}=n(48187),{toSignedLittleBuffer:c}=n(89618);e.exports=class{constructor(e,t){this._state=new i(e,t),this._connection=e}async send(e){let t=e.getBytes(),n=this._state._getNewMsgId();const i=c(n,8),d=s.alloc(4);d.writeInt32LE(t.length,0);const u=s.concat([s.concat([s.alloc(8),i,d]),t]);if(await this._connection.send(u),t=await this._connection.recv(),t.length<8)throw new r(t);const l=new o(t);if(l.readLong().neq(a(0)))throw new Error("Bad authKeyId");if(n=l.readLong(),n.eq(a(0)))throw new Error("Bad msgId");if(l.readInt()<=0)throw new Error("Bad length");return l.tgReadObject()}}},74046:(e,t,n)=>{const{RPCError:s}=n(87873),a=n(45585),i=n(59109),o=n(89618),r=n(13302),{doAuthentication:c}=n(59870),d=n(52301),u=n(63254),l=n(68963),p=n(44287),{MsgsAck:f,upload:g,MsgsStateInfo:h,Pong:m}=n(57404).constructors,y=n(36411),_=n(35544),b=n(71721),{UpdateConnectionState:w,UpdateServerTimeOffset:v}=n(68744),{BadMessageError:A}=n(48187),{BadServerSalt:S,BadMsgNotification:I,MsgDetailedInfo:P,MsgNewDetailedInfo:C,NewSessionCreated:M,FutureSalts:k,MsgsStateReq:E,MsgResendReq:R,MsgsAllInfo:U}=n(57404).constructors,{SecurityError:T}=n(48187),{InvalidBufferError:B}=n(48187),{RPCMessageToError:D}=n(87873),{TypeNotFoundError:x}=n(48187);class V{constructor(e,t){const n={...V.DEFAULT_OPTIONS,...t};this._connection=void 0,this._log=n.logger,this._dcId=n.dcId,this._retries=n.retries,this._delay=n.delay,this._autoReconnect=n.autoReconnect,this._connectTimeout=n.connectTimeout,this._authKeyCallback=n.authKeyCallback,this._updateCallback=n.updateCallback,this._autoReconnectCallback=n.autoReconnectCallback,this._isMainSender=n.isMainSender,this._onConnectionBreak=n.onConnectionBreak,this.userDisconnected=!1,this._user_connected=!1,this.isReconnecting=!1,this._disconnected=!0,this._send_loop_handle=void 0,this._recv_loop_handle=void 0,this.authKey=e||new r,this._state=new i(this.authKey,this._log),this._send_queue=new y(this._state,this._log),this._pending_state=new b,this._pending_ack=new Set,this._last_acks=[],this._handlers={[d.CONSTRUCTOR_ID]:this._handleRPCResult.bind(this),[u.CONSTRUCTOR_ID]:this._handleContainer.bind(this),[l.CONSTRUCTOR_ID]:this._handleGzipPacked.bind(this),[m.CONSTRUCTOR_ID]:this._handlePong.bind(this),[S.CONSTRUCTOR_ID]:this._handleBadServerSalt.bind(this),[I.CONSTRUCTOR_ID]:this._handleBadNotification.bind(this),[P.CONSTRUCTOR_ID]:this._handleDetailedInfo.bind(this),[C.CONSTRUCTOR_ID]:this._handleNewDetailedInfo.bind(this),[M.CONSTRUCTOR_ID]:this._handleNewSessionCreated.bind(this),[f.CONSTRUCTOR_ID]:this._handleAck.bind(this),[k.CONSTRUCTOR_ID]:this._handleFutureSalts.bind(this),[E.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[R.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[U.CONSTRUCTOR_ID]:this._handleMsgAll.bind(this)}}async connect(e,t){if(this.userDisconnected=!1,this._user_connected&&!t)return this._log.info("User is already connected!"),!1;this.isConnecting=!0,this._connection=e;for(let e=0;e<this._retries;e++)try{await this._connect(),this._updateCallback&&this._updateCallback(new w(w.connected));break}catch(t){this._updateCallback&&0===e&&this._updateCallback(new w(w.disconnected)),this._log.error(`WebSocket connection failed attempt: ${e+1}`),console.error(t),await o.sleep(this._delay)}return this.isConnecting=!1,!0}isConnected(){return this._user_connected}async disconnect(){this.userDisconnected=!0,await this._disconnect()}send(e,t){const n=new p(e,t);return this._send_queue.append(n),n.promise}addStateToQueue(e){this._send_queue.append(e)}async _connect(){if(this._log.info("Connecting to {0}...".replace("{0}",this._connection)),await this._connection.connect(),this._log.debug("Connection success!"),this.authKey.getKey())this._authenticated=!0,this._log.debug("Already have an auth key ...");else{const e=new a(this._connection,this._log);this._log.debug("New auth_key attempt ...");const t=await c(e,this._log);this._log.debug("Generated new auth_key successfully"),await this.authKey.setKey(t.authKey),this._state.timeOffset=t.timeOffset,this._updateCallback&&this._updateCallback(new v(this._state.timeOffset)),this._authKeyCallback&&await this._authKeyCallback(this.authKey,this._dcId)}this._user_connected=!0,this.isReconnecting=!1,this._log.debug("Starting send loop"),this._send_loop_handle=this._sendLoop(),this._log.debug("Starting receive loop"),this._recv_loop_handle=this._recvLoop(),this._log.info("Connection to %s complete!".replace("%s",this._connection.toString()))}async _disconnect(){this._updateCallback&&this._updateCallback(new w(w.disconnected)),void 0!==this._connection?(this._log.info("Disconnecting from %s...".replace("%s",this._connection.toString())),this._user_connected=!1,this._log.debug("Closing current connection..."),await this._connection.disconnect()):this._log.info("Not disconnecting (already have no connection)")}async _sendLoop(){for(this._send_queue.prepend(this._pending_state.values()),this._pending_state.clear();this._user_connected&&!this.isReconnecting;){if(this._pending_ack.size){const e=new p(new f({msgIds:Array(...this._pending_ack)}));this._send_queue.append(e),this._last_acks.push(e),this._last_acks.length>=10&&this._last_acks.shift(),this._pending_ack.clear()}this._log.debug(`Waiting for messages to send...${this.isReconnecting}`);const e=await this._send_queue.get();if(this.isReconnecting)return;if(!e)continue;let{data:t}=e;const{batch:n}=e;this._log.debug(`Encrypting ${n.length} message(s) in ${t.length} bytes for sending`),t=await this._state.encryptMessageData(t);try{await this._connection.send(t)}catch(e){return this._log.error(e),void this._log.info("Connection closed while sending data")}for(const e of n)if(Array.isArray(e))for(const t of e)"request"===t.request.classType&&this._pending_state.set(t.msgId,t);else"request"===e.request.classType&&this._pending_state.set(e.msgId,e);this._log.debug("Encrypted messages put in a queue to be sent")}}async _recvLoop(){let e,t;for(;this._user_connected&&!this.isReconnecting;){this._log.debug("Receiving items from the network...");try{e=await this._connection.recv()}catch(e){return void(this.userDisconnected||(this._log.error(e),this._log.warn("Connection closed while receiving data"),this.reconnect()))}try{t=await this._state.decryptMessageData(e)}catch(e){if(e instanceof x){this._log.info(`Type ${e.invalidConstructorId} not found, remaining data ${e.remaining}`);continue}if(e instanceof T){this._log.warn(`Security error while unpacking a received message: ${e}`);continue}return e instanceof B?void(404===e.code?this._handleBadAuthKey():(this._log.warn(`Invalid buffer ${e.code} for dc ${this._dcId}`),this.reconnect())):(this._log.error("Unhandled error while receiving data"),this._log.error(e),void this.reconnect())}try{await this._processMessage(t)}catch(e){e instanceof s?"AUTH_KEY_UNREGISTERED"!==e.message&&"SESSION_REVOKED"!==e.message||this._handleBadAuthKey(!0):(this._log.error("Unhandled error while receiving data"),this._log.error(e))}}}_handleBadAuthKey(e){e&&this._isMainSender||(this._log.warn(`Broken authorization key for dc ${this._dcId}, resetting...`),this._isMainSender&&this._updateCallback?this._updateCallback(new w(w.broken)):!this._isMainSender&&this._onConnectionBreak&&this._onConnectionBreak(this._dcId))}async _processMessage(e){this._pending_ack.add(e.msgId),e.obj=await e.obj;let t=this._handlers[e.obj.CONSTRUCTOR_ID];t||(t=this._handleUpdate.bind(this)),await t(e)}_popStates(e){const t=this._pending_state.getAndDelete(e);if(t)return[t];const n=[];for(const t of this._pending_state.values())t.containerId?.equals(e)&&n.push(t.msgId);if(n.length){const e=[];for(const t of n)e.push(this._pending_state.getAndDelete(t));return e}for(const t of this._last_acks)if(t.msgId===e)return[t];return[]}_handleRPCResult(e){const t=e.obj,n=this._pending_state.getAndDelete(t.reqMsgId);if(this._log.debug(`Handling RPC result for message ${t.reqMsgId}`),!n)try{if(!(new _(t.body).tgReadObject()instanceof g.File))throw new x("Not an upload.File")}catch(e){if(this._log.error(e),e instanceof x)return void this._log.info(`Received response without parent request: ${t.body}`);throw e}if(t.error){const e=D(t.error,n.request);throw this._send_queue.append(new p(new f({msgIds:[n.msgId]}))),n.reject(e),e}try{const e=new _(t.body),s=n.request.readResult(e);n.resolve(s)}catch(e){throw n.reject(e),e}}async _handleContainer(e){this._log.debug("Handling container");for(const t of e.obj.messages)await this._processMessage(t)}async _handleGzipPacked(e){this._log.debug("Handling gzipped data");const t=new _(e.obj.data);e.obj=t.tgReadObject(),await this._processMessage(e)}_handleUpdate(e){2331323052===e.obj.SUBCLASS_OF_ID?(this._log.debug(`Handling update ${e.obj.className}`),this._updateCallback&&this._updateCallback(e.obj)):this._log.warn(`Note: ${e.obj.className} is not an update, not dispatching it`)}_handlePong(e){const t=e.obj,n=this._state.updateTimeOffset(e.msgId);this._updateCallback&&this._updateCallback(new v(n)),this._log.debug(`Handling pong for message ${t.msgId}`);const s=this._pending_state.getAndDelete(t.msgId);s&&s.resolve(t)}_handleBadServerSalt(e){const t=e.obj;this._log.debug(`Handling bad salt for message ${t.badMsgId}`),this._state.salt=t.newServerSalt;const n=this._popStates(t.badMsgId);this._send_queue.extend(n),this._log.debug(`${n.length} message(s) will be resent`)}_handleBadNotification(e){const t=e.obj,n=this._popStates(t.badMsgId);if(this._log.debug(`Handling bad msg ${JSON.stringify(t)}`),[16,17].includes(t.errorCode)){const t=this._state.updateTimeOffset(e.msgId);this._updateCallback&&this._updateCallback(new v(t)),this._log.info(`System clock is wrong, set time offset to ${t}s`)}else if(32===t.errorCode)this._state._sequence+=64;else{if(33!==t.errorCode){for(const e of n)e.reject(new A(e.request,t.errorCode));return}this._state._sequence-=16}this._send_queue.extend(n),this._log.debug(`${n.length} messages will be resent due to bad msg`)}_handleDetailedInfo(e){const t=e.obj.answerMsgId;this._log.debug(`Handling detailed info for message ${t}`),this._pending_ack.add(t)}_handleNewDetailedInfo(e){const t=e.obj.answerMsgId;this._log.debug(`Handling new detailed info for message ${t}`),this._pending_ack.add(t)}_handleNewSessionCreated(e){this._log.debug("Handling new session created"),this._state.salt=e.obj.serverSalt}_handleAck(){}_handleFutureSalts(e){this._log.debug(`Handling future salts for message ${e.msgId}`);const t=this._pending_state.getAndDelete(e.msgId);t&&t.resolve(e.obj)}_handleStateForgotten(e){this._send_queue.append(new p(new h({msgId:e.msgId,query:String.fromCharCode(1).repeat(e.obj.msgIds)})))}_handleMsgAll(e){}reconnect(){this._user_connected&&!this.isReconnecting&&(this.isReconnecting=!0,o.sleep(1e3).then((()=>{this._log.info("Started reconnecting"),this._reconnect()})))}async _reconnect(){this._log.debug("Closing current connection...");try{await this._disconnect()}catch(e){this._log.warn(e)}this._send_queue.append(void 0),this._state.reset();const e=new this._connection.constructor(this._connection._ip,this._connection._port,this._connection._dcId,this._connection._log,this._connection._testServers);await this.connect(e,!0),this.isReconnecting=!1,this._autoReconnectCallback&&await this._autoReconnectCallback()}}var N,F,q;N=V,q={logger:void 0,retries:1/0,delay:2e3,autoReconnect:!0,connectTimeout:void 0,authKeyCallback:void 0,updateCallback:void 0,autoReconnectCallback:void 0,isMainSender:void 0,onConnectionBreak:void 0},(F=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(F="DEFAULT_OPTIONS"))in N?Object.defineProperty(N,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):N[F]=q,e.exports=V},59109:(e,t,n)=>{var s=n(48764).lW;const a=n(24736),i=n(28136),o=n(89618),r=n(32608),c=n(35544),d=n(68963),{TLMessage:u}=n(92058),{SecurityError:l,InvalidBufferError:p}=n(48187),{InvokeAfterMsg:f}=n(57404).requests,{toSignedLittleBuffer:g}=n(89618);e.exports=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.authKey=e,this._log=t,this._isCall=n,this._isOutgoing=s,this.timeOffset=0,this.salt=0,this.id=void 0,this._sequence=void 0,this._lastMsgId=void 0,this.msgIds=[],this.reset()}reset(){this.id=o.generateRandomLong(!0),this._sequence=0,this._lastMsgId=a(0),this.msgIds=[]}updateMessageId(e){e.msgId=this._getNewMsgId()}async _calcKey(e,t,n){const a=this._isCall?128+(this._isOutgoing^n?8:0):!0===n?0:8,[i,r]=await Promise.all([o.sha256(s.concat([t,e.slice(a,a+36)])),o.sha256(s.concat([e.slice(a+40,a+76),t]))]),c=s.concat([i.slice(0,8),r.slice(8,24),i.slice(24,32)]);return this._isCall?{key:c,iv:s.concat([r.slice(0,4),i.slice(8,16),r.slice(24,28)])}:{key:c,iv:s.concat([r.slice(0,8),i.slice(8,24),r.slice(24,32)])}}async writeDataAsMessage(e,t,n,a){const i=this._getNewMsgId(),o=this._getSeqNo(n);let r;r=a?await d.gzipIfSmaller(n,new f({msgId:a,query:{getBytes:()=>t}}).getBytes()):await d.gzipIfSmaller(n,t);const c=s.alloc(4);c.writeInt32LE(o,0);const u=s.alloc(4);u.writeInt32LE(r.length,0);const l=g(i,8);return e.write(s.concat([l,c,u])),e.write(r),i}async encryptMessageData(e){if(await this.authKey.waitForKey(),this._isCall){const t=128+(this._isOutgoing?0:8),n=e.length;e=s.from(e),n%4!=0&&(e=s.concat([e,s.from(new Array(4-n%4).fill(32))]));const a=(await o.sha256(s.concat([this.authKey.getKey().slice(88+t,88+t+32),s.from(e)]))).slice(8,24),{iv:r,key:c}=await this._calcKey(this.authKey.getKey(),a,!0);return e=o.convertToLittle(new i.CTR(c,r).encrypt(e)),s.concat([a,e])}{const t=g(this.salt,8),n=g(this.id,8);e=s.concat([s.concat([t,n]),e]);const a=o.generateRandomBytes(o.mod(-(e.length+12),16)+12),i=(await o.sha256(s.concat([this.authKey.getKey().slice(88,120),e,a]))).slice(8,24),{iv:c,key:d}=await this._calcKey(this.authKey.getKey(),i,!0),u=o.readBufferFromBigInt(this.authKey.keyId,8);return s.concat([u,i,new r(d,c).encryptIge(s.concat([e,a]))])}}async decryptMessageData(e){if(e.length<8)throw new p(e);if(e.length<0)throw new l("Server replied with negative length");if(e.length%4!=0&&!this._isCall)throw new l("Server replied with length not divisible by 4");if(!this._isCall&&o.readBigIntFromBuffer(e.slice(0,8)).neq(this.authKey.keyId))throw new l("Server replied with an invalid auth key");const t=this._isCall?e.slice(0,16):e.slice(8,24),n=this._isCall?128+(this.isOutgoing?8:0):void 0,{iv:a,key:d}=await this._calcKey(this.authKey.getKey(),t,!1);if(this._isCall){const t=(e=e.slice(16)).length;e=s.concat([e,s.from(new Array(4-t%4).fill(0))]),e=(e=o.convertToLittle(new i.CTR(d,a).decrypt(e))).slice(0,t)}else e=new r(d,a).decryptIge(this._isCall?e.slice(16):e.slice(24));const f=this._isCall?await o.sha256(s.concat([this.authKey.getKey().slice(88+n,88+n+32),e])):await o.sha256(s.concat([this.authKey.getKey().slice(96,128),e]));if(!this._isCall&&!t.equals(f.slice(8,24)))throw new l("Received msg_key doesn't match with expected one");const g=new c(e);if(this._isCall)return g.readInt(!1),g.read(e.length-4);{if(g.readLong(),!g.readLong().eq(this.id))throw new l("Server replied with a wrong session ID");const t=g.readLong();if(this.msgIds.includes(t.toString()))throw new l("Duplicate msgIds");this.msgIds.length>500&&this.msgIds.shift(),this.msgIds.push(t.toString());const n=g.readInt(),s=g.readInt(),a=e.length-s;if(a<12||a>1024)throw new l("Server replied with the wrong message padding");const i=g.tgReadObject();return new u(t,n,i)}}_getNewMsgId(){const e=(new Date).getTime()/1e3+this.timeOffset,t=Math.floor(1e9*(e-Math.floor(e)));let n=a(Math.floor(e)).shiftLeft(a(32)).or(a(t).shiftLeft(a(2)));return this._lastMsgId.greaterOrEquals(n)&&(n=this._lastMsgId.add(a(4))),this._lastMsgId=n,n}updateTimeOffset(e){const t=this._getNewMsgId(),n=this.timeOffset,s=Math.floor((new Date).getTime()/1e3),i=e.shiftRight(a(32));return this.timeOffset=i-s,this.timeOffset!==n&&(this._lastMsgId=a(0),this._log.debug(`Updated time offset (old offset ${n}, bad ${t}, good ${e}, new ${this.timeOffset})`)),this.timeOffset}_getSeqNo(e){if(e){const e=2*this._sequence+1;return this._sequence+=1,e}return 2*this._sequence}}},44287:(e,t,n)=>{const s=n(46586).Z;e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.containerId=void 0,this.msgId=void 0,this.request=e,this.data=e.getBytes(),this.after=void 0,this.result=void 0,this.abortSignal=t,this.finished=new s,this.resetPromise()}isReady(){return!this.after||this.after.finished.promise}resetPromise(){this.reject?.(),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},34353:(e,t,n)=>{function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=n(7214),i=n(16151);class o{constructor(e,t,n,o,r,c){s(this,"PacketCodecClass",void 0),this._ip=e,this._port=t,this._dcId=n,this._log=o,this._testServers=r,this._isPremium=c,this._connected=!1,this._sendTask=void 0,this._recvTask=void 0,this._codec=void 0,this._obfuscation=void 0,this._sendArray=new i,this._recvArray=new i,this.socket=new a(this.disconnectCallback.bind(this))}async disconnectCallback(){await this.disconnect(!0)}async _connect(){this._log.debug("Connecting"),this._codec=new this.PacketCodecClass(this),await this.socket.connect(this._port,this._ip,this._testServers,this._isPremium),this._log.debug("Finished connecting"),await this._initConn()}async connect(){await this._connect(),this._connected=!0,this._sendTask||(this._sendTask=this._sendLoop()),this._recvTask=this._recvLoop()}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._connected&&(this._connected=!1,this._recvArray.push(void 0),e||await this.socket.close())}async send(e){if(!this._connected)throw new Error("Not connected");await this._sendArray.push(e)}async recv(){for(;this._connected;){const e=await this._recvArray.pop();if(e)return e}throw new Error("Not connected")}async _sendLoop(){try{for(;this._connected;){const e=await this._sendArray.pop();if(!e)return void(this._sendTask=void 0);await this._send(e)}}catch(e){this._log.info("The server closed the connection while sending")}}async _recvLoop(){let e;for(;this._connected;){try{if(e=await this._recv(),!e)throw new Error("no data received")}catch(e){return this._log.info("connection closed"),void this.disconnect()}await this._recvArray.push(e)}}async _initConn(){this._codec.tag&&await this.socket.write(this._codec.tag)}_send(e){const t=this._codec.encodePacket(e);this.socket.write(t)}_recv(){return this._codec.readPacket(this.socket)}toString(){return`${this._ip}:${this._port}/${this.constructor.name.replace("Connection","")}`}}e.exports={Connection:o,PacketCodec:class{constructor(e){this._conn=e}encodePacket(e){throw new Error("Not Implemented")}readPacket(e){throw new Error("Not Implemented")}},ObfuscatedConnection:class extends o{constructor(){super(...arguments),s(this,"ObfuscatedIO",void 0)}_initConn(){this._obfuscation=new this.ObfuscatedIO(this),this.socket.write(this._obfuscation.header)}_send(e){this._obfuscation.write(this._codec.encodePacket(e))}_recv(){return this._codec.readPacket(this._obfuscation)}}}},26302:(e,t,n)=>{var s=n(48764).lW;function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=n(24736),{readBufferFromBigInt:o}=n(89618),{Connection:r,PacketCodec:c}=n(34353);class d extends c{constructor(e){super(e),this.tag=d.tag,this.obfuscateTag=d.obfuscateTag}encodePacket(e){let t=e.length>>2;if(t<127){const e=s.alloc(1);e.writeUInt8(t,0),t=e}else t=s.concat([s.from("7f","hex"),o(i(t),3)]);return s.concat([t,e])}async readPacket(e){let t=(await e.read(1))[0];return t>=127&&(t=s.concat([await e.read(3),s.alloc(1)]).readInt32LE(0)),e.read(t<<2)}}a(d,"tag",s.from("ef","hex")),a(d,"obfuscateTag",s.from("efefefef","hex")),e.exports={ConnectionTCPAbridged:class extends r{constructor(){super(...arguments),a(this,"PacketCodecClass",d)}},AbridgedPacketCodec:d}},5484:()=>{},72986:(e,t,n)=>{var s=n(48764).lW;function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{generateRandomBytes:i}=n(89618),{ObfuscatedConnection:o}=n(34353),{AbridgedPacketCodec:r}=n(26302),c=n(55830);class d{constructor(e){a(this,"header",void 0),this.connection=e.socket;const t=this.initHeader(e.PacketCodecClass);this.header=t.random,this._encrypt=t.encryptor,this._decrypt=t.decryptor}initHeader(e){const t=[s.from("50567247","hex"),s.from("474554","hex"),s.from("504f5354","hex"),s.from("eeeeeeee","hex")];let n;for(;;)if(n=i(64),239!==n[0]&&!n.slice(4,8).equals(s.alloc(4))){let e=!0;for(const s of t)if(s.equals(n.slice(0,4))){e=!1;break}if(e)break}n=n.toJSON().data;const a=s.from(n.slice(8,56)).reverse(),o=s.from(n.slice(8,40)),r=s.from(n.slice(40,56)),d=s.from(a.slice(0,32)),u=s.from(a.slice(32,48)),l=new c(o,r),p=new c(d,u);return n=s.concat([s.from(n.slice(0,56)),e.obfuscateTag,s.from(n.slice(60))]),n=s.concat([s.from(n.slice(0,56)),s.from(l.encrypt(n).slice(56,64)),s.from(n.slice(64))]),{random:n,encryptor:l,decryptor:p}}async read(e){const t=await this.connection.readExactly(e);return this._decrypt.encrypt(t)}write(e){this.connection.write(this._encrypt.encrypt(e))}}e.exports={ConnectionTCPObfuscated:class extends o{constructor(){super(...arguments),a(this,"ObfuscatedIO",d),a(this,"PacketCodecClass",r)}}}},30417:(e,t,n)=>{const{Connection:s}=n(34353),{ConnectionTCPFull:a}=n(5484),{ConnectionTCPAbridged:i}=n(26302),{ConnectionTCPObfuscated:o}=n(72986);e.exports={Connection:s,ConnectionTCPFull:a,ConnectionTCPAbridged:i,ConnectionTCPObfuscated:o}},18415:(e,t,n)=>{const s=n(45585),a=n(74046),{Connection:i,ConnectionTCPFull:o,ConnectionTCPAbridged:r,ConnectionTCPObfuscated:c}=n(30417),{UpdateConnectionState:d,UpdateServerTimeOffset:u}=n(68744);e.exports={Connection:i,ConnectionTCPFull:o,ConnectionTCPAbridged:r,ConnectionTCPObfuscated:c,MTProtoPlainSender:s,MTProtoSender:a,UpdateConnectionState:d,UpdateServerTimeOffset:u}},68744:e=>{function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n{constructor(e,t){this.state=e,this.origin=t}}t(n,"disconnected",-1),t(n,"connected",1),t(n,"broken",0),e.exports={UpdateConnectionState:n,UpdateServerTimeOffset:class{constructor(e){this.timeOffset=e}}}},59270:e=>{e.exports=class{get dcId(){throw new Error("Not Implemented")}get serverAddress(){throw new Error("Not Implemented")}get port(){throw new Error("Not Implemented")}get authKey(){throw new Error("Not Implemented")}set authKey(e){throw new Error("Not Implemented")}setDC(e,t,n){throw new Error("Not implemented")}save(){throw new Error("Not Implemented")}delete(){throw new Error("Not Implemented")}}},926:(e,t,n)=>{const s=n(28753),a="GramJs";e.exports=class extends s{async _delete(){const e=new Request(this._storageKey);return(await self.caches.open(a)).delete(e)}async _fetchFromCache(){const e=new Request(this._storageKey),t=await self.caches.open(a),n=await t.match(e);return n?n.text():void 0}async _saveToCache(e){const t=new Request(this._storageKey),n=new Response(e);return(await self.caches.open(a)).put(t,n)}}},80007:(e,t,n)=>{var s=n(48764).lW;const a=n(33995),i=n(13302),o=n(48960);e.exports=class extends a{constructor(e,t){super(),this._sessionData=e,this._callback=t,this._authKeys={}}get authKey(){throw new Error("Not supported")}set authKey(e){throw new Error("Not supported")}async load(){if(!this._sessionData)return;const{mainDcId:e,keys:t,hashes:n}=this._sessionData,{ipAddress:a,port:r}=o.getDC(e);this.setDC(e,a,r,!0),await Promise.all(Object.keys(t).map((async e=>{const a="string"==typeof t[e]?s.from(t[e],"hex"):s.from(t[e]);if(n[e]){const t="string"==typeof n[e]?s.from(n[e],"hex"):s.from(n[e]);this._authKeys[e]=new i(a,t)}else this._authKeys[e]=new i,await this._authKeys[e].setKey(a,!0)})))}setDC(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._dcId=e,this._serverAddress=t,this._port=n,delete this._authKeys[e],s||this._onUpdate()}getAuthKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._dcId;return this._authKeys[e]}setAuthKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._dcId;this._authKeys[t]=e,this._onUpdate()}getSessionData(){const e={mainDcId:this._dcId,keys:{},hashes:{}};return Object.keys(this._authKeys).forEach((t=>{const n=this._authKeys[t];n&&n._key&&(e.keys[t]=n._key.toString("hex"),e.hashes[t]=n._hash.toString("hex"))})),e}_onUpdate(){this._callback(this.getSessionData())}delete(){this._callback(void 0)}}},45945:(e,t,n)=>{const s=n(24678),a=n(28753);e.exports=class extends a{_delete(){return s.del(`GramJs:${this._storageKey}`)}_fetchFromCache(){return s.get(`GramJs:${this._storageKey}`)}_saveToCache(e){return s.set(`GramJs:${this._storageKey}`,e)}}},31753:(e,t,n)=>{const s=n(28753);e.exports=class extends s{_delete(){return localStorage.removeItem(this._storageKey)}_fetchFromCache(){return localStorage.getItem(this._storageKey)}_saveToCache(e){return localStorage.setItem(this._storageKey,e)}}},33995:(e,t,n)=>{const s=n(59270);e.exports=class extends s{constructor(){super(),this._serverAddress=void 0,this._dcId=0,this._port=void 0,this._takeoutId=void 0,this._entities=new Set,this._updateStates={}}get dcId(){return this._dcId}get serverAddress(){return this._serverAddress}get port(){return this._port}get authKey(){return this._authKey}set authKey(e){this._authKey=e}setDC(e,t,n){this._dcId=0|e,this._serverAddress=t,this._port=n}}},28753:(e,t,n)=>{var s=n(48764).lW;const a=n(33995),i=n(13302),o=n(48960);e.exports=class extends a{constructor(e){super(),this._authKeys={},e&&e.startsWith("session:")?this._sessionString=e:e&&(this._storageKey=e)}get authKey(){throw new Error("Not supported")}set authKey(e){throw new Error("Not supported")}async load(){if(this._sessionString)await this._loadFromSessionString();else if(this._storageKey)try{const e=await this._fetchFromCache(),{mainDcId:t,keys:n,hashes:a}=JSON.parse(e),{ipAddress:r,port:c}=o.getDC(t);this.setDC(t,r,c,!0),Object.keys(n).forEach((e=>{n[e]&&a[e]&&(this._authKeys[e]=new i(s.from(n[e].data),s.from(a[e].data)))}))}catch(e){console.warn("Failed to retrieve or parse session from storage"),console.warn(e)}}setDC(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._dcId=e,this._serverAddress=t,this._port=n,delete this._authKeys[e],s||this._updateStorage()}async save(){return this._storageKey||(this._storageKey=`GramJs-session-${Date.now()}`),await this._updateStorage(),this._storageKey}getAuthKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._dcId;return this._authKeys[e]}setAuthKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._dcId;this._authKeys[t]=e,this._updateStorage()}getSessionData(e){const t={mainDcId:this._dcId,keys:{},hashes:{}};return Object.keys(this._authKeys).forEach((n=>{const s=this._authKeys[n];s._key&&(t.keys[n]=e?s._key.toString("hex"):s._key,t.hashes[n]=e?s._hash.toString("hex"):s._hash)})),t}async _loadFromSessionString(){const[,e,t]=this._sessionString.split(":"),n=Number(e),{ipAddress:a,port:r}=o.getDC(n);this.setDC(n,a,r);const c=new i;await c.setKey(s.from(t,"hex"),!0),this.setAuthKey(c,n)}async _updateStorage(){if(this._storageKey)try{await this._saveToCache(JSON.stringify(this.getSessionData()))}catch(e){console.warn("Failed to update session in storage"),console.warn(e)}}async delete(){try{return await this._delete()}catch(e){console.warn("Failed to delete session from storage"),console.warn(e)}}_delete(){throw new Error("Not Implemented")}_fetchFromCache(){throw new Error("Not Implemented")}_saveToCache(e){throw new Error("Not Implemented")}}},12433:(e,t,n)=>{var s=n(48764).lW;const a=n(33995),i=n(13302),o=n(35544);class r extends a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(super(),e){if("1"!==e[0])throw new Error("Not a valid string");e=e.slice(1);const t=r.decode(e),n=new o(t);this._dcId=n.read(1).readUInt8(0);const s=n.read(2).readInt16BE(0);this._serverAddress=String(n.read(s)),this._port=n.read(2).readInt16BE(0),this._key=n.read(-1)}}static encode(e){return e.toString("base64")}static decode(e){return s.from(e,"base64")}async load(){this._key&&(this._authKey=new i,await this._authKey.setKey(this._key))}save(){if(!this.authKey)return"";const e=s.from([this.dcId]),t=s.from(this.serverAddress),n=s.alloc(2);n.writeInt16BE(t.length,0);const a=s.alloc(2);return a.writeInt16BE(this.port,0),"1"+r.encode(s.concat([e,n,t,a,this.authKey.getKey()]))}getAuthKey(e){if(!e||e===this.dcId)return this.authKey}setAuthKey(e,t){t&&t!==this.dcId||(this.authKey=e)}}e.exports=r},15886:(e,t,n)=>{const s=n(33995),a=n(12433),i=n(926),o=n(31753),r=n(45945),c=n(80007);e.exports={Memory:s,StringSession:a,CacheApiSession:i,LocalStorageSession:o,IdbSession:r,CallbackSession:c}},70845:(e,t,n)=>{const s=n(77150),a={};for(const e of Object.values(s))if(e.CONSTRUCTOR_ID)a[e.CONSTRUCTOR_ID]=e;else for(const t of Object.values(e))a[t.CONSTRUCTOR_ID]=t;e.exports={LAYER:158,tlobjects:a}},77150:(e,t,n)=>{var s=n(48764).lW;function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{parseTl:i,serializeBytes:o,serializeDate:r}=n(51436),{toSignedLittleBuffer:c}=n(89618),d=n(84779),u=n(48106),l="undefined"!=typeof self&&void 0!==self.localStorage,p="GramJs:apiCache";function f(e){const t=i(e),n=[],s=[];for(const e of t)e.isFunction?s.push(e):n.push(e);return[n,s]}function g(e,t){switch(t){case"int":{const t=s.alloc(4);return t.writeInt32LE(e,0),t}case"long":return c(e,8);case"int128":return c(e,16);case"int256":return c(e,32);case"double":{const t=s.alloc(8);return t.writeDoubleLE(e,0),t}case"string":case"bytes":return o(e);case"Bool":return e?s.from("b5757299","hex"):s.from("379779bc","hex");case"true":return s.alloc(0);case"date":return r(e);default:return e.getBytes()}}function h(e,t){if(t.isVector){t.useVectorId&&e.readInt();const n=[],s=e.readInt();t.isVector=!1;for(let a=0;a<s;a++)n.push(h(e,t));return t.isVector=!0,n}if(t.flagIndicator)return e.readInt();switch(t.type){case"int":return e.readInt();case"long":return e.readLong();case"int128":return e.readLargeInt(128);case"int256":return e.readLargeInt(256);case"double":return e.readDouble();case"string":return e.tgReadString();case"Bool":return e.tgReadBool();case"true":return!0;case"bytes":return e.tgReadBytes();case"date":return e.tgReadDate();default:if(t.skipConstructorId)throw new Error(`Unknown type ${t}`);return e.tgReadObject()}}function m(e,t){const n={};for(const i of t){const{name:t,constructorId:o,subclassOfId:r,argsConfig:c,namespace:d,result:u}=i,l=[d,t].join(".").replace(/^\./,"");class p{constructor(t){a(this,"CONSTRUCTOR_ID",o),a(this,"SUBCLASS_OF_ID",r),a(this,"className",l),a(this,"classType",e),t=t||{},Object.keys(t).forEach((e=>{this[e]=t[e]}))}static fromReader(e){const t={};for(const n in c)if(c.hasOwnProperty(n)){const s=c[n];if(s.isFlag){const a=t[`flags${s.flagGroup>1?s.flagGroup:""}`]&1<<s.flagIndex;if("true"===s.type){t[n]=Boolean(a);continue}t[n]=a?h(e,s):void 0}else t[n]=h(e,s)}return new p(t)}getBytes(){const e=this.CONSTRUCTOR_ID,t=s.alloc(4);t.writeUInt32LE(e,0);const n=[t];for(const e in c)if(c.hasOwnProperty(e)){if(c[e].isFlag&&(!1===this[e]&&"true"===c[e].type||void 0===this[e]))continue;if(c[e].isVector){c[e].useVectorId&&n.push(s.from("15c4b51c","hex"));const t=s.alloc(4);t.writeInt32LE(this[e].length,0),n.push(t,s.concat(this[e].map((t=>g(t,c[e].type)))))}else if(c[e].flagIndicator)if(Object.values(c).some((e=>e.isFlag))){let e=0;for(const t in c)c[t].isFlag&&(!1===this[t]&&"true"===c[t].type||void 0===this[t]?e|=0:e|=1<<c[t].flagIndex);const t=s.alloc(4);t.writeUInt32LE(e,0),n.push(t)}else n.push(s.alloc(4));else if(n.push(g(this[e],c[e].type)),this[e]&&"function"==typeof this[e].getBytes){let t=c[e].type.charAt(c[e].type.indexOf(".")+1);t=t===t.toUpperCase(),t||n.shift()}}return s.concat(n)}readResult(t){if("request"!==e)throw new Error("`readResult()` called for non-request instance");const n=u.match(/Vector<(int|long)>/);if(n){t.readInt();const e=[],s=t.readInt();if("int"===n[1])for(let n=0;n<s;n++)e.push(t.readInt());else for(let n=0;n<s;n++)e.push(t.readLong());return e}return t.tgReadObject()}}a(p,"CONSTRUCTOR_ID",o),a(p,"SUBCLASS_OF_ID",r),a(p,"className",l),a(p,"classType",e),d?(n[d]||(n[d]={}),n[d][t]=p):n[t]=p}return n}e.exports=function(){let e;const t=l&&function(){const e=localStorage.getItem(p);return e&&JSON.parse(e)}();return t?e=t:(e=function(){const[e,t]=f(d),[n,s]=f(u);return{constructors:[].concat(e,n),requests:[].concat(t,s)}}(),l&&localStorage.setItem(p,JSON.stringify(e))),function(e,t){const n={...e};return Object.keys(t).forEach((e=>{"function"!=typeof t[e]&&n[e]?Object.assign(n[e],t[e]):n[e]=t[e]})),n}(m("constructor",e.constructors),m("request",e.requests))}()},84779:e=>{e.exports="boolFalse#bc799737 = Bool;\nboolTrue#997275b5 = Bool;\ntrue#3fedd339 = True;\nvector#1cb5c415 {t:Type} # [ t ] = Vector t;\nerror#c4b9f9bb code:int text:string = Error;\nnull#56730bcc = Null;\ninputPeerEmpty#7f3b18ea = InputPeer;\ninputPeerSelf#7da07ec9 = InputPeer;\ninputPeerChat#35a95cb9 chat_id:long = InputPeer;\ninputPeerUser#dde8a54c user_id:long access_hash:long = InputPeer;\ninputPeerChannel#27bcbbfc channel_id:long access_hash:long = InputPeer;\ninputPeerUserFromMessage#a87b0a1c peer:InputPeer msg_id:int user_id:long = InputPeer;\ninputPeerChannelFromMessage#bd2a0840 peer:InputPeer msg_id:int channel_id:long = InputPeer;\ninputUserEmpty#b98886cf = InputUser;\ninputUserSelf#f7c1b13f = InputUser;\ninputUser#f21158c6 user_id:long access_hash:long = InputUser;\ninputUserFromMessage#1da448e2 peer:InputPeer msg_id:int user_id:long = InputUser;\ninputPhoneContact#f392b7f4 client_id:long phone:string first_name:string last_name:string = InputContact;\ninputFile#f52ff27f id:long parts:int name:string md5_checksum:string = InputFile;\ninputFileBig#fa4f0bb5 id:long parts:int name:string = InputFile;\ninputMediaEmpty#9664f57f = InputMedia;\ninputMediaUploadedPhoto#1e287d04 flags:# spoiler:flags.2?true file:InputFile stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;\ninputMediaPhoto#b3ba0635 flags:# spoiler:flags.1?true id:InputPhoto ttl_seconds:flags.0?int = InputMedia;\ninputMediaGeoPoint#f9c44144 geo_point:InputGeoPoint = InputMedia;\ninputMediaContact#f8ab7dfb phone_number:string first_name:string last_name:string vcard:string = InputMedia;\ninputMediaUploadedDocument#5b38c6c1 flags:# nosound_video:flags.3?true force_file:flags.4?true spoiler:flags.5?true file:InputFile thumb:flags.2?InputFile mime_type:string attributes:Vector<DocumentAttribute> stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;\ninputMediaDocument#33473058 flags:# spoiler:flags.2?true id:InputDocument ttl_seconds:flags.0?int query:flags.1?string = InputMedia;\ninputMediaVenue#c13d1c11 geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string = InputMedia;\ninputMediaPhotoExternal#e5bbfe1a flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;\ninputMediaDocumentExternal#fb52dc99 flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;\ninputMediaGame#d33f43f3 id:InputGame = InputMedia;\ninputMediaInvoice#8eb5a6d5 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON start_param:flags.1?string extended_media:flags.2?InputMedia = InputMedia;\ninputMediaGeoLive#971fa843 flags:# stopped:flags.0?true geo_point:InputGeoPoint heading:flags.2?int period:flags.1?int proximity_notification_radius:flags.3?int = InputMedia;\ninputMediaPoll#f94e5f1 flags:# poll:Poll correct_answers:flags.0?Vector<bytes> solution:flags.1?string solution_entities:flags.1?Vector<MessageEntity> = InputMedia;\ninputMediaDice#e66fbf7b emoticon:string = InputMedia;\ninputChatPhotoEmpty#1ca48f57 = InputChatPhoto;\ninputChatUploadedPhoto#bdcdaec0 flags:# file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.3?VideoSize = InputChatPhoto;\ninputChatPhoto#8953ad37 id:InputPhoto = InputChatPhoto;\ninputGeoPointEmpty#e4c123d6 = InputGeoPoint;\ninputGeoPoint#48222faf flags:# lat:double long:double accuracy_radius:flags.0?int = InputGeoPoint;\ninputPhotoEmpty#1cd7bf0d = InputPhoto;\ninputPhoto#3bb3b94a id:long access_hash:long file_reference:bytes = InputPhoto;\ninputFileLocation#dfdaabe1 volume_id:long local_id:int secret:long file_reference:bytes = InputFileLocation;\ninputEncryptedFileLocation#f5235d55 id:long access_hash:long = InputFileLocation;\ninputDocumentFileLocation#bad07584 id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputSecureFileLocation#cbc7ee28 id:long access_hash:long = InputFileLocation;\ninputTakeoutFileLocation#29be5899 = InputFileLocation;\ninputPhotoFileLocation#40181ffe id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputPhotoLegacyFileLocation#d83466f3 id:long access_hash:long file_reference:bytes volume_id:long local_id:int secret:long = InputFileLocation;\ninputPeerPhotoFileLocation#37257e99 flags:# big:flags.0?true peer:InputPeer photo_id:long = InputFileLocation;\ninputStickerSetThumb#9d84f3db stickerset:InputStickerSet thumb_version:int = InputFileLocation;\ninputGroupCallStream#598a92a flags:# call:InputGroupCall time_ms:long scale:int video_channel:flags.0?int video_quality:flags.0?int = InputFileLocation;\npeerUser#59511722 user_id:long = Peer;\npeerChat#36c6019a chat_id:long = Peer;\npeerChannel#a2a5371e channel_id:long = Peer;\nstorage.fileUnknown#aa963b05 = storage.FileType;\nstorage.filePartial#40bc6f52 = storage.FileType;\nstorage.fileJpeg#7efe0e = storage.FileType;\nstorage.fileGif#cae1aadf = storage.FileType;\nstorage.filePng#a4f63c0 = storage.FileType;\nstorage.filePdf#ae1e508d = storage.FileType;\nstorage.fileMp3#528a0677 = storage.FileType;\nstorage.fileMov#4b09ebbc = storage.FileType;\nstorage.fileMp4#b3cea0e4 = storage.FileType;\nstorage.fileWebp#1081464c = storage.FileType;\nuserEmpty#d3bc4b7a id:long = User;\nuser#8f97c628 flags:# self:flags.10?true contact:flags.11?true mutual_contact:flags.12?true deleted:flags.13?true bot:flags.14?true bot_chat_history:flags.15?true bot_nochats:flags.16?true verified:flags.17?true restricted:flags.18?true min:flags.20?true bot_inline_geo:flags.21?true support:flags.23?true scam:flags.24?true apply_min_photo:flags.25?true fake:flags.26?true bot_attach_menu:flags.27?true premium:flags.28?true attach_menu_enabled:flags.29?true flags2:# bot_can_edit:flags2.1?true id:long access_hash:flags.0?long first_name:flags.1?string last_name:flags.2?string username:flags.3?string phone:flags.4?string photo:flags.5?UserProfilePhoto status:flags.6?UserStatus bot_info_version:flags.14?int restriction_reason:flags.18?Vector<RestrictionReason> bot_inline_placeholder:flags.19?string lang_code:flags.22?string emoji_status:flags.30?EmojiStatus usernames:flags2.0?Vector<Username> = User;\nuserProfilePhotoEmpty#4f11bae1 = UserProfilePhoto;\nuserProfilePhoto#82d1f706 flags:# has_video:flags.0?true personal:flags.2?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = UserProfilePhoto;\nuserStatusEmpty#9d05049 = UserStatus;\nuserStatusOnline#edb93949 expires:int = UserStatus;\nuserStatusOffline#8c703f was_online:int = UserStatus;\nuserStatusRecently#e26f42f1 = UserStatus;\nuserStatusLastWeek#7bf09fc = UserStatus;\nuserStatusLastMonth#77ebc742 = UserStatus;\nchatEmpty#29562865 id:long = Chat;\nchat#41cbf256 flags:# creator:flags.0?true left:flags.2?true deactivated:flags.5?true call_active:flags.23?true call_not_empty:flags.24?true noforwards:flags.25?true id:long title:string photo:ChatPhoto participants_count:int date:int version:int migrated_to:flags.6?InputChannel admin_rights:flags.14?ChatAdminRights default_banned_rights:flags.18?ChatBannedRights = Chat;\nchatForbidden#6592a1a7 id:long title:string = Chat;\nchannel#83259464 flags:# creator:flags.0?true left:flags.2?true broadcast:flags.5?true verified:flags.7?true megagroup:flags.8?true restricted:flags.9?true signatures:flags.11?true min:flags.12?true scam:flags.19?true has_link:flags.20?true has_geo:flags.21?true slowmode_enabled:flags.22?true call_active:flags.23?true call_not_empty:flags.24?true fake:flags.25?true gigagroup:flags.26?true noforwards:flags.27?true join_to_send:flags.28?true join_request:flags.29?true forum:flags.30?true flags2:# id:long access_hash:flags.13?long title:string username:flags.6?string photo:ChatPhoto date:int restriction_reason:flags.9?Vector<RestrictionReason> admin_rights:flags.14?ChatAdminRights banned_rights:flags.15?ChatBannedRights default_banned_rights:flags.18?ChatBannedRights participants_count:flags.17?int usernames:flags2.0?Vector<Username> = Chat;\nchannelForbidden#17d493d5 flags:# broadcast:flags.5?true megagroup:flags.8?true id:long access_hash:long title:string until_date:flags.16?int = Chat;\nchatFull#c9d31138 flags:# can_set_username:flags.7?true has_scheduled:flags.8?true translations_disabled:flags.19?true id:long about:string participants:ChatParticipants chat_photo:flags.2?Photo notify_settings:PeerNotifySettings exported_invite:flags.13?ExportedChatInvite bot_info:flags.3?Vector<BotInfo> pinned_msg_id:flags.6?int folder_id:flags.11?int call:flags.12?InputGroupCall ttl_period:flags.14?int groupcall_default_join_as:flags.15?Peer theme_emoticon:flags.16?string requests_pending:flags.17?int recent_requesters:flags.17?Vector<long> available_reactions:flags.18?ChatReactions = ChatFull;\nchannelFull#f2355507 flags:# can_view_participants:flags.3?true can_set_username:flags.6?true can_set_stickers:flags.7?true hidden_prehistory:flags.10?true can_set_location:flags.16?true has_scheduled:flags.19?true can_view_stats:flags.20?true blocked:flags.22?true flags2:# can_delete_channel:flags2.0?true antispam:flags2.1?true participants_hidden:flags2.2?true translations_disabled:flags2.3?true id:long about:string participants_count:flags.0?int admins_count:flags.1?int kicked_count:flags.2?int banned_count:flags.2?int online_count:flags.13?int read_inbox_max_id:int read_outbox_max_id:int unread_count:int chat_photo:Photo notify_settings:PeerNotifySettings exported_invite:flags.23?ExportedChatInvite bot_info:Vector<BotInfo> migrated_from_chat_id:flags.4?long migrated_from_max_id:flags.4?int pinned_msg_id:flags.5?int stickerset:flags.8?StickerSet available_min_id:flags.9?int folder_id:flags.11?int linked_chat_id:flags.14?long location:flags.15?ChannelLocation slowmode_seconds:flags.17?int slowmode_next_send_date:flags.18?int stats_dc:flags.12?int pts:int call:flags.21?InputGroupCall ttl_period:flags.24?int pending_suggestions:flags.25?Vector<string> groupcall_default_join_as:flags.26?Peer theme_emoticon:flags.27?string requests_pending:flags.28?int recent_requesters:flags.28?Vector<long> default_send_as:flags.29?Peer available_reactions:flags.30?ChatReactions = ChatFull;\nchatParticipant#c02d4007 user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantCreator#e46bcee4 user_id:long = ChatParticipant;\nchatParticipantAdmin#a0933f5b user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantsForbidden#8763d3e1 flags:# chat_id:long self_participant:flags.0?ChatParticipant = ChatParticipants;\nchatParticipants#3cbc93f8 chat_id:long participants:Vector<ChatParticipant> version:int = ChatParticipants;\nchatPhotoEmpty#37c1011c = ChatPhoto;\nchatPhoto#1c6e1c11 flags:# has_video:flags.0?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = ChatPhoto;\nmessageEmpty#90a6ca84 flags:# id:int peer_id:flags.0?Peer = Message;\nmessage#38116ee0 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true from_scheduled:flags.18?true legacy:flags.19?true edit_hide:flags.21?true pinned:flags.24?true noforwards:flags.26?true id:int from_id:flags.8?Peer peer_id:Peer fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader date:int message:string media:flags.9?MessageMedia reply_markup:flags.6?ReplyMarkup entities:flags.7?Vector<MessageEntity> views:flags.10?int forwards:flags.10?int replies:flags.23?MessageReplies edit_date:flags.15?int post_author:flags.16?string grouped_id:flags.17?long reactions:flags.20?MessageReactions restriction_reason:flags.22?Vector<RestrictionReason> ttl_period:flags.25?int = Message;\nmessageService#2b085862 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true legacy:flags.19?true id:int from_id:flags.8?Peer peer_id:Peer reply_to:flags.3?MessageReplyHeader date:int action:MessageAction ttl_period:flags.25?int = Message;\nmessageMediaEmpty#3ded6320 = MessageMedia;\nmessageMediaPhoto#695150d7 flags:# spoiler:flags.3?true photo:flags.0?Photo ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaGeo#56e0d474 geo:GeoPoint = MessageMedia;\nmessageMediaContact#70322949 phone_number:string first_name:string last_name:string vcard:string user_id:long = MessageMedia;\nmessageMediaUnsupported#9f84f49e = MessageMedia;\nmessageMediaDocument#9cb070d7 flags:# nopremium:flags.3?true spoiler:flags.4?true document:flags.0?Document ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaWebPage#a32dd600 webpage:WebPage = MessageMedia;\nmessageMediaVenue#2ec0533f geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MessageMedia;\nmessageMediaGame#fdb19008 game:Game = MessageMedia;\nmessageMediaInvoice#f6a548d3 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument receipt_msg_id:flags.2?int currency:string total_amount:long start_param:string extended_media:flags.4?MessageExtendedMedia = MessageMedia;\nmessageMediaGeoLive#b940c666 flags:# geo:GeoPoint heading:flags.0?int period:int proximity_notification_radius:flags.1?int = MessageMedia;\nmessageMediaPoll#4bd6e798 poll:Poll results:PollResults = MessageMedia;\nmessageMediaDice#3f7ee58b value:int emoticon:string = MessageMedia;\nmessageActionEmpty#b6aef7b0 = MessageAction;\nmessageActionChatCreate#bd47cbad title:string users:Vector<long> = MessageAction;\nmessageActionChatEditTitle#b5a1ce5a title:string = MessageAction;\nmessageActionChatEditPhoto#7fcb13a8 photo:Photo = MessageAction;\nmessageActionChatDeletePhoto#95e3fbef = MessageAction;\nmessageActionChatAddUser#15cefd00 users:Vector<long> = MessageAction;\nmessageActionChatDeleteUser#a43f30cc user_id:long = MessageAction;\nmessageActionChatJoinedByLink#31224c3 inviter_id:long = MessageAction;\nmessageActionChannelCreate#95d2ac92 title:string = MessageAction;\nmessageActionChatMigrateTo#e1037f92 channel_id:long = MessageAction;\nmessageActionChannelMigrateFrom#ea3948e9 title:string chat_id:long = MessageAction;\nmessageActionPinMessage#94bd38ed = MessageAction;\nmessageActionHistoryClear#9fbab604 = MessageAction;\nmessageActionGameScore#92a72876 game_id:long score:int = MessageAction;\nmessageActionPaymentSentMe#8f31b327 flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string charge:PaymentCharge = MessageAction;\nmessageActionPaymentSent#96163f56 flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long invoice_slug:flags.0?string = MessageAction;\nmessageActionPhoneCall#80e11a7f flags:# video:flags.2?true call_id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = MessageAction;\nmessageActionScreenshotTaken#4792929b = MessageAction;\nmessageActionCustomAction#fae69f56 message:string = MessageAction;\nmessageActionBotAllowed#c516d679 flags:# attach_menu:flags.1?true domain:flags.0?string app:flags.2?BotApp = MessageAction;\nmessageActionSecureValuesSentMe#1b287353 values:Vector<SecureValue> credentials:SecureCredentialsEncrypted = MessageAction;\nmessageActionSecureValuesSent#d95c6154 types:Vector<SecureValueType> = MessageAction;\nmessageActionContactSignUp#f3f25f76 = MessageAction;\nmessageActionGeoProximityReached#98e0d697 from_id:Peer to_id:Peer distance:int = MessageAction;\nmessageActionGroupCall#7a0d7f42 flags:# call:InputGroupCall duration:flags.0?int = MessageAction;\nmessageActionInviteToGroupCall#502f92f7 call:InputGroupCall users:Vector<long> = MessageAction;\nmessageActionSetMessagesTTL#3c134d7b flags:# period:int auto_setting_from:flags.0?long = MessageAction;\nmessageActionGroupCallScheduled#b3a07661 call:InputGroupCall schedule_date:int = MessageAction;\nmessageActionSetChatTheme#aa786345 emoticon:string = MessageAction;\nmessageActionChatJoinedByRequest#ebbca3cb = MessageAction;\nmessageActionWebViewDataSentMe#47dd8079 text:string data:string = MessageAction;\nmessageActionWebViewDataSent#b4c38cb5 text:string = MessageAction;\nmessageActionGiftPremium#c83d6aec flags:# currency:string amount:long months:int crypto_currency:flags.0?string crypto_amount:flags.0?long = MessageAction;\nmessageActionTopicCreate#d999256 flags:# title:string icon_color:int icon_emoji_id:flags.0?long = MessageAction;\nmessageActionTopicEdit#c0944820 flags:# title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = MessageAction;\nmessageActionSuggestProfilePhoto#57de635e photo:Photo = MessageAction;\nmessageActionRequestedPeer#fe77345d button_id:int peer:Peer = MessageAction;\nmessageActionSetChatWallPaper#bc44a927 wallpaper:WallPaper = MessageAction;\nmessageActionSetSameChatWallPaper#c0787d6d wallpaper:WallPaper = MessageAction;\ndialog#d58a08c6 flags:# pinned:flags.2?true unread_mark:flags.3?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int notify_settings:PeerNotifySettings pts:flags.0?int draft:flags.1?DraftMessage folder_id:flags.4?int ttl_period:flags.5?int = Dialog;\ndialogFolder#71bd134c flags:# pinned:flags.2?true folder:Folder peer:Peer top_message:int unread_muted_peers_count:int unread_unmuted_peers_count:int unread_muted_messages_count:int unread_unmuted_messages_count:int = Dialog;\nphotoEmpty#2331b22d id:long = Photo;\nphoto#fb197a65 flags:# has_stickers:flags.0?true id:long access_hash:long file_reference:bytes date:int sizes:Vector<PhotoSize> video_sizes:flags.1?Vector<VideoSize> dc_id:int = Photo;\nphotoSizeEmpty#e17e23c type:string = PhotoSize;\nphotoSize#75c78e60 type:string w:int h:int size:int = PhotoSize;\nphotoCachedSize#21e1ad6 type:string w:int h:int bytes:bytes = PhotoSize;\nphotoStrippedSize#e0b0bc2e type:string bytes:bytes = PhotoSize;\nphotoSizeProgressive#fa3efb95 type:string w:int h:int sizes:Vector<int> = PhotoSize;\nphotoPathSize#d8214d41 type:string bytes:bytes = PhotoSize;\ngeoPointEmpty#1117dd5f = GeoPoint;\ngeoPoint#b2a2f663 flags:# long:double lat:double access_hash:long accuracy_radius:flags.0?int = GeoPoint;\nauth.sentCode#5e002502 flags:# type:auth.SentCodeType phone_code_hash:string next_type:flags.1?auth.CodeType timeout:flags.2?int = auth.SentCode;\nauth.sentCodeSuccess#2390fe44 authorization:auth.Authorization = auth.SentCode;\nauth.authorization#2ea2c0d4 flags:# setup_password_required:flags.1?true otherwise_relogin_days:flags.1?int tmp_sessions:flags.0?int future_auth_token:flags.2?bytes user:User = auth.Authorization;\nauth.authorizationSignUpRequired#44747e9a flags:# terms_of_service:flags.0?help.TermsOfService = auth.Authorization;\nauth.exportedAuthorization#b434e2b8 id:long bytes:bytes = auth.ExportedAuthorization;\ninputNotifyPeer#b8bc5b0c peer:InputPeer = InputNotifyPeer;\ninputNotifyUsers#193b4417 = InputNotifyPeer;\ninputNotifyChats#4a95e84e = InputNotifyPeer;\ninputNotifyBroadcasts#b1db7c7e = InputNotifyPeer;\ninputNotifyForumTopic#5c467992 peer:InputPeer top_msg_id:int = InputNotifyPeer;\ninputPeerNotifySettings#df1f002b flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int sound:flags.3?NotificationSound = InputPeerNotifySettings;\npeerNotifySettings#a83b0426 flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int ios_sound:flags.3?NotificationSound android_sound:flags.4?NotificationSound other_sound:flags.5?NotificationSound = PeerNotifySettings;\npeerSettings#a518110d flags:# report_spam:flags.0?true add_contact:flags.1?true block_contact:flags.2?true share_contact:flags.3?true need_contacts_exception:flags.4?true report_geo:flags.5?true autoarchived:flags.7?true invite_members:flags.8?true request_chat_broadcast:flags.10?true geo_distance:flags.6?int request_chat_title:flags.9?string request_chat_date:flags.9?int = PeerSettings;\nwallPaper#a437c3ed id:long flags:# creator:flags.0?true default:flags.1?true pattern:flags.3?true dark:flags.4?true access_hash:long slug:string document:Document settings:flags.2?WallPaperSettings = WallPaper;\nwallPaperNoFile#e0804116 id:long flags:# default:flags.1?true dark:flags.4?true settings:flags.2?WallPaperSettings = WallPaper;\ninputReportReasonSpam#58dbcab8 = ReportReason;\ninputReportReasonViolence#1e22c78d = ReportReason;\ninputReportReasonPornography#2e59d922 = ReportReason;\ninputReportReasonChildAbuse#adf44ee3 = ReportReason;\ninputReportReasonOther#c1e4a2b1 = ReportReason;\ninputReportReasonCopyright#9b89f93a = ReportReason;\ninputReportReasonGeoIrrelevant#dbd4feed = ReportReason;\ninputReportReasonFake#f5ddd6e7 = ReportReason;\ninputReportReasonIllegalDrugs#a8eb2be = ReportReason;\ninputReportReasonPersonalDetails#9ec7863d = ReportReason;\nuserFull#93eadb53 flags:# blocked:flags.0?true phone_calls_available:flags.4?true phone_calls_private:flags.5?true can_pin_message:flags.7?true has_scheduled:flags.12?true video_calls_available:flags.13?true voice_messages_forbidden:flags.20?true translations_disabled:flags.23?true id:long about:flags.1?string settings:PeerSettings personal_photo:flags.21?Photo profile_photo:flags.2?Photo fallback_photo:flags.22?Photo notify_settings:PeerNotifySettings bot_info:flags.3?BotInfo pinned_msg_id:flags.6?int common_chats_count:int folder_id:flags.11?int ttl_period:flags.14?int theme_emoticon:flags.15?string private_forward_name:flags.16?string bot_group_admin_rights:flags.17?ChatAdminRights bot_broadcast_admin_rights:flags.18?ChatAdminRights premium_gifts:flags.19?Vector<PremiumGiftOption> wallpaper:flags.24?WallPaper = UserFull;\ncontact#145ade0b user_id:long mutual:Bool = Contact;\nimportedContact#c13e3c50 user_id:long client_id:long = ImportedContact;\ncontactStatus#16d9703b user_id:long status:UserStatus = ContactStatus;\ncontacts.contactsNotModified#b74ba9d2 = contacts.Contacts;\ncontacts.contacts#eae87e42 contacts:Vector<Contact> saved_count:int users:Vector<User> = contacts.Contacts;\ncontacts.importedContacts#77d01c3b imported:Vector<ImportedContact> popular_invites:Vector<PopularContact> retry_contacts:Vector<long> users:Vector<User> = contacts.ImportedContacts;\ncontacts.blocked#ade1591 blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\ncontacts.blockedSlice#e1664194 count:int blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\nmessages.dialogs#15ba6c40 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsSlice#71e094f3 count:int dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsNotModified#f0e3e596 count:int = messages.Dialogs;\nmessages.messages#8c718e87 messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesSlice#3a54685e flags:# inexact:flags.1?true count:int next_rate:flags.0?int offset_id_offset:flags.2?int messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.channelMessages#c776ba4e flags:# inexact:flags.1?true pts:int count:int offset_id_offset:flags.2?int messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesNotModified#74535f21 count:int = messages.Messages;\nmessages.chats#64ff9fd5 chats:Vector<Chat> = messages.Chats;\nmessages.chatsSlice#9cd81144 count:int chats:Vector<Chat> = messages.Chats;\nmessages.chatFull#e5d7d19c full_chat:ChatFull chats:Vector<Chat> users:Vector<User> = messages.ChatFull;\nmessages.affectedHistory#b45c69d1 pts:int pts_count:int offset:int = messages.AffectedHistory;\ninputMessagesFilterEmpty#57e2f66c = MessagesFilter;\ninputMessagesFilterPhotos#9609a51c = MessagesFilter;\ninputMessagesFilterVideo#9fc00e65 = MessagesFilter;\ninputMessagesFilterPhotoVideo#56e9f0e4 = MessagesFilter;\ninputMessagesFilterDocument#9eddf188 = MessagesFilter;\ninputMessagesFilterUrl#7ef0dd87 = MessagesFilter;\ninputMessagesFilterGif#ffc86587 = MessagesFilter;\ninputMessagesFilterVoice#50f5c392 = MessagesFilter;\ninputMessagesFilterMusic#3751b49e = MessagesFilter;\ninputMessagesFilterChatPhotos#3a20ecb8 = MessagesFilter;\ninputMessagesFilterPhoneCalls#80c99768 flags:# missed:flags.0?true = MessagesFilter;\ninputMessagesFilterRoundVoice#7a7c17a4 = MessagesFilter;\ninputMessagesFilterRoundVideo#b549da53 = MessagesFilter;\ninputMessagesFilterMyMentions#c1f8e69a = MessagesFilter;\ninputMessagesFilterGeo#e7026d0d = MessagesFilter;\ninputMessagesFilterContacts#e062db83 = MessagesFilter;\ninputMessagesFilterPinned#1bb00451 = MessagesFilter;\nupdateNewMessage#1f2b0afd message:Message pts:int pts_count:int = Update;\nupdateMessageID#4e90bfd6 id:int random_id:long = Update;\nupdateDeleteMessages#a20db0e5 messages:Vector<int> pts:int pts_count:int = Update;\nupdateUserTyping#c01e857f user_id:long action:SendMessageAction = Update;\nupdateChatUserTyping#83487af0 chat_id:long from_id:Peer action:SendMessageAction = Update;\nupdateChatParticipants#7761198 participants:ChatParticipants = Update;\nupdateUserStatus#e5bdf8de user_id:long status:UserStatus = Update;\nupdateUserName#a7848924 user_id:long first_name:string last_name:string usernames:Vector<Username> = Update;\nupdateNewEncryptedMessage#12bcbd9a message:EncryptedMessage qts:int = Update;\nupdateEncryptedChatTyping#1710f156 chat_id:int = Update;\nupdateEncryption#b4a2e88d chat:EncryptedChat date:int = Update;\nupdateEncryptedMessagesRead#38fe25b7 chat_id:int max_date:int date:int = Update;\nupdateChatParticipantAdd#3dda5451 chat_id:long user_id:long inviter_id:long date:int version:int = Update;\nupdateChatParticipantDelete#e32f3d77 chat_id:long user_id:long version:int = Update;\nupdateDcOptions#8e5e9873 dc_options:Vector<DcOption> = Update;\nupdateNotifySettings#bec268ef peer:NotifyPeer notify_settings:PeerNotifySettings = Update;\nupdateServiceNotification#ebe46819 flags:# popup:flags.0?true inbox_date:flags.1?int type:string message:string media:MessageMedia entities:Vector<MessageEntity> = Update;\nupdatePrivacy#ee3b272a key:PrivacyKey rules:Vector<PrivacyRule> = Update;\nupdateUserPhone#5492a13 user_id:long phone:string = Update;\nupdateReadHistoryInbox#9c974fdf flags:# folder_id:flags.0?int peer:Peer max_id:int still_unread_count:int pts:int pts_count:int = Update;\nupdateReadHistoryOutbox#2f2f21bf peer:Peer max_id:int pts:int pts_count:int = Update;\nupdateWebPage#7f891213 webpage:WebPage pts:int pts_count:int = Update;\nupdateReadMessagesContents#68c13933 messages:Vector<int> pts:int pts_count:int = Update;\nupdateChannelTooLong#108d941f flags:# channel_id:long pts:flags.0?int = Update;\nupdateChannel#635b4c09 channel_id:long = Update;\nupdateNewChannelMessage#62ba04d9 message:Message pts:int pts_count:int = Update;\nupdateReadChannelInbox#922e6e10 flags:# folder_id:flags.0?int channel_id:long max_id:int still_unread_count:int pts:int = Update;\nupdateDeleteChannelMessages#c32d5b12 channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChannelMessageViews#f226ac08 channel_id:long id:int views:int = Update;\nupdateChatParticipantAdmin#d7ca61a2 chat_id:long user_id:long is_admin:Bool version:int = Update;\nupdateNewStickerSet#688a30aa stickerset:messages.StickerSet = Update;\nupdateStickerSetsOrder#bb2d201 flags:# masks:flags.0?true emojis:flags.1?true order:Vector<long> = Update;\nupdateStickerSets#31c24808 flags:# masks:flags.0?true emojis:flags.1?true = Update;\nupdateSavedGifs#9375341e = Update;\nupdateBotInlineQuery#496f379c flags:# query_id:long user_id:long query:string geo:flags.0?GeoPoint peer_type:flags.1?InlineQueryPeerType offset:string = Update;\nupdateBotInlineSend#12f12a07 flags:# user_id:long query:string geo:flags.0?GeoPoint id:string msg_id:flags.1?InputBotInlineMessageID = Update;\nupdateEditChannelMessage#1b3f4df7 message:Message pts:int pts_count:int = Update;\nupdateBotCallbackQuery#b9cfc48d flags:# query_id:long user_id:long peer:Peer msg_id:int chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateEditMessage#e40370a3 message:Message pts:int pts_count:int = Update;\nupdateInlineBotCallbackQuery#691e9052 flags:# query_id:long user_id:long msg_id:InputBotInlineMessageID chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateReadChannelOutbox#b75f99a9 channel_id:long max_id:int = Update;\nupdateDraftMessage#1b49ec6d flags:# peer:Peer top_msg_id:flags.0?int draft:DraftMessage = Update;\nupdateReadFeaturedStickers#571d2742 = Update;\nupdateRecentStickers#9a422c20 = Update;\nupdateConfig#a229dd06 = Update;\nupdatePtsChanged#3354678f = Update;\nupdateChannelWebPage#2f2ba99f channel_id:long webpage:WebPage pts:int pts_count:int = Update;\nupdateDialogPinned#6e6fe51c flags:# pinned:flags.0?true folder_id:flags.1?int peer:DialogPeer = Update;\nupdatePinnedDialogs#fa0f3ca2 flags:# folder_id:flags.1?int order:flags.0?Vector<DialogPeer> = Update;\nupdateBotWebhookJSON#8317c0c3 data:DataJSON = Update;\nupdateBotWebhookJSONQuery#9b9240a6 query_id:long data:DataJSON timeout:int = Update;\nupdateBotShippingQuery#b5aefd7d query_id:long user_id:long payload:bytes shipping_address:PostAddress = Update;\nupdateBotPrecheckoutQuery#8caa9a96 flags:# query_id:long user_id:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string currency:string total_amount:long = Update;\nupdatePhoneCall#ab0f6b1e phone_call:PhoneCall = Update;\nupdateLangPackTooLong#46560264 lang_code:string = Update;\nupdateLangPack#56022f4d difference:LangPackDifference = Update;\nupdateFavedStickers#e511996d = Update;\nupdateChannelReadMessagesContents#ea29055d flags:# channel_id:long top_msg_id:flags.0?int messages:Vector<int> = Update;\nupdateContactsReset#7084a7be = Update;\nupdateChannelAvailableMessages#b23fc698 channel_id:long available_min_id:int = Update;\nupdateDialogUnreadMark#e16459c3 flags:# unread:flags.0?true peer:DialogPeer = Update;\nupdateMessagePoll#aca1657b flags:# poll_id:long poll:flags.0?Poll results:PollResults = Update;\nupdateChatDefaultBannedRights#54c01850 peer:Peer default_banned_rights:ChatBannedRights version:int = Update;\nupdateFolderPeers#19360dc0 folder_peers:Vector<FolderPeer> pts:int pts_count:int = Update;\nupdatePeerSettings#6a7e7366 peer:Peer settings:PeerSettings = Update;\nupdatePeerLocated#b4afcfb0 peers:Vector<PeerLocated> = Update;\nupdateNewScheduledMessage#39a51dfb message:Message = Update;\nupdateDeleteScheduledMessages#90866cee peer:Peer messages:Vector<int> = Update;\nupdateTheme#8216fba3 theme:Theme = Update;\nupdateGeoLiveViewed#871fb939 peer:Peer msg_id:int = Update;\nupdateLoginToken#564fe691 = Update;\nupdateMessagePollVote#106395c9 poll_id:long user_id:long options:Vector<bytes> qts:int = Update;\nupdateDialogFilter#26ffde7d flags:# id:int filter:flags.0?DialogFilter = Update;\nupdateDialogFilterOrder#a5d72105 order:Vector<int> = Update;\nupdateDialogFilters#3504914f = Update;\nupdatePhoneCallSignalingData#2661bf09 phone_call_id:long data:bytes = Update;\nupdateChannelMessageForwards#d29a27f4 channel_id:long id:int forwards:int = Update;\nupdateReadChannelDiscussionInbox#d6b19546 flags:# channel_id:long top_msg_id:int read_max_id:int broadcast_id:flags.0?long broadcast_post:flags.0?int = Update;\nupdateReadChannelDiscussionOutbox#695c9e7c channel_id:long top_msg_id:int read_max_id:int = Update;\nupdatePeerBlocked#246a4b22 peer_id:Peer blocked:Bool = Update;\nupdateChannelUserTyping#8c88c923 flags:# channel_id:long top_msg_id:flags.0?int from_id:Peer action:SendMessageAction = Update;\nupdatePinnedMessages#ed85eab5 flags:# pinned:flags.0?true peer:Peer messages:Vector<int> pts:int pts_count:int = Update;\nupdatePinnedChannelMessages#5bb98608 flags:# pinned:flags.0?true channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChat#f89a6a4e chat_id:long = Update;\nupdateGroupCallParticipants#f2ebdb4e call:InputGroupCall participants:Vector<GroupCallParticipant> version:int = Update;\nupdateGroupCall#14b24500 chat_id:long call:GroupCall = Update;\nupdatePeerHistoryTTL#bb9bb9a5 flags:# peer:Peer ttl_period:flags.0?int = Update;\nupdateChatParticipant#d087663a flags:# chat_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChatParticipant new_participant:flags.1?ChatParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateChannelParticipant#985d3abb flags:# via_chatlist:flags.3?true channel_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChannelParticipant new_participant:flags.1?ChannelParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateBotStopped#c4870a49 user_id:long date:int stopped:Bool qts:int = Update;\nupdateGroupCallConnection#b783982 flags:# presentation:flags.0?true params:DataJSON = Update;\nupdateBotCommands#4d712f2e peer:Peer bot_id:long commands:Vector<BotCommand> = Update;\nupdatePendingJoinRequests#7063c3db peer:Peer requests_pending:int recent_requesters:Vector<long> = Update;\nupdateBotChatInviteRequester#11dfa986 peer:Peer date:int user_id:long about:string invite:ExportedChatInvite qts:int = Update;\nupdateMessageReactions#5e1b3cb8 flags:# peer:Peer msg_id:int top_msg_id:flags.0?int reactions:MessageReactions = Update;\nupdateAttachMenuBots#17b7a20b = Update;\nupdateWebViewResultSent#1592b79d query_id:long = Update;\nupdateBotMenuButton#14b85813 bot_id:long button:BotMenuButton = Update;\nupdateSavedRingtones#74d8be99 = Update;\nupdateTranscribedAudio#84cd5a flags:# pending:flags.0?true peer:Peer msg_id:int transcription_id:long text:string = Update;\nupdateReadFeaturedEmojiStickers#fb4c496c = Update;\nupdateUserEmojiStatus#28373599 user_id:long emoji_status:EmojiStatus = Update;\nupdateRecentEmojiStatuses#30f443db = Update;\nupdateRecentReactions#6f7863f4 = Update;\nupdateMoveStickerSetToTop#86fccf85 flags:# masks:flags.0?true emojis:flags.1?true stickerset:long = Update;\nupdateMessageExtendedMedia#5a73a98c peer:Peer msg_id:int extended_media:MessageExtendedMedia = Update;\nupdateChannelPinnedTopic#192efbe3 flags:# pinned:flags.0?true channel_id:long topic_id:int = Update;\nupdateChannelPinnedTopics#fe198602 flags:# channel_id:long order:flags.0?Vector<int> = Update;\nupdateUser#20529438 user_id:long = Update;\nupdateAutoSaveSettings#ec05b097 = Update;\nupdateGroupInvitePrivacyForbidden#ccf08ad6 user_id:long = Update;\nupdates.state#a56c2a3e pts:int qts:int date:int seq:int unread_count:int = updates.State;\nupdates.differenceEmpty#5d75a138 date:int seq:int = updates.Difference;\nupdates.difference#f49ca0 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> state:updates.State = updates.Difference;\nupdates.differenceSlice#a8fb1981 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> intermediate_state:updates.State = updates.Difference;\nupdates.differenceTooLong#4afe8f6d pts:int = updates.Difference;\nupdatesTooLong#e317af7e = Updates;\nupdateShortMessage#313bc7f8 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int user_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShortChatMessage#4d6deea5 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int from_id:long chat_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShort#78d4dec1 update:Update date:int = Updates;\nupdatesCombined#725b04c3 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq_start:int seq:int = Updates;\nupdates#74ae4240 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq:int = Updates;\nupdateShortSentMessage#9015e101 flags:# out:flags.1?true id:int pts:int pts_count:int date:int media:flags.9?MessageMedia entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nphotos.photos#8dca6aa5 photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photosSlice#15051f54 count:int photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photo#20212ca8 photo:Photo users:Vector<User> = photos.Photo;\nupload.file#96a18d5 type:storage.FileType mtime:int bytes:bytes = upload.File;\nupload.fileCdnRedirect#f18cda44 dc_id:int file_token:bytes encryption_key:bytes encryption_iv:bytes file_hashes:Vector<FileHash> = upload.File;\ndcOption#18b7a10d flags:# ipv6:flags.0?true media_only:flags.1?true tcpo_only:flags.2?true cdn:flags.3?true static:flags.4?true this_port_only:flags.5?true id:int ip_address:string port:int secret:flags.10?bytes = DcOption;\nconfig#cc1a241e flags:# default_p2p_contacts:flags.3?true preload_featured_stickers:flags.4?true revoke_pm_inbox:flags.6?true blocked_mode:flags.8?true force_try_ipv6:flags.14?true date:int expires:int test_mode:Bool this_dc:int dc_options:Vector<DcOption> dc_txt_domain_name:string chat_size_max:int megagroup_size_max:int forwarded_count_max:int online_update_period_ms:int offline_blur_timeout_ms:int offline_idle_timeout_ms:int online_cloud_timeout_ms:int notify_cloud_delay_ms:int notify_default_delay_ms:int push_chat_period_ms:int push_chat_limit:int edit_time_limit:int revoke_time_limit:int revoke_pm_time_limit:int rating_e_decay:int stickers_recent_limit:int channels_read_media_period:int tmp_sessions:flags.0?int call_receive_timeout_ms:int call_ring_timeout_ms:int call_connect_timeout_ms:int call_packet_timeout_ms:int me_url_prefix:string autoupdate_url_prefix:flags.7?string gif_search_username:flags.9?string venue_search_username:flags.10?string img_search_username:flags.11?string static_maps_provider:flags.12?string caption_length_max:int message_length_max:int webfile_dc_id:int suggested_lang_code:flags.2?string lang_pack_version:flags.2?int base_lang_pack_version:flags.2?int reactions_default:flags.15?Reaction autologin_token:flags.16?string = Config;\nnearestDc#8e1a1775 country:string this_dc:int nearest_dc:int = NearestDc;\nhelp.appUpdate#ccbbce30 flags:# can_not_skip:flags.0?true id:int version:string text:string entities:Vector<MessageEntity> document:flags.1?Document url:flags.2?string sticker:flags.3?Document = help.AppUpdate;\nhelp.noAppUpdate#c45a6536 = help.AppUpdate;\nhelp.inviteText#18cb9f78 message:string = help.InviteText;\nencryptedChatEmpty#ab7ec0a0 id:int = EncryptedChat;\nencryptedChatWaiting#66b25953 id:int access_hash:long date:int admin_id:long participant_id:long = EncryptedChat;\nencryptedChatRequested#48f1d94c flags:# folder_id:flags.0?int id:int access_hash:long date:int admin_id:long participant_id:long g_a:bytes = EncryptedChat;\nencryptedChat#61f0d4c7 id:int access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long = EncryptedChat;\nencryptedChatDiscarded#1e1c7c45 flags:# history_deleted:flags.0?true id:int = EncryptedChat;\ninputEncryptedChat#f141b5e1 chat_id:int access_hash:long = InputEncryptedChat;\nencryptedFileEmpty#c21f497e = EncryptedFile;\nencryptedFile#a8008cd8 id:long access_hash:long size:long dc_id:int key_fingerprint:int = EncryptedFile;\ninputEncryptedFileEmpty#1837c364 = InputEncryptedFile;\ninputEncryptedFileUploaded#64bd0306 id:long parts:int md5_checksum:string key_fingerprint:int = InputEncryptedFile;\ninputEncryptedFile#5a17b5e5 id:long access_hash:long = InputEncryptedFile;\ninputEncryptedFileBigUploaded#2dc173c8 id:long parts:int key_fingerprint:int = InputEncryptedFile;\nencryptedMessage#ed18c118 random_id:long chat_id:int date:int bytes:bytes file:EncryptedFile = EncryptedMessage;\nencryptedMessageService#23734b06 random_id:long chat_id:int date:int bytes:bytes = EncryptedMessage;\nmessages.dhConfigNotModified#c0e24635 random:bytes = messages.DhConfig;\nmessages.dhConfig#2c221edd g:int p:bytes version:int random:bytes = messages.DhConfig;\nmessages.sentEncryptedMessage#560f8935 date:int = messages.SentEncryptedMessage;\nmessages.sentEncryptedFile#9493ff32 date:int file:EncryptedFile = messages.SentEncryptedMessage;\ninputDocumentEmpty#72f0eaae = InputDocument;\ninputDocument#1abfb575 id:long access_hash:long file_reference:bytes = InputDocument;\ndocumentEmpty#36f8c871 id:long = Document;\ndocument#8fd4c4d8 flags:# id:long access_hash:long file_reference:bytes date:int mime_type:string size:long thumbs:flags.0?Vector<PhotoSize> video_thumbs:flags.1?Vector<VideoSize> dc_id:int attributes:Vector<DocumentAttribute> = Document;\nhelp.support#17c6b5f6 phone_number:string user:User = help.Support;\nnotifyPeer#9fd40bd8 peer:Peer = NotifyPeer;\nnotifyUsers#b4c83b4c = NotifyPeer;\nnotifyChats#c007cec3 = NotifyPeer;\nnotifyBroadcasts#d612e8ef = NotifyPeer;\nnotifyForumTopic#226e6308 peer:Peer top_msg_id:int = NotifyPeer;\nsendMessageTypingAction#16bf744e = SendMessageAction;\nsendMessageCancelAction#fd5ec8f5 = SendMessageAction;\nsendMessageRecordVideoAction#a187d66f = SendMessageAction;\nsendMessageUploadVideoAction#e9763aec progress:int = SendMessageAction;\nsendMessageRecordAudioAction#d52f73f7 = SendMessageAction;\nsendMessageUploadAudioAction#f351d7ab progress:int = SendMessageAction;\nsendMessageUploadPhotoAction#d1d34a26 progress:int = SendMessageAction;\nsendMessageUploadDocumentAction#aa0cd9e4 progress:int = SendMessageAction;\nsendMessageGeoLocationAction#176f8ba1 = SendMessageAction;\nsendMessageChooseContactAction#628cbc6f = SendMessageAction;\nsendMessageGamePlayAction#dd6a8f48 = SendMessageAction;\nsendMessageRecordRoundAction#88f27fbc = SendMessageAction;\nsendMessageUploadRoundAction#243e1c66 progress:int = SendMessageAction;\nspeakingInGroupCallAction#d92c2285 = SendMessageAction;\nsendMessageHistoryImportAction#dbda9246 progress:int = SendMessageAction;\nsendMessageChooseStickerAction#b05ac6b1 = SendMessageAction;\nsendMessageEmojiInteraction#25972bcb emoticon:string msg_id:int interaction:DataJSON = SendMessageAction;\nsendMessageEmojiInteractionSeen#b665902e emoticon:string = SendMessageAction;\ncontacts.found#b3134d9d my_results:Vector<Peer> results:Vector<Peer> chats:Vector<Chat> users:Vector<User> = contacts.Found;\ninputPrivacyKeyStatusTimestamp#4f96cb18 = InputPrivacyKey;\ninputPrivacyKeyChatInvite#bdfb0426 = InputPrivacyKey;\ninputPrivacyKeyPhoneCall#fabadc5f = InputPrivacyKey;\ninputPrivacyKeyPhoneP2P#db9e70d2 = InputPrivacyKey;\ninputPrivacyKeyForwards#a4dd4c08 = InputPrivacyKey;\ninputPrivacyKeyProfilePhoto#5719bacc = InputPrivacyKey;\ninputPrivacyKeyPhoneNumber#352dafa = InputPrivacyKey;\ninputPrivacyKeyAddedByPhone#d1219bdd = InputPrivacyKey;\ninputPrivacyKeyVoiceMessages#aee69d68 = InputPrivacyKey;\nprivacyKeyStatusTimestamp#bc2eab30 = PrivacyKey;\nprivacyKeyChatInvite#500e6dfa = PrivacyKey;\nprivacyKeyPhoneCall#3d662b7b = PrivacyKey;\nprivacyKeyPhoneP2P#39491cc8 = PrivacyKey;\nprivacyKeyForwards#69ec56a3 = PrivacyKey;\nprivacyKeyProfilePhoto#96151fed = PrivacyKey;\nprivacyKeyPhoneNumber#d19ae46d = PrivacyKey;\nprivacyKeyAddedByPhone#42ffd42b = PrivacyKey;\nprivacyKeyVoiceMessages#697f414 = PrivacyKey;\ninputPrivacyValueAllowContacts#d09e07b = InputPrivacyRule;\ninputPrivacyValueAllowAll#184b35ce = InputPrivacyRule;\ninputPrivacyValueAllowUsers#131cc67f users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueDisallowContacts#ba52007 = InputPrivacyRule;\ninputPrivacyValueDisallowAll#d66b66c9 = InputPrivacyRule;\ninputPrivacyValueDisallowUsers#90110467 users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueAllowChatParticipants#840649cf chats:Vector<long> = InputPrivacyRule;\ninputPrivacyValueDisallowChatParticipants#e94f0f86 chats:Vector<long> = InputPrivacyRule;\nprivacyValueAllowContacts#fffe1bac = PrivacyRule;\nprivacyValueAllowAll#65427b82 = PrivacyRule;\nprivacyValueAllowUsers#b8905fb2 users:Vector<long> = PrivacyRule;\nprivacyValueDisallowContacts#f888fa1a = PrivacyRule;\nprivacyValueDisallowAll#8b73e763 = PrivacyRule;\nprivacyValueDisallowUsers#e4621141 users:Vector<long> = PrivacyRule;\nprivacyValueAllowChatParticipants#6b134e8e chats:Vector<long> = PrivacyRule;\nprivacyValueDisallowChatParticipants#41c87565 chats:Vector<long> = PrivacyRule;\naccount.privacyRules#50a04e45 rules:Vector<PrivacyRule> chats:Vector<Chat> users:Vector<User> = account.PrivacyRules;\naccountDaysTTL#b8d0afdf days:int = AccountDaysTTL;\ndocumentAttributeImageSize#6c37c15c w:int h:int = DocumentAttribute;\ndocumentAttributeAnimated#11b58939 = DocumentAttribute;\ndocumentAttributeSticker#6319d612 flags:# mask:flags.1?true alt:string stickerset:InputStickerSet mask_coords:flags.0?MaskCoords = DocumentAttribute;\ndocumentAttributeVideo#ef02ce6 flags:# round_message:flags.0?true supports_streaming:flags.1?true duration:int w:int h:int = DocumentAttribute;\ndocumentAttributeAudio#9852f9c6 flags:# voice:flags.10?true duration:int title:flags.0?string performer:flags.1?string waveform:flags.2?bytes = DocumentAttribute;\ndocumentAttributeFilename#15590068 file_name:string = DocumentAttribute;\ndocumentAttributeHasStickers#9801d2f7 = DocumentAttribute;\ndocumentAttributeCustomEmoji#fd149899 flags:# free:flags.0?true text_color:flags.1?true alt:string stickerset:InputStickerSet = DocumentAttribute;\nmessages.stickersNotModified#f1749a22 = messages.Stickers;\nmessages.stickers#30a6ec7e hash:long stickers:Vector<Document> = messages.Stickers;\nstickerPack#12b299d4 emoticon:string documents:Vector<long> = StickerPack;\nmessages.allStickersNotModified#e86602c3 = messages.AllStickers;\nmessages.allStickers#cdbbcebb hash:long sets:Vector<StickerSet> = messages.AllStickers;\nmessages.affectedMessages#84d19185 pts:int pts_count:int = messages.AffectedMessages;\nwebPageEmpty#eb1477e8 id:long = WebPage;\nwebPagePending#c586da1c id:long date:int = WebPage;\nwebPage#e89c45b2 flags:# id:long url:string display_url:string hash:int type:flags.0?string site_name:flags.1?string title:flags.2?string description:flags.3?string photo:flags.4?Photo embed_url:flags.5?string embed_type:flags.5?string embed_width:flags.6?int embed_height:flags.6?int duration:flags.7?int author:flags.8?string document:flags.9?Document cached_page:flags.10?Page attributes:flags.12?Vector<WebPageAttribute> = WebPage;\nwebPageNotModified#7311ca11 flags:# cached_page_views:flags.0?int = WebPage;\nauthorization#ad01d61d flags:# current:flags.0?true official_app:flags.1?true password_pending:flags.2?true encrypted_requests_disabled:flags.3?true call_requests_disabled:flags.4?true hash:long device_model:string platform:string system_version:string api_id:int app_name:string app_version:string date_created:int date_active:int ip:string country:string region:string = Authorization;\naccount.authorizations#4bff8ea0 authorization_ttl_days:int authorizations:Vector<Authorization> = account.Authorizations;\naccount.password#957b50fb flags:# has_recovery:flags.0?true has_secure_values:flags.1?true has_password:flags.2?true current_algo:flags.2?PasswordKdfAlgo srp_B:flags.2?bytes srp_id:flags.2?long hint:flags.3?string email_unconfirmed_pattern:flags.4?string new_algo:PasswordKdfAlgo new_secure_algo:SecurePasswordKdfAlgo secure_random:bytes pending_reset_date:flags.5?int login_email_pattern:flags.6?string = account.Password;\naccount.passwordSettings#9a5c33e5 flags:# email:flags.0?string secure_settings:flags.1?SecureSecretSettings = account.PasswordSettings;\naccount.passwordInputSettings#c23727c9 flags:# new_algo:flags.0?PasswordKdfAlgo new_password_hash:flags.0?bytes hint:flags.0?string email:flags.1?string new_secure_settings:flags.2?SecureSecretSettings = account.PasswordInputSettings;\nauth.passwordRecovery#137948a5 email_pattern:string = auth.PasswordRecovery;\nreceivedNotifyMessage#a384b779 id:int flags:int = ReceivedNotifyMessage;\nchatInviteExported#ab4a819 flags:# revoked:flags.0?true permanent:flags.5?true request_needed:flags.6?true link:string admin_id:long date:int start_date:flags.4?int expire_date:flags.1?int usage_limit:flags.2?int usage:flags.3?int requested:flags.7?int title:flags.8?string = ExportedChatInvite;\nchatInvitePublicJoinRequests#ed107ab7 = ExportedChatInvite;\nchatInviteAlready#5a686d7c chat:Chat = ChatInvite;\nchatInvite#300c44c1 flags:# channel:flags.0?true broadcast:flags.1?true public:flags.2?true megagroup:flags.3?true request_needed:flags.6?true title:string about:flags.5?string photo:Photo participants_count:int participants:flags.4?Vector<User> = ChatInvite;\nchatInvitePeek#61695cb0 chat:Chat expires:int = ChatInvite;\ninputStickerSetEmpty#ffb62b95 = InputStickerSet;\ninputStickerSetID#9de7a269 id:long access_hash:long = InputStickerSet;\ninputStickerSetShortName#861cc8a0 short_name:string = InputStickerSet;\ninputStickerSetAnimatedEmoji#28703c8 = InputStickerSet;\ninputStickerSetDice#e67f520e emoticon:string = InputStickerSet;\ninputStickerSetAnimatedEmojiAnimations#cde3739 = InputStickerSet;\ninputStickerSetPremiumGifts#c88b3b02 = InputStickerSet;\ninputStickerSetEmojiGenericAnimations#4c4d4ce = InputStickerSet;\ninputStickerSetEmojiDefaultStatuses#29d0f5ee = InputStickerSet;\ninputStickerSetEmojiDefaultTopicIcons#44c1f8e9 = InputStickerSet;\nstickerSet#2dd14edc flags:# archived:flags.1?true official:flags.2?true masks:flags.3?true animated:flags.5?true videos:flags.6?true emojis:flags.7?true installed_date:flags.0?int id:long access_hash:long title:string short_name:string thumbs:flags.4?Vector<PhotoSize> thumb_dc_id:flags.4?int thumb_version:flags.4?int thumb_document_id:flags.8?long count:int hash:int = StickerSet;\nmessages.stickerSet#6e153f16 set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = messages.StickerSet;\nmessages.stickerSetNotModified#d3f924eb = messages.StickerSet;\nbotCommand#c27ac8c7 command:string description:string = BotCommand;\nbotInfo#8f300b57 flags:# user_id:flags.0?long description:flags.1?string description_photo:flags.4?Photo description_document:flags.5?Document commands:flags.2?Vector<BotCommand> menu_button:flags.3?BotMenuButton = BotInfo;\nkeyboardButton#a2fa4880 text:string = KeyboardButton;\nkeyboardButtonUrl#258aff05 text:string url:string = KeyboardButton;\nkeyboardButtonCallback#35bbdb6b flags:# requires_password:flags.0?true text:string data:bytes = KeyboardButton;\nkeyboardButtonRequestPhone#b16a6c29 text:string = KeyboardButton;\nkeyboardButtonRequestGeoLocation#fc796b3f text:string = KeyboardButton;\nkeyboardButtonSwitchInline#93b9fbb5 flags:# same_peer:flags.0?true text:string query:string peer_types:flags.1?Vector<InlineQueryPeerType> = KeyboardButton;\nkeyboardButtonGame#50f41ccf text:string = KeyboardButton;\nkeyboardButtonBuy#afd93fbb text:string = KeyboardButton;\nkeyboardButtonUrlAuth#10b78d29 flags:# text:string fwd_text:flags.0?string url:string button_id:int = KeyboardButton;\ninputKeyboardButtonUrlAuth#d02e7fd4 flags:# request_write_access:flags.0?true text:string fwd_text:flags.1?string url:string bot:InputUser = KeyboardButton;\nkeyboardButtonRequestPoll#bbc7515d flags:# quiz:flags.0?Bool text:string = KeyboardButton;\ninputKeyboardButtonUserProfile#e988037b text:string user_id:InputUser = KeyboardButton;\nkeyboardButtonUserProfile#308660c1 text:string user_id:long = KeyboardButton;\nkeyboardButtonWebView#13767230 text:string url:string = KeyboardButton;\nkeyboardButtonSimpleWebView#a0c0505c text:string url:string = KeyboardButton;\nkeyboardButtonRequestPeer#d0b468c text:string button_id:int peer_type:RequestPeerType = KeyboardButton;\nkeyboardButtonRow#77608b83 buttons:Vector<KeyboardButton> = KeyboardButtonRow;\nreplyKeyboardHide#a03e5b85 flags:# selective:flags.2?true = ReplyMarkup;\nreplyKeyboardForceReply#86b40b08 flags:# single_use:flags.1?true selective:flags.2?true placeholder:flags.3?string = ReplyMarkup;\nreplyKeyboardMarkup#85dd99d1 flags:# resize:flags.0?true single_use:flags.1?true selective:flags.2?true persistent:flags.4?true rows:Vector<KeyboardButtonRow> placeholder:flags.3?string = ReplyMarkup;\nreplyInlineMarkup#48a30254 rows:Vector<KeyboardButtonRow> = ReplyMarkup;\nmessageEntityUnknown#bb92ba95 offset:int length:int = MessageEntity;\nmessageEntityMention#fa04579d offset:int length:int = MessageEntity;\nmessageEntityHashtag#6f635b0d offset:int length:int = MessageEntity;\nmessageEntityBotCommand#6cef8ac7 offset:int length:int = MessageEntity;\nmessageEntityUrl#6ed02538 offset:int length:int = MessageEntity;\nmessageEntityEmail#64e475c2 offset:int length:int = MessageEntity;\nmessageEntityBold#bd610bc9 offset:int length:int = MessageEntity;\nmessageEntityItalic#826f8b60 offset:int length:int = MessageEntity;\nmessageEntityCode#28a20571 offset:int length:int = MessageEntity;\nmessageEntityPre#73924be0 offset:int length:int language:string = MessageEntity;\nmessageEntityTextUrl#76a6d327 offset:int length:int url:string = MessageEntity;\nmessageEntityMentionName#dc7b1140 offset:int length:int user_id:long = MessageEntity;\ninputMessageEntityMentionName#208e68c9 offset:int length:int user_id:InputUser = MessageEntity;\nmessageEntityPhone#9b69e34b offset:int length:int = MessageEntity;\nmessageEntityCashtag#4c4e743f offset:int length:int = MessageEntity;\nmessageEntityUnderline#9c4e7e8b offset:int length:int = MessageEntity;\nmessageEntityStrike#bf0693d4 offset:int length:int = MessageEntity;\nmessageEntityBlockquote#20df5d0 offset:int length:int = MessageEntity;\nmessageEntityBankCard#761e6af4 offset:int length:int = MessageEntity;\nmessageEntitySpoiler#32ca960f offset:int length:int = MessageEntity;\nmessageEntityCustomEmoji#c8cf05f8 offset:int length:int document_id:long = MessageEntity;\ninputChannelEmpty#ee8c1e86 = InputChannel;\ninputChannel#f35aec28 channel_id:long access_hash:long = InputChannel;\ninputChannelFromMessage#5b934f9d peer:InputPeer msg_id:int channel_id:long = InputChannel;\ncontacts.resolvedPeer#7f077ad9 peer:Peer chats:Vector<Chat> users:Vector<User> = contacts.ResolvedPeer;\nmessageRange#ae30253 min_id:int max_id:int = MessageRange;\nupdates.channelDifferenceEmpty#3e11affb flags:# final:flags.0?true pts:int timeout:flags.1?int = updates.ChannelDifference;\nupdates.channelDifferenceTooLong#a4bcc6fe flags:# final:flags.0?true timeout:flags.1?int dialog:Dialog messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nupdates.channelDifference#2064674e flags:# final:flags.0?true pts:int timeout:flags.1?int new_messages:Vector<Message> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nchannelMessagesFilterEmpty#94d42ee7 = ChannelMessagesFilter;\nchannelMessagesFilter#cd77d957 flags:# exclude_new_messages:flags.1?true ranges:Vector<MessageRange> = ChannelMessagesFilter;\nchannelParticipant#c00c07c0 user_id:long date:int = ChannelParticipant;\nchannelParticipantSelf#35a8bfa7 flags:# via_request:flags.0?true user_id:long inviter_id:long date:int = ChannelParticipant;\nchannelParticipantCreator#2fe601d3 flags:# user_id:long admin_rights:ChatAdminRights rank:flags.0?string = ChannelParticipant;\nchannelParticipantAdmin#34c3bb53 flags:# can_edit:flags.0?true self:flags.1?true user_id:long inviter_id:flags.1?long promoted_by:long date:int admin_rights:ChatAdminRights rank:flags.2?string = ChannelParticipant;\nchannelParticipantBanned#6df8014e flags:# left:flags.0?true peer:Peer kicked_by:long date:int banned_rights:ChatBannedRights = ChannelParticipant;\nchannelParticipantLeft#1b03f006 peer:Peer = ChannelParticipant;\nchannelParticipantsRecent#de3f3c79 = ChannelParticipantsFilter;\nchannelParticipantsAdmins#b4608969 = ChannelParticipantsFilter;\nchannelParticipantsKicked#a3b54985 q:string = ChannelParticipantsFilter;\nchannelParticipantsBots#b0d1865b = ChannelParticipantsFilter;\nchannelParticipantsBanned#1427a5e1 q:string = ChannelParticipantsFilter;\nchannelParticipantsSearch#656ac4b q:string = ChannelParticipantsFilter;\nchannelParticipantsContacts#bb6ae88d q:string = ChannelParticipantsFilter;\nchannelParticipantsMentions#e04b5ceb flags:# q:flags.0?string top_msg_id:flags.1?int = ChannelParticipantsFilter;\nchannels.channelParticipants#9ab0feaf count:int participants:Vector<ChannelParticipant> chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipants;\nchannels.channelParticipantsNotModified#f0173fe9 = channels.ChannelParticipants;\nchannels.channelParticipant#dfb80317 participant:ChannelParticipant chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipant;\nhelp.termsOfService#780a0310 flags:# popup:flags.0?true id:DataJSON text:string entities:Vector<MessageEntity> min_age_confirm:flags.1?int = help.TermsOfService;\nmessages.savedGifsNotModified#e8025ca2 = messages.SavedGifs;\nmessages.savedGifs#84a02a0d hash:long gifs:Vector<Document> = messages.SavedGifs;\ninputBotInlineMessageMediaAuto#3380c786 flags:# message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageText#3dcd7a87 flags:# no_webpage:flags.0?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaGeo#96929a85 flags:# geo_point:InputGeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaVenue#417bbf11 flags:# geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaContact#a6edbffd flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageGame#4b425864 flags:# reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaInvoice#d7e78225 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineResult#88bf9319 flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?InputWebDocument content:flags.5?InputWebDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultPhoto#a8d864a7 id:string type:string photo:InputPhoto send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultDocument#fff8fdc4 flags:# id:string type:string title:flags.1?string description:flags.2?string document:InputDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultGame#4fa417f2 id:string short_name:string send_message:InputBotInlineMessage = InputBotInlineResult;\nbotInlineMessageMediaAuto#764cf810 flags:# message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageText#8c7f65e2 flags:# no_webpage:flags.0?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaGeo#51846fd flags:# geo:GeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaVenue#8a86659c flags:# geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaContact#18d1cdc2 flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaInvoice#354a9b09 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument currency:string total_amount:long reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineResult#11965f3a flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?WebDocument content:flags.5?WebDocument send_message:BotInlineMessage = BotInlineResult;\nbotInlineMediaResult#17db940b flags:# id:string type:string photo:flags.0?Photo document:flags.1?Document title:flags.2?string description:flags.3?string send_message:BotInlineMessage = BotInlineResult;\nmessages.botResults#e021f2f6 flags:# gallery:flags.0?true query_id:long next_offset:flags.1?string switch_pm:flags.2?InlineBotSwitchPM switch_webview:flags.3?InlineBotWebView results:Vector<BotInlineResult> cache_time:int users:Vector<User> = messages.BotResults;\nexportedMessageLink#5dab1af4 link:string html:string = ExportedMessageLink;\nmessageFwdHeader#5f777dce flags:# imported:flags.7?true from_id:flags.0?Peer from_name:flags.5?string date:int channel_post:flags.2?int post_author:flags.3?string saved_from_peer:flags.4?Peer saved_from_msg_id:flags.4?int psa_type:flags.6?string = MessageFwdHeader;\nauth.codeTypeSms#72a3158c = auth.CodeType;\nauth.codeTypeCall#741cd3e3 = auth.CodeType;\nauth.codeTypeFlashCall#226ccefb = auth.CodeType;\nauth.codeTypeMissedCall#d61ad6ee = auth.CodeType;\nauth.codeTypeFragmentSms#6ed998c = auth.CodeType;\nauth.sentCodeTypeApp#3dbb5986 length:int = auth.SentCodeType;\nauth.sentCodeTypeSms#c000bba2 length:int = auth.SentCodeType;\nauth.sentCodeTypeCall#5353e5a7 length:int = auth.SentCodeType;\nauth.sentCodeTypeFlashCall#ab03c6d9 pattern:string = auth.SentCodeType;\nauth.sentCodeTypeMissedCall#82006484 prefix:string length:int = auth.SentCodeType;\nauth.sentCodeTypeEmailCode#f450f59b flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true email_pattern:string length:int reset_available_period:flags.3?int reset_pending_date:flags.4?int = auth.SentCodeType;\nauth.sentCodeTypeSetUpEmailRequired#a5491dea flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true = auth.SentCodeType;\nauth.sentCodeTypeFragmentSms#d9565c39 url:string length:int = auth.SentCodeType;\nauth.sentCodeTypeFirebaseSms#e57b1432 flags:# nonce:flags.0?bytes receipt:flags.1?string push_timeout:flags.1?int length:int = auth.SentCodeType;\nmessages.botCallbackAnswer#36585ea4 flags:# alert:flags.1?true has_url:flags.3?true native_ui:flags.4?true message:flags.0?string url:flags.2?string cache_time:int = messages.BotCallbackAnswer;\nmessages.messageEditData#26b5dde6 flags:# caption:flags.0?true = messages.MessageEditData;\ninputBotInlineMessageID#890c3d89 dc_id:int id:long access_hash:long = InputBotInlineMessageID;\ninputBotInlineMessageID64#b6d915d7 dc_id:int owner_id:long id:int access_hash:long = InputBotInlineMessageID;\ninlineBotSwitchPM#3c20629f text:string start_param:string = InlineBotSwitchPM;\nmessages.peerDialogs#3371c354 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> state:updates.State = messages.PeerDialogs;\ntopPeer#edcdc05b peer:Peer rating:double = TopPeer;\ntopPeerCategoryBotsPM#ab661b5b = TopPeerCategory;\ntopPeerCategoryBotsInline#148677e2 = TopPeerCategory;\ntopPeerCategoryCorrespondents#637b7ed = TopPeerCategory;\ntopPeerCategoryGroups#bd17a14a = TopPeerCategory;\ntopPeerCategoryChannels#161d9628 = TopPeerCategory;\ntopPeerCategoryPhoneCalls#1e76a78c = TopPeerCategory;\ntopPeerCategoryForwardUsers#a8406ca9 = TopPeerCategory;\ntopPeerCategoryForwardChats#fbeec0f0 = TopPeerCategory;\ntopPeerCategoryPeers#fb834291 category:TopPeerCategory count:int peers:Vector<TopPeer> = TopPeerCategoryPeers;\ncontacts.topPeersNotModified#de266ef5 = contacts.TopPeers;\ncontacts.topPeers#70b772a8 categories:Vector<TopPeerCategoryPeers> chats:Vector<Chat> users:Vector<User> = contacts.TopPeers;\ncontacts.topPeersDisabled#b52c939d = contacts.TopPeers;\ndraftMessageEmpty#1b0c841a flags:# date:flags.0?int = DraftMessage;\ndraftMessage#fd8e711f flags:# no_webpage:flags.1?true reply_to_msg_id:flags.0?int message:string entities:flags.3?Vector<MessageEntity> date:int = DraftMessage;\nmessages.featuredStickersNotModified#c6dc0c66 count:int = messages.FeaturedStickers;\nmessages.featuredStickers#be382906 flags:# premium:flags.0?true hash:long count:int sets:Vector<StickerSetCovered> unread:Vector<long> = messages.FeaturedStickers;\nmessages.recentStickersNotModified#b17f890 = messages.RecentStickers;\nmessages.recentStickers#88d37c56 hash:long packs:Vector<StickerPack> stickers:Vector<Document> dates:Vector<int> = messages.RecentStickers;\nmessages.archivedStickers#4fcba9c8 count:int sets:Vector<StickerSetCovered> = messages.ArchivedStickers;\nmessages.stickerSetInstallResultSuccess#38641628 = messages.StickerSetInstallResult;\nmessages.stickerSetInstallResultArchive#35e410a8 sets:Vector<StickerSetCovered> = messages.StickerSetInstallResult;\nstickerSetCovered#6410a5d2 set:StickerSet cover:Document = StickerSetCovered;\nstickerSetMultiCovered#3407e51b set:StickerSet covers:Vector<Document> = StickerSetCovered;\nstickerSetFullCovered#40d13c0e set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = StickerSetCovered;\nstickerSetNoCovered#77b15d1c set:StickerSet = StickerSetCovered;\nmaskCoords#aed6dbb2 n:int x:double y:double zoom:double = MaskCoords;\ninputStickeredMediaPhoto#4a992157 id:InputPhoto = InputStickeredMedia;\ninputStickeredMediaDocument#438865b id:InputDocument = InputStickeredMedia;\ngame#bdf9653b flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document = Game;\ninputGameID#32c3e77 id:long access_hash:long = InputGame;\ninputGameShortName#c331e80a bot_id:InputUser short_name:string = InputGame;\nhighScore#73a379eb pos:int user_id:long score:int = HighScore;\nmessages.highScores#9a3bfd99 scores:Vector<HighScore> users:Vector<User> = messages.HighScores;\ntextEmpty#dc3d824f = RichText;\ntextPlain#744694e0 text:string = RichText;\ntextBold#6724abc4 text:RichText = RichText;\ntextItalic#d912a59c text:RichText = RichText;\ntextUnderline#c12622c4 text:RichText = RichText;\ntextStrike#9bf8bb95 text:RichText = RichText;\ntextFixed#6c3f19b9 text:RichText = RichText;\ntextUrl#3c2884c1 text:RichText url:string webpage_id:long = RichText;\ntextEmail#de5a0dd6 text:RichText email:string = RichText;\ntextConcat#7e6260d7 texts:Vector<RichText> = RichText;\ntextSubscript#ed6a8504 text:RichText = RichText;\ntextSuperscript#c7fb5e01 text:RichText = RichText;\ntextMarked#34b8621 text:RichText = RichText;\ntextPhone#1ccb966a text:RichText phone:string = RichText;\ntextImage#81ccf4f document_id:long w:int h:int = RichText;\ntextAnchor#35553762 text:RichText name:string = RichText;\npageBlockUnsupported#13567e8a = PageBlock;\npageBlockTitle#70abc3fd text:RichText = PageBlock;\npageBlockSubtitle#8ffa9a1f text:RichText = PageBlock;\npageBlockAuthorDate#baafe5e0 author:RichText published_date:int = PageBlock;\npageBlockHeader#bfd064ec text:RichText = PageBlock;\npageBlockSubheader#f12bb6e1 text:RichText = PageBlock;\npageBlockParagraph#467a0766 text:RichText = PageBlock;\npageBlockPreformatted#c070d93e text:RichText language:string = PageBlock;\npageBlockFooter#48870999 text:RichText = PageBlock;\npageBlockDivider#db20b188 = PageBlock;\npageBlockAnchor#ce0d37b0 name:string = PageBlock;\npageBlockList#e4e88011 items:Vector<PageListItem> = PageBlock;\npageBlockBlockquote#263d7c26 text:RichText caption:RichText = PageBlock;\npageBlockPullquote#4f4456d3 text:RichText caption:RichText = PageBlock;\npageBlockPhoto#1759c560 flags:# photo_id:long caption:PageCaption url:flags.0?string webpage_id:flags.0?long = PageBlock;\npageBlockVideo#7c8fe7b6 flags:# autoplay:flags.0?true loop:flags.1?true video_id:long caption:PageCaption = PageBlock;\npageBlockCover#39f23300 cover:PageBlock = PageBlock;\npageBlockEmbed#a8718dc5 flags:# full_width:flags.0?true allow_scrolling:flags.3?true url:flags.1?string html:flags.2?string poster_photo_id:flags.4?long w:flags.5?int h:flags.5?int caption:PageCaption = PageBlock;\npageBlockEmbedPost#f259a80b url:string webpage_id:long author_photo_id:long author:string date:int blocks:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockCollage#65a0fa4d items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockSlideshow#31f9590 items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockChannel#ef1751b5 channel:Chat = PageBlock;\npageBlockAudio#804361ea audio_id:long caption:PageCaption = PageBlock;\npageBlockKicker#1e148390 text:RichText = PageBlock;\npageBlockTable#bf4dea82 flags:# bordered:flags.0?true striped:flags.1?true title:RichText rows:Vector<PageTableRow> = PageBlock;\npageBlockOrderedList#9a8ae1e1 items:Vector<PageListOrderedItem> = PageBlock;\npageBlockDetails#76768bed flags:# open:flags.0?true blocks:Vector<PageBlock> title:RichText = PageBlock;\npageBlockRelatedArticles#16115a96 title:RichText articles:Vector<PageRelatedArticle> = PageBlock;\npageBlockMap#a44f3ef6 geo:GeoPoint zoom:int w:int h:int caption:PageCaption = PageBlock;\nphoneCallDiscardReasonMissed#85e42301 = PhoneCallDiscardReason;\nphoneCallDiscardReasonDisconnect#e095c1a0 = PhoneCallDiscardReason;\nphoneCallDiscardReasonHangup#57adc690 = PhoneCallDiscardReason;\nphoneCallDiscardReasonBusy#faf7e8c9 = PhoneCallDiscardReason;\ndataJSON#7d748d04 data:string = DataJSON;\nlabeledPrice#cb296bf8 label:string amount:long = LabeledPrice;\ninvoice#3e85a91b flags:# test:flags.0?true name_requested:flags.1?true phone_requested:flags.2?true email_requested:flags.3?true shipping_address_requested:flags.4?true flexible:flags.5?true phone_to_provider:flags.6?true email_to_provider:flags.7?true recurring:flags.9?true currency:string prices:Vector<LabeledPrice> max_tip_amount:flags.8?long suggested_tip_amounts:flags.8?Vector<long> recurring_terms_url:flags.9?string = Invoice;\npaymentCharge#ea02c27e id:string provider_charge_id:string = PaymentCharge;\npostAddress#1e8caaeb street_line1:string street_line2:string city:string state:string country_iso2:string post_code:string = PostAddress;\npaymentRequestedInfo#909c3f94 flags:# name:flags.0?string phone:flags.1?string email:flags.2?string shipping_address:flags.3?PostAddress = PaymentRequestedInfo;\npaymentSavedCredentialsCard#cdc27a1f id:string title:string = PaymentSavedCredentials;\nwebDocument#1c570ed1 url:string access_hash:long size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\nwebDocumentNoProxy#f9c8bcc6 url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\ninputWebDocument#9bed434d url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = InputWebDocument;\ninputWebFileLocation#c239d686 url:string access_hash:long = InputWebFileLocation;\ninputWebFileGeoPointLocation#9f2221c9 geo_point:InputGeoPoint access_hash:long w:int h:int zoom:int scale:int = InputWebFileLocation;\ninputWebFileAudioAlbumThumbLocation#f46fe924 flags:# small:flags.2?true document:flags.0?InputDocument title:flags.1?string performer:flags.1?string = InputWebFileLocation;\nupload.webFile#21e753bc size:int mime_type:string file_type:storage.FileType mtime:int bytes:bytes = upload.WebFile;\npayments.paymentForm#a0058751 flags:# can_save_credentials:flags.2?true password_missing:flags.3?true form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice provider_id:long url:string native_provider:flags.4?string native_params:flags.4?DataJSON additional_methods:flags.6?Vector<PaymentFormMethod> saved_info:flags.0?PaymentRequestedInfo saved_credentials:flags.1?Vector<PaymentSavedCredentials> users:Vector<User> = payments.PaymentForm;\npayments.validatedRequestedInfo#d1451883 flags:# id:flags.0?string shipping_options:flags.1?Vector<ShippingOption> = payments.ValidatedRequestedInfo;\npayments.paymentResult#4e5f810d updates:Updates = payments.PaymentResult;\npayments.paymentVerificationNeeded#d8411139 url:string = payments.PaymentResult;\npayments.paymentReceipt#70c4fe03 flags:# date:int bot_id:long provider_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice info:flags.0?PaymentRequestedInfo shipping:flags.1?ShippingOption tip_amount:flags.3?long currency:string total_amount:long credentials_title:string users:Vector<User> = payments.PaymentReceipt;\npayments.savedInfo#fb8fe43c flags:# has_saved_credentials:flags.1?true saved_info:flags.0?PaymentRequestedInfo = payments.SavedInfo;\ninputPaymentCredentialsSaved#c10eb2cf id:string tmp_password:bytes = InputPaymentCredentials;\ninputPaymentCredentials#3417d728 flags:# save:flags.0?true data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsApplePay#aa1c39f payment_data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsGooglePay#8ac32801 payment_token:DataJSON = InputPaymentCredentials;\naccount.tmpPassword#db64fd34 tmp_password:bytes valid_until:int = account.TmpPassword;\nshippingOption#b6213cdf id:string title:string prices:Vector<LabeledPrice> = ShippingOption;\ninputStickerSetItem#32da9e9c flags:# document:InputDocument emoji:string mask_coords:flags.0?MaskCoords keywords:flags.1?string = InputStickerSetItem;\ninputPhoneCall#1e36fded id:long access_hash:long = InputPhoneCall;\nphoneCallEmpty#5366c915 id:long = PhoneCall;\nphoneCallWaiting#c5226f17 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long protocol:PhoneCallProtocol receive_date:flags.0?int = PhoneCall;\nphoneCallRequested#14b0ed0c flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_hash:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCallAccepted#3660c311 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_b:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCall#967f7c67 flags:# p2p_allowed:flags.5?true video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long protocol:PhoneCallProtocol connections:Vector<PhoneConnection> start_date:int = PhoneCall;\nphoneCallDiscarded#50ca4de1 flags:# need_rating:flags.2?true need_debug:flags.3?true video:flags.6?true id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = PhoneCall;\nphoneConnection#9cc123c7 flags:# tcp:flags.0?true id:long ip:string ipv6:string port:int peer_tag:bytes = PhoneConnection;\nphoneConnectionWebrtc#635fe375 flags:# turn:flags.0?true stun:flags.1?true id:long ip:string ipv6:string port:int username:string password:string = PhoneConnection;\nphoneCallProtocol#fc878fc8 flags:# udp_p2p:flags.0?true udp_reflector:flags.1?true min_layer:int max_layer:int library_versions:Vector<string> = PhoneCallProtocol;\nphone.phoneCall#ec82e140 phone_call:PhoneCall users:Vector<User> = phone.PhoneCall;\nupload.cdnFileReuploadNeeded#eea8e46e request_token:bytes = upload.CdnFile;\nupload.cdnFile#a99fca4f bytes:bytes = upload.CdnFile;\ncdnPublicKey#c982eaba dc_id:int public_key:string = CdnPublicKey;\ncdnConfig#5725e40a public_keys:Vector<CdnPublicKey> = CdnConfig;\nlangPackString#cad181f6 key:string value:string = LangPackString;\nlangPackStringPluralized#6c47ac9f flags:# key:string zero_value:flags.0?string one_value:flags.1?string two_value:flags.2?string few_value:flags.3?string many_value:flags.4?string other_value:string = LangPackString;\nlangPackStringDeleted#2979eeb2 key:string = LangPackString;\nlangPackDifference#f385c1f6 lang_code:string from_version:int version:int strings:Vector<LangPackString> = LangPackDifference;\nlangPackLanguage#eeca5ce3 flags:# official:flags.0?true rtl:flags.2?true beta:flags.3?true name:string native_name:string lang_code:string base_lang_code:flags.1?string plural_code:string strings_count:int translated_count:int translations_url:string = LangPackLanguage;\nchannelAdminLogEventActionChangeTitle#e6dfb825 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAbout#55188a2e prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsername#6a4afc38 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangePhoto#434bd2af prev_photo:Photo new_photo:Photo = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleInvites#1b7907ae new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSignatures#26ae0971 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionUpdatePinned#e9e82c18 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditMessage#709b2405 prev_message:Message new_message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteMessage#42e047bb message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoin#183040d3 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantLeave#f89777f2 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantInvite#e31c34d8 participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleBan#e6d83d7e prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleAdmin#d5676710 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeStickerSet#b1c3caa7 prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;\nchannelAdminLogEventActionTogglePreHistoryHidden#5f5c95f1 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDefaultBannedRights#2df5fc0a prev_banned_rights:ChatBannedRights new_banned_rights:ChatBannedRights = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStopPoll#8f079643 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLinkedChat#50c7ac8 prev_value:long new_value:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLocation#e6b76ae prev_value:ChannelLocation new_value:ChannelLocation = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSlowMode#53909779 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStartGroupCall#23209745 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDiscardGroupCall#db9f9140 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantMute#f92424d2 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantUnmute#e64429c0 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleGroupCallSetting#56d6a247 join_muted:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByInvite#fe9fc158 flags:# via_chatlist:flags.0?true invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteDelete#5a50fca4 invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteRevoke#410a134e invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteEdit#e90ebb59 prev_invite:ExportedChatInvite new_invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantVolume#3e7f6847 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeHistoryTTL#6e941a38 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByRequest#afb6144a invite:ExportedChatInvite approved_by:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleNoForwards#cb2ac766 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionSendMessage#278f2868 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAvailableReactions#be4e0ef8 prev_value:ChatReactions new_value:ChatReactions = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsernames#f04fb3a9 prev_value:Vector<string> new_value:Vector<string> = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleForum#2cc6383 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionCreateTopic#58707d28 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditTopic#f06fe208 prev_topic:ForumTopic new_topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteTopic#ae168909 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionPinTopic#5d8d353b flags:# prev_topic:flags.0?ForumTopic new_topic:flags.1?ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleAntiSpam#64f36dfc new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEvent#1fad68cd id:long date:int user_id:long action:ChannelAdminLogEventAction = ChannelAdminLogEvent;\nchannels.adminLogResults#ed8af74d events:Vector<ChannelAdminLogEvent> chats:Vector<Chat> users:Vector<User> = channels.AdminLogResults;\nchannelAdminLogEventsFilter#ea107ae4 flags:# join:flags.0?true leave:flags.1?true invite:flags.2?true ban:flags.3?true unban:flags.4?true kick:flags.5?true unkick:flags.6?true promote:flags.7?true demote:flags.8?true info:flags.9?true settings:flags.10?true pinned:flags.11?true edit:flags.12?true delete:flags.13?true group_call:flags.14?true invites:flags.15?true send:flags.16?true forums:flags.17?true = ChannelAdminLogEventsFilter;\npopularContact#5ce14175 client_id:long importers:int = PopularContact;\nmessages.favedStickersNotModified#9e8fa6d3 = messages.FavedStickers;\nmessages.favedStickers#2cb51097 hash:long packs:Vector<StickerPack> stickers:Vector<Document> = messages.FavedStickers;\nrecentMeUrlUnknown#46e1d13d url:string = RecentMeUrl;\nrecentMeUrlUser#b92c09e2 url:string user_id:long = RecentMeUrl;\nrecentMeUrlChat#b2da71d2 url:string chat_id:long = RecentMeUrl;\nrecentMeUrlChatInvite#eb49081d url:string chat_invite:ChatInvite = RecentMeUrl;\nrecentMeUrlStickerSet#bc0a57dc url:string set:StickerSetCovered = RecentMeUrl;\nhelp.recentMeUrls#e0310d7 urls:Vector<RecentMeUrl> chats:Vector<Chat> users:Vector<User> = help.RecentMeUrls;\ninputSingleMedia#1cc6e91f flags:# media:InputMedia random_id:long message:string entities:flags.0?Vector<MessageEntity> = InputSingleMedia;\nwebAuthorization#a6f8f452 hash:long bot_id:long domain:string browser:string platform:string date_created:int date_active:int ip:string region:string = WebAuthorization;\naccount.webAuthorizations#ed56c9fc authorizations:Vector<WebAuthorization> users:Vector<User> = account.WebAuthorizations;\ninputMessageID#a676a322 id:int = InputMessage;\ninputMessageReplyTo#bad88395 id:int = InputMessage;\ninputMessagePinned#86872538 = InputMessage;\ninputMessageCallbackQuery#acfa1a7e id:int query_id:long = InputMessage;\ninputDialogPeer#fcaafeb7 peer:InputPeer = InputDialogPeer;\ninputDialogPeerFolder#64600527 folder_id:int = InputDialogPeer;\ndialogPeer#e56dbf05 peer:Peer = DialogPeer;\ndialogPeerFolder#514519e2 folder_id:int = DialogPeer;\nmessages.foundStickerSetsNotModified#d54b65d = messages.FoundStickerSets;\nmessages.foundStickerSets#8af09dd2 hash:long sets:Vector<StickerSetCovered> = messages.FoundStickerSets;\nfileHash#f39b035c offset:long limit:int hash:bytes = FileHash;\ninputClientProxy#75588b3f address:string port:int = InputClientProxy;\nhelp.termsOfServiceUpdateEmpty#e3309f7f expires:int = help.TermsOfServiceUpdate;\nhelp.termsOfServiceUpdate#28ecf961 expires:int terms_of_service:help.TermsOfService = help.TermsOfServiceUpdate;\ninputSecureFileUploaded#3334b0f0 id:long parts:int md5_checksum:string file_hash:bytes secret:bytes = InputSecureFile;\ninputSecureFile#5367e5be id:long access_hash:long = InputSecureFile;\nsecureFileEmpty#64199744 = SecureFile;\nsecureFile#7d09c27e id:long access_hash:long size:long dc_id:int date:int file_hash:bytes secret:bytes = SecureFile;\nsecureData#8aeabec3 data:bytes data_hash:bytes secret:bytes = SecureData;\nsecurePlainPhone#7d6099dd phone:string = SecurePlainData;\nsecurePlainEmail#21ec5a5f email:string = SecurePlainData;\nsecureValueTypePersonalDetails#9d2a81e3 = SecureValueType;\nsecureValueTypePassport#3dac6a00 = SecureValueType;\nsecureValueTypeDriverLicense#6e425c4 = SecureValueType;\nsecureValueTypeIdentityCard#a0d0744b = SecureValueType;\nsecureValueTypeInternalPassport#99a48f23 = SecureValueType;\nsecureValueTypeAddress#cbe31e26 = SecureValueType;\nsecureValueTypeUtilityBill#fc36954e = SecureValueType;\nsecureValueTypeBankStatement#89137c0d = SecureValueType;\nsecureValueTypeRentalAgreement#8b883488 = SecureValueType;\nsecureValueTypePassportRegistration#99e3806a = SecureValueType;\nsecureValueTypeTemporaryRegistration#ea02ec33 = SecureValueType;\nsecureValueTypePhone#b320aadb = SecureValueType;\nsecureValueTypeEmail#8e3ca7ee = SecureValueType;\nsecureValue#187fa0ca flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?SecureFile reverse_side:flags.2?SecureFile selfie:flags.3?SecureFile translation:flags.6?Vector<SecureFile> files:flags.4?Vector<SecureFile> plain_data:flags.5?SecurePlainData hash:bytes = SecureValue;\ninputSecureValue#db21d0a7 flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?InputSecureFile reverse_side:flags.2?InputSecureFile selfie:flags.3?InputSecureFile translation:flags.6?Vector<InputSecureFile> files:flags.4?Vector<InputSecureFile> plain_data:flags.5?SecurePlainData = InputSecureValue;\nsecureValueHash#ed1ecdb0 type:SecureValueType hash:bytes = SecureValueHash;\nsecureValueErrorData#e8a40bd9 type:SecureValueType data_hash:bytes field:string text:string = SecureValueError;\nsecureValueErrorFrontSide#be3dfa type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorReverseSide#868a2aa5 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorSelfie#e537ced6 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFile#7a700873 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFiles#666220e9 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureValueError#869d758f type:SecureValueType hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFile#a1144770 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFiles#34636dd8 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureCredentialsEncrypted#33f0ea47 data:bytes hash:bytes secret:bytes = SecureCredentialsEncrypted;\naccount.authorizationForm#ad2e1cd8 flags:# required_types:Vector<SecureRequiredType> values:Vector<SecureValue> errors:Vector<SecureValueError> users:Vector<User> privacy_policy_url:flags.0?string = account.AuthorizationForm;\naccount.sentEmailCode#811f854f email_pattern:string length:int = account.SentEmailCode;\nhelp.deepLinkInfoEmpty#66afa166 = help.DeepLinkInfo;\nhelp.deepLinkInfo#6a4ee832 flags:# update_app:flags.0?true message:string entities:flags.1?Vector<MessageEntity> = help.DeepLinkInfo;\nsavedPhoneContact#1142bd56 phone:string first_name:string last_name:string date:int = SavedContact;\naccount.takeout#4dba4501 id:long = account.Takeout;\npasswordKdfAlgoUnknown#d45ab096 = PasswordKdfAlgo;\npasswordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow#3a912d4a salt1:bytes salt2:bytes g:int p:bytes = PasswordKdfAlgo;\nsecurePasswordKdfAlgoUnknown#4a8537 = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoPBKDF2HMACSHA512iter100000#bbf2dda0 salt:bytes = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoSHA512#86471d92 salt:bytes = SecurePasswordKdfAlgo;\nsecureSecretSettings#1527bcac secure_algo:SecurePasswordKdfAlgo secure_secret:bytes secure_secret_id:long = SecureSecretSettings;\ninputCheckPasswordEmpty#9880f658 = InputCheckPasswordSRP;\ninputCheckPasswordSRP#d27ff082 srp_id:long A:bytes M1:bytes = InputCheckPasswordSRP;\nsecureRequiredType#829d99da flags:# native_names:flags.0?true selfie_required:flags.1?true translation_required:flags.2?true type:SecureValueType = SecureRequiredType;\nsecureRequiredTypeOneOf#27477b4 types:Vector<SecureRequiredType> = SecureRequiredType;\nhelp.passportConfigNotModified#bfb9f457 = help.PassportConfig;\nhelp.passportConfig#a098d6af hash:int countries_langs:DataJSON = help.PassportConfig;\ninputAppEvent#1d1b1245 time:double type:string peer:long data:JSONValue = InputAppEvent;\njsonObjectValue#c0de1bd9 key:string value:JSONValue = JSONObjectValue;\njsonNull#3f6d7b68 = JSONValue;\njsonBool#c7345e6a value:Bool = JSONValue;\njsonNumber#2be0dfa4 value:double = JSONValue;\njsonString#b71e767a value:string = JSONValue;\njsonArray#f7444763 value:Vector<JSONValue> = JSONValue;\njsonObject#99c1d49d value:Vector<JSONObjectValue> = JSONValue;\npageTableCell#34566b6a flags:# header:flags.0?true align_center:flags.3?true align_right:flags.4?true valign_middle:flags.5?true valign_bottom:flags.6?true text:flags.7?RichText colspan:flags.1?int rowspan:flags.2?int = PageTableCell;\npageTableRow#e0c0c5e5 cells:Vector<PageTableCell> = PageTableRow;\npageCaption#6f747657 text:RichText credit:RichText = PageCaption;\npageListItemText#b92fb6cd text:RichText = PageListItem;\npageListItemBlocks#25e073fc blocks:Vector<PageBlock> = PageListItem;\npageListOrderedItemText#5e068047 num:string text:RichText = PageListOrderedItem;\npageListOrderedItemBlocks#98dd8936 num:string blocks:Vector<PageBlock> = PageListOrderedItem;\npageRelatedArticle#b390dc08 flags:# url:string webpage_id:long title:flags.0?string description:flags.1?string photo_id:flags.2?long author:flags.3?string published_date:flags.4?int = PageRelatedArticle;\npage#98657f0d flags:# part:flags.0?true rtl:flags.1?true v2:flags.2?true url:string blocks:Vector<PageBlock> photos:Vector<Photo> documents:Vector<Document> views:flags.3?int = Page;\nhelp.supportName#8c05f1c9 name:string = help.SupportName;\nhelp.userInfoEmpty#f3ae2eed = help.UserInfo;\nhelp.userInfo#1eb3758 message:string entities:Vector<MessageEntity> author:string date:int = help.UserInfo;\npollAnswer#6ca9c2e9 text:string option:bytes = PollAnswer;\npoll#86e18161 id:long flags:# closed:flags.0?true public_voters:flags.1?true multiple_choice:flags.2?true quiz:flags.3?true question:string answers:Vector<PollAnswer> close_period:flags.4?int close_date:flags.5?int = Poll;\npollAnswerVoters#3b6ddad2 flags:# chosen:flags.0?true correct:flags.1?true option:bytes voters:int = PollAnswerVoters;\npollResults#dcb82ea3 flags:# min:flags.0?true results:flags.1?Vector<PollAnswerVoters> total_voters:flags.2?int recent_voters:flags.3?Vector<long> solution:flags.4?string solution_entities:flags.4?Vector<MessageEntity> = PollResults;\nchatOnlines#f041e250 onlines:int = ChatOnlines;\nstatsURL#47a971e0 url:string = StatsURL;\nchatAdminRights#5fb224d5 flags:# change_info:flags.0?true post_messages:flags.1?true edit_messages:flags.2?true delete_messages:flags.3?true ban_users:flags.4?true invite_users:flags.5?true pin_messages:flags.7?true add_admins:flags.9?true anonymous:flags.10?true manage_call:flags.11?true other:flags.12?true manage_topics:flags.13?true = ChatAdminRights;\nchatBannedRights#9f120418 flags:# view_messages:flags.0?true send_messages:flags.1?true send_media:flags.2?true send_stickers:flags.3?true send_gifs:flags.4?true send_games:flags.5?true send_inline:flags.6?true embed_links:flags.7?true send_polls:flags.8?true change_info:flags.10?true invite_users:flags.15?true pin_messages:flags.17?true manage_topics:flags.18?true send_photos:flags.19?true send_videos:flags.20?true send_roundvideos:flags.21?true send_audios:flags.22?true send_voices:flags.23?true send_docs:flags.24?true send_plain:flags.25?true until_date:int = ChatBannedRights;\ninputWallPaper#e630b979 id:long access_hash:long = InputWallPaper;\ninputWallPaperSlug#72091c80 slug:string = InputWallPaper;\ninputWallPaperNoFile#967a462e id:long = InputWallPaper;\naccount.wallPapersNotModified#1c199183 = account.WallPapers;\naccount.wallPapers#cdc3858c hash:long wallpapers:Vector<WallPaper> = account.WallPapers;\ncodeSettings#ad253d78 flags:# allow_flashcall:flags.0?true current_number:flags.1?true allow_app_hash:flags.4?true allow_missed_call:flags.5?true allow_firebase:flags.7?true logout_tokens:flags.6?Vector<bytes> token:flags.8?string app_sandbox:flags.8?Bool = CodeSettings;\nwallPaperSettings#1dc1bca4 flags:# blur:flags.1?true motion:flags.2?true background_color:flags.0?int second_background_color:flags.4?int third_background_color:flags.5?int fourth_background_color:flags.6?int intensity:flags.3?int rotation:flags.4?int = WallPaperSettings;\nautoDownloadSettings#8efab953 flags:# disabled:flags.0?true video_preload_large:flags.1?true audio_preload_next:flags.2?true phonecalls_less_data:flags.3?true photo_size_max:int video_size_max:long file_size_max:long video_upload_maxbitrate:int = AutoDownloadSettings;\naccount.autoDownloadSettings#63cacf26 low:AutoDownloadSettings medium:AutoDownloadSettings high:AutoDownloadSettings = account.AutoDownloadSettings;\nemojiKeyword#d5b3b9f9 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordDeleted#236df622 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordsDifference#5cc761bd lang_code:string from_version:int version:int keywords:Vector<EmojiKeyword> = EmojiKeywordsDifference;\nemojiURL#a575739d url:string = EmojiURL;\nemojiLanguage#b3fb5361 lang_code:string = EmojiLanguage;\nfolder#ff544e65 flags:# autofill_new_broadcasts:flags.0?true autofill_public_groups:flags.1?true autofill_new_correspondents:flags.2?true id:int title:string photo:flags.3?ChatPhoto = Folder;\ninputFolderPeer#fbd2c296 peer:InputPeer folder_id:int = InputFolderPeer;\nfolderPeer#e9baa668 peer:Peer folder_id:int = FolderPeer;\nmessages.searchCounter#e844ebff flags:# inexact:flags.1?true filter:MessagesFilter count:int = messages.SearchCounter;\nurlAuthResultRequest#92d33a0e flags:# request_write_access:flags.0?true bot:User domain:string = UrlAuthResult;\nurlAuthResultAccepted#8f8c0e4e url:string = UrlAuthResult;\nurlAuthResultDefault#a9d6db1f = UrlAuthResult;\nchannelLocationEmpty#bfb5ad8b = ChannelLocation;\nchannelLocation#209b82db geo_point:GeoPoint address:string = ChannelLocation;\npeerLocated#ca461b5d peer:Peer expires:int distance:int = PeerLocated;\npeerSelfLocated#f8ec284b expires:int = PeerLocated;\nrestrictionReason#d072acb4 platform:string reason:string text:string = RestrictionReason;\ninputTheme#3c5693e9 id:long access_hash:long = InputTheme;\ninputThemeSlug#f5890df1 slug:string = InputTheme;\ntheme#a00e67d6 flags:# creator:flags.0?true default:flags.1?true for_chat:flags.5?true id:long access_hash:long slug:string title:string document:flags.2?Document settings:flags.3?Vector<ThemeSettings> emoticon:flags.6?string installs_count:flags.4?int = Theme;\naccount.themesNotModified#f41eb622 = account.Themes;\naccount.themes#9a3d8c6d hash:long themes:Vector<Theme> = account.Themes;\nauth.loginToken#629f1980 expires:int token:bytes = auth.LoginToken;\nauth.loginTokenMigrateTo#68e9916 dc_id:int token:bytes = auth.LoginToken;\nauth.loginTokenSuccess#390d5c5e authorization:auth.Authorization = auth.LoginToken;\naccount.contentSettings#57e28221 flags:# sensitive_enabled:flags.0?true sensitive_can_change:flags.1?true = account.ContentSettings;\nmessages.inactiveChats#a927fec5 dates:Vector<int> chats:Vector<Chat> users:Vector<User> = messages.InactiveChats;\nbaseThemeClassic#c3a12462 = BaseTheme;\nbaseThemeDay#fbd81688 = BaseTheme;\nbaseThemeNight#b7b31ea8 = BaseTheme;\nbaseThemeTinted#6d5f77ee = BaseTheme;\nbaseThemeArctic#5b11125a = BaseTheme;\ninputThemeSettings#8fde504f flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?InputWallPaper wallpaper_settings:flags.1?WallPaperSettings = InputThemeSettings;\nthemeSettings#fa58b6d4 flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?WallPaper = ThemeSettings;\nwebPageAttributeTheme#54b56617 flags:# documents:flags.0?Vector<Document> settings:flags.1?ThemeSettings = WebPageAttribute;\nmessageUserVote#34d247b4 user_id:long option:bytes date:int = MessageUserVote;\nmessageUserVoteInputOption#3ca5b0ec user_id:long date:int = MessageUserVote;\nmessageUserVoteMultiple#8a65e557 user_id:long options:Vector<bytes> date:int = MessageUserVote;\nmessages.votesList#823f649 flags:# count:int votes:Vector<MessageUserVote> users:Vector<User> next_offset:flags.0?string = messages.VotesList;\nbankCardOpenUrl#f568028a url:string name:string = BankCardOpenUrl;\npayments.bankCardData#3e24e573 title:string open_urls:Vector<BankCardOpenUrl> = payments.BankCardData;\ndialogFilter#7438f7e8 flags:# contacts:flags.0?true non_contacts:flags.1?true groups:flags.2?true broadcasts:flags.3?true bots:flags.4?true exclude_muted:flags.11?true exclude_read:flags.12?true exclude_archived:flags.13?true id:int title:string emoticon:flags.25?string pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> exclude_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterDefault#363293ae = DialogFilter;\ndialogFilterChatlist#d64a04a8 flags:# has_my_invites:flags.26?true id:int title:string emoticon:flags.25?string pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterSuggested#77744d4a filter:DialogFilter description:string = DialogFilterSuggested;\nstatsDateRangeDays#b637edaf min_date:int max_date:int = StatsDateRangeDays;\nstatsAbsValueAndPrev#cb43acde current:double previous:double = StatsAbsValueAndPrev;\nstatsPercentValue#cbce2fe0 part:double total:double = StatsPercentValue;\nstatsGraphAsync#4a27eb2d token:string = StatsGraph;\nstatsGraphError#bedc9822 error:string = StatsGraph;\nstatsGraph#8ea464b6 flags:# json:DataJSON zoom_token:flags.0?string = StatsGraph;\nmessageInteractionCounters#ad4fc9bd msg_id:int views:int forwards:int = MessageInteractionCounters;\nstats.broadcastStats#bdf78394 period:StatsDateRangeDays followers:StatsAbsValueAndPrev views_per_post:StatsAbsValueAndPrev shares_per_post:StatsAbsValueAndPrev enabled_notifications:StatsPercentValue growth_graph:StatsGraph followers_graph:StatsGraph mute_graph:StatsGraph top_hours_graph:StatsGraph interactions_graph:StatsGraph iv_interactions_graph:StatsGraph views_by_source_graph:StatsGraph new_followers_by_source_graph:StatsGraph languages_graph:StatsGraph recent_message_interactions:Vector<MessageInteractionCounters> = stats.BroadcastStats;\nhelp.promoDataEmpty#98f6ac75 expires:int = help.PromoData;\nhelp.promoData#8c39793f flags:# proxy:flags.0?true expires:int peer:Peer chats:Vector<Chat> users:Vector<User> psa_type:flags.1?string psa_message:flags.2?string = help.PromoData;\nvideoSize#de33b094 flags:# type:string w:int h:int size:int video_start_ts:flags.0?double = VideoSize;\nvideoSizeEmojiMarkup#f85c413c emoji_id:long background_colors:Vector<int> = VideoSize;\nvideoSizeStickerMarkup#da082fe stickerset:InputStickerSet sticker_id:long background_colors:Vector<int> = VideoSize;\nstatsGroupTopPoster#9d04af9b user_id:long messages:int avg_chars:int = StatsGroupTopPoster;\nstatsGroupTopAdmin#d7584c87 user_id:long deleted:int kicked:int banned:int = StatsGroupTopAdmin;\nstatsGroupTopInviter#535f779d user_id:long invitations:int = StatsGroupTopInviter;\nstats.megagroupStats#ef7ff916 period:StatsDateRangeDays members:StatsAbsValueAndPrev messages:StatsAbsValueAndPrev viewers:StatsAbsValueAndPrev posters:StatsAbsValueAndPrev growth_graph:StatsGraph members_graph:StatsGraph new_members_by_source_graph:StatsGraph languages_graph:StatsGraph messages_graph:StatsGraph actions_graph:StatsGraph top_hours_graph:StatsGraph weekdays_graph:StatsGraph top_posters:Vector<StatsGroupTopPoster> top_admins:Vector<StatsGroupTopAdmin> top_inviters:Vector<StatsGroupTopInviter> users:Vector<User> = stats.MegagroupStats;\nglobalPrivacySettings#bea2f424 flags:# archive_and_mute_new_noncontact_peers:flags.0?Bool = GlobalPrivacySettings;\nhelp.countryCode#4203c5ef flags:# country_code:string prefixes:flags.0?Vector<string> patterns:flags.1?Vector<string> = help.CountryCode;\nhelp.country#c3878e23 flags:# hidden:flags.0?true iso2:string default_name:string name:flags.1?string country_codes:Vector<help.CountryCode> = help.Country;\nhelp.countriesListNotModified#93cc1f32 = help.CountriesList;\nhelp.countriesList#87d0759e countries:Vector<help.Country> hash:int = help.CountriesList;\nmessageViews#455b853d flags:# views:flags.0?int forwards:flags.1?int replies:flags.2?MessageReplies = MessageViews;\nmessages.messageViews#b6c4f543 views:Vector<MessageViews> chats:Vector<Chat> users:Vector<User> = messages.MessageViews;\nmessages.discussionMessage#a6341782 flags:# messages:Vector<Message> max_id:flags.0?int read_inbox_max_id:flags.1?int read_outbox_max_id:flags.2?int unread_count:int chats:Vector<Chat> users:Vector<User> = messages.DiscussionMessage;\nmessageReplyHeader#a6d57763 flags:# reply_to_scheduled:flags.2?true forum_topic:flags.3?true reply_to_msg_id:int reply_to_peer_id:flags.0?Peer reply_to_top_id:flags.1?int = MessageReplyHeader;\nmessageReplies#83d60fc2 flags:# comments:flags.0?true replies:int replies_pts:int recent_repliers:flags.1?Vector<Peer> channel_id:flags.0?long max_id:flags.2?int read_max_id:flags.3?int = MessageReplies;\npeerBlocked#e8fd8014 peer_id:Peer date:int = PeerBlocked;\nstats.messageStats#8999f295 views_graph:StatsGraph = stats.MessageStats;\ngroupCallDiscarded#7780bcb4 id:long access_hash:long duration:int = GroupCall;\ngroupCall#d597650c flags:# join_muted:flags.1?true can_change_join_muted:flags.2?true join_date_asc:flags.6?true schedule_start_subscribed:flags.8?true can_start_video:flags.9?true record_video_active:flags.11?true rtmp_stream:flags.12?true listeners_hidden:flags.13?true id:long access_hash:long participants_count:int title:flags.3?string stream_dc_id:flags.4?int record_start_date:flags.5?int schedule_date:flags.7?int unmuted_video_count:flags.10?int unmuted_video_limit:int version:int = GroupCall;\ninputGroupCall#d8aa840f id:long access_hash:long = InputGroupCall;\ngroupCallParticipant#eba636fe flags:# muted:flags.0?true left:flags.1?true can_self_unmute:flags.2?true just_joined:flags.4?true versioned:flags.5?true min:flags.8?true muted_by_you:flags.9?true volume_by_admin:flags.10?true self:flags.12?true video_joined:flags.15?true peer:Peer date:int active_date:flags.3?int source:int volume:flags.7?int about:flags.11?string raise_hand_rating:flags.13?long video:flags.6?GroupCallParticipantVideo presentation:flags.14?GroupCallParticipantVideo = GroupCallParticipant;\nphone.groupCall#9e727aad call:GroupCall participants:Vector<GroupCallParticipant> participants_next_offset:string chats:Vector<Chat> users:Vector<User> = phone.GroupCall;\nphone.groupParticipants#f47751b6 count:int participants:Vector<GroupCallParticipant> next_offset:string chats:Vector<Chat> users:Vector<User> version:int = phone.GroupParticipants;\ninlineQueryPeerTypeSameBotPM#3081ed9d = InlineQueryPeerType;\ninlineQueryPeerTypePM#833c0fac = InlineQueryPeerType;\ninlineQueryPeerTypeChat#d766c50a = InlineQueryPeerType;\ninlineQueryPeerTypeMegagroup#5ec4be43 = InlineQueryPeerType;\ninlineQueryPeerTypeBroadcast#6334ee9a = InlineQueryPeerType;\ninlineQueryPeerTypeBotPM#e3b2d0c = InlineQueryPeerType;\nmessages.historyImport#1662af0b id:long = messages.HistoryImport;\nmessages.historyImportParsed#5e0fb7b9 flags:# pm:flags.0?true group:flags.1?true title:flags.2?string = messages.HistoryImportParsed;\nmessages.affectedFoundMessages#ef8d3e6c pts:int pts_count:int offset:int messages:Vector<int> = messages.AffectedFoundMessages;\nchatInviteImporter#8c5adfd9 flags:# requested:flags.0?true via_chatlist:flags.3?true user_id:long date:int about:flags.2?string approved_by:flags.1?long = ChatInviteImporter;\nmessages.exportedChatInvites#bdc62dcc count:int invites:Vector<ExportedChatInvite> users:Vector<User> = messages.ExportedChatInvites;\nmessages.exportedChatInvite#1871be50 invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.exportedChatInviteReplaced#222600ef invite:ExportedChatInvite new_invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.chatInviteImporters#81b6b00a count:int importers:Vector<ChatInviteImporter> users:Vector<User> = messages.ChatInviteImporters;\nchatAdminWithInvites#f2ecef23 admin_id:long invites_count:int revoked_invites_count:int = ChatAdminWithInvites;\nmessages.chatAdminsWithInvites#b69b72d7 admins:Vector<ChatAdminWithInvites> users:Vector<User> = messages.ChatAdminsWithInvites;\nmessages.checkedHistoryImportPeer#a24de717 confirm_text:string = messages.CheckedHistoryImportPeer;\nphone.joinAsPeers#afe5623f peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = phone.JoinAsPeers;\nphone.exportedGroupCallInvite#204bd158 link:string = phone.ExportedGroupCallInvite;\ngroupCallParticipantVideoSourceGroup#dcb118b7 semantics:string sources:Vector<int> = GroupCallParticipantVideoSourceGroup;\ngroupCallParticipantVideo#67753ac8 flags:# paused:flags.0?true endpoint:string source_groups:Vector<GroupCallParticipantVideoSourceGroup> audio_source:flags.1?int = GroupCallParticipantVideo;\nstickers.suggestedShortName#85fea03f short_name:string = stickers.SuggestedShortName;\nbotCommandScopeDefault#2f6cb2ab = BotCommandScope;\nbotCommandScopeUsers#3c4f04d8 = BotCommandScope;\nbotCommandScopeChats#6fe1a881 = BotCommandScope;\nbotCommandScopeChatAdmins#b9aa606a = BotCommandScope;\nbotCommandScopePeer#db9d897d peer:InputPeer = BotCommandScope;\nbotCommandScopePeerAdmins#3fd863d1 peer:InputPeer = BotCommandScope;\nbotCommandScopePeerUser#a1321f3 peer:InputPeer user_id:InputUser = BotCommandScope;\naccount.resetPasswordFailedWait#e3779861 retry_date:int = account.ResetPasswordResult;\naccount.resetPasswordRequestedWait#e9effc7d until_date:int = account.ResetPasswordResult;\naccount.resetPasswordOk#e926d63e = account.ResetPasswordResult;\nsponsoredMessage#fc25b828 flags:# recommended:flags.5?true show_peer_photo:flags.6?true random_id:bytes from_id:flags.3?Peer chat_invite:flags.4?ChatInvite chat_invite_hash:flags.4?string channel_post:flags.2?int start_param:flags.0?string message:string entities:flags.1?Vector<MessageEntity> sponsor_info:flags.7?string additional_info:flags.8?string = SponsoredMessage;\nmessages.sponsoredMessages#c9ee1d87 flags:# posts_between:flags.0?int messages:Vector<SponsoredMessage> chats:Vector<Chat> users:Vector<User> = messages.SponsoredMessages;\nmessages.sponsoredMessagesEmpty#1839490f = messages.SponsoredMessages;\nsearchResultsCalendarPeriod#c9b0539f date:int min_msg_id:int max_msg_id:int count:int = SearchResultsCalendarPeriod;\nmessages.searchResultsCalendar#147ee23c flags:# inexact:flags.0?true count:int min_date:int min_msg_id:int offset_id_offset:flags.1?int periods:Vector<SearchResultsCalendarPeriod> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SearchResultsCalendar;\nsearchResultPosition#7f648b67 msg_id:int date:int offset:int = SearchResultsPosition;\nmessages.searchResultsPositions#53b22baf count:int positions:Vector<SearchResultsPosition> = messages.SearchResultsPositions;\nchannels.sendAsPeers#f496b0c6 peers:Vector<SendAsPeer> chats:Vector<Chat> users:Vector<User> = channels.SendAsPeers;\nusers.userFull#3b6d152e full_user:UserFull chats:Vector<Chat> users:Vector<User> = users.UserFull;\nmessages.peerSettings#6880b94d settings:PeerSettings chats:Vector<Chat> users:Vector<User> = messages.PeerSettings;\nauth.loggedOut#c3a2835f flags:# future_auth_token:flags.0?bytes = auth.LoggedOut;\nreactionCount#a3d1cb80 flags:# chosen_order:flags.0?int reaction:Reaction count:int = ReactionCount;\nmessageReactions#4f2b9479 flags:# min:flags.0?true can_see_list:flags.2?true results:Vector<ReactionCount> recent_reactions:flags.1?Vector<MessagePeerReaction> = MessageReactions;\nmessages.messageReactionsList#31bd492d flags:# count:int reactions:Vector<MessagePeerReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.MessageReactionsList;\navailableReaction#c077ec01 flags:# inactive:flags.0?true premium:flags.2?true reaction:string title:string static_icon:Document appear_animation:Document select_animation:Document activate_animation:Document effect_animation:Document around_animation:flags.1?Document center_icon:flags.1?Document = AvailableReaction;\nmessages.availableReactionsNotModified#9f071957 = messages.AvailableReactions;\nmessages.availableReactions#768e3aad hash:int reactions:Vector<AvailableReaction> = messages.AvailableReactions;\nmessagePeerReaction#8c79b63c flags:# big:flags.0?true unread:flags.1?true peer_id:Peer date:int reaction:Reaction = MessagePeerReaction;\ngroupCallStreamChannel#80eb48af channel:int scale:int last_timestamp_ms:long = GroupCallStreamChannel;\nphone.groupCallStreamChannels#d0e482b2 channels:Vector<GroupCallStreamChannel> = phone.GroupCallStreamChannels;\nphone.groupCallStreamRtmpUrl#2dbf3432 url:string key:string = phone.GroupCallStreamRtmpUrl;\nattachMenuBotIconColor#4576f3f0 name:string color:int = AttachMenuBotIconColor;\nattachMenuBotIcon#b2a7386b flags:# name:string icon:Document colors:flags.0?Vector<AttachMenuBotIconColor> = AttachMenuBotIcon;\nattachMenuBot#c8aa2cd2 flags:# inactive:flags.0?true has_settings:flags.1?true request_write_access:flags.2?true bot_id:long short_name:string peer_types:Vector<AttachMenuPeerType> icons:Vector<AttachMenuBotIcon> = AttachMenuBot;\nattachMenuBotsNotModified#f1d88a5c = AttachMenuBots;\nattachMenuBots#3c4301c0 hash:long bots:Vector<AttachMenuBot> users:Vector<User> = AttachMenuBots;\nattachMenuBotsBot#93bf667f bot:AttachMenuBot users:Vector<User> = AttachMenuBotsBot;\nwebViewResultUrl#c14557c query_id:long url:string = WebViewResult;\nsimpleWebViewResultUrl#882f76bb url:string = SimpleWebViewResult;\nwebViewMessageSent#c94511c flags:# msg_id:flags.0?InputBotInlineMessageID = WebViewMessageSent;\nbotMenuButtonDefault#7533a588 = BotMenuButton;\nbotMenuButtonCommands#4258c205 = BotMenuButton;\nbotMenuButton#c7b57ce6 text:string url:string = BotMenuButton;\naccount.savedRingtonesNotModified#fbf6e8b1 = account.SavedRingtones;\naccount.savedRingtones#c1e92cc5 hash:long ringtones:Vector<Document> = account.SavedRingtones;\nnotificationSoundDefault#97e8bebe = NotificationSound;\nnotificationSoundNone#6f0c34df = NotificationSound;\nnotificationSoundLocal#830b9ae4 title:string data:string = NotificationSound;\nnotificationSoundRingtone#ff6c8049 id:long = NotificationSound;\naccount.savedRingtone#b7263f6d = account.SavedRingtone;\naccount.savedRingtoneConverted#1f307eb7 document:Document = account.SavedRingtone;\nattachMenuPeerTypeSameBotPM#7d6be90e = AttachMenuPeerType;\nattachMenuPeerTypeBotPM#c32bfa1a = AttachMenuPeerType;\nattachMenuPeerTypePM#f146d31f = AttachMenuPeerType;\nattachMenuPeerTypeChat#509113f = AttachMenuPeerType;\nattachMenuPeerTypeBroadcast#7bfbdefc = AttachMenuPeerType;\ninputInvoiceMessage#c5b56859 peer:InputPeer msg_id:int = InputInvoice;\ninputInvoiceSlug#c326caef slug:string = InputInvoice;\npayments.exportedInvoice#aed0cbd9 url:string = payments.ExportedInvoice;\nmessages.transcribedAudio#93752c52 flags:# pending:flags.0?true transcription_id:long text:string = messages.TranscribedAudio;\nhelp.premiumPromo#5334759c status_text:string status_entities:Vector<MessageEntity> video_sections:Vector<string> videos:Vector<Document> period_options:Vector<PremiumSubscriptionOption> users:Vector<User> = help.PremiumPromo;\ninputStorePaymentPremiumSubscription#a6751e66 flags:# restore:flags.0?true upgrade:flags.1?true = InputStorePaymentPurpose;\ninputStorePaymentGiftPremium#616f7fe8 user_id:InputUser currency:string amount:long = InputStorePaymentPurpose;\npremiumGiftOption#74c34319 flags:# months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumGiftOption;\npaymentFormMethod#88f8f21b url:string title:string = PaymentFormMethod;\nemojiStatusEmpty#2de11aae = EmojiStatus;\nemojiStatus#929b619d document_id:long = EmojiStatus;\nemojiStatusUntil#fa30a8c7 document_id:long until:int = EmojiStatus;\naccount.emojiStatusesNotModified#d08ce645 = account.EmojiStatuses;\naccount.emojiStatuses#90c467d1 hash:long statuses:Vector<EmojiStatus> = account.EmojiStatuses;\nreactionEmpty#79f5d419 = Reaction;\nreactionEmoji#1b2286b8 emoticon:string = Reaction;\nreactionCustomEmoji#8935fc73 document_id:long = Reaction;\nchatReactionsNone#eafc32bc = ChatReactions;\nchatReactionsAll#52928bca flags:# allow_custom:flags.0?true = ChatReactions;\nchatReactionsSome#661d4037 reactions:Vector<Reaction> = ChatReactions;\nmessages.reactionsNotModified#b06fdbdf = messages.Reactions;\nmessages.reactions#eafdf716 hash:long reactions:Vector<Reaction> = messages.Reactions;\nemailVerifyPurposeLoginSetup#4345be73 phone_number:string phone_code_hash:string = EmailVerifyPurpose;\nemailVerifyPurposeLoginChange#527d22eb = EmailVerifyPurpose;\nemailVerifyPurposePassport#bbf51685 = EmailVerifyPurpose;\nemailVerificationCode#922e55a9 code:string = EmailVerification;\nemailVerificationGoogle#db909ec2 token:string = EmailVerification;\nemailVerificationApple#96d074fd token:string = EmailVerification;\naccount.emailVerified#2b96cd1b email:string = account.EmailVerified;\naccount.emailVerifiedLogin#e1bb0d61 email:string sent_code:auth.SentCode = account.EmailVerified;\npremiumSubscriptionOption#5f2d1df2 flags:# current:flags.1?true can_purchase_upgrade:flags.2?true transaction:flags.3?string months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumSubscriptionOption;\nsendAsPeer#b81c7034 flags:# premium_required:flags.0?true peer:Peer = SendAsPeer;\nmessageExtendedMediaPreview#ad628cc8 flags:# w:flags.0?int h:flags.0?int thumb:flags.1?PhotoSize video_duration:flags.2?int = MessageExtendedMedia;\nmessageExtendedMedia#ee479c64 media:MessageMedia = MessageExtendedMedia;\nstickerKeyword#fcfeb29c document_id:long keyword:Vector<string> = StickerKeyword;\nusername#b4073647 flags:# editable:flags.0?true active:flags.1?true username:string = Username;\nforumTopicDeleted#23f109b id:int = ForumTopic;\nforumTopic#71701da9 flags:# my:flags.1?true closed:flags.2?true pinned:flags.3?true short:flags.5?true hidden:flags.6?true id:int date:int title:string icon_color:int icon_emoji_id:flags.0?long top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int from_id:Peer notify_settings:PeerNotifySettings draft:flags.4?DraftMessage = ForumTopic;\nmessages.forumTopics#367617d3 flags:# order_by_create_date:flags.0?true count:int topics:Vector<ForumTopic> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> pts:int = messages.ForumTopics;\ndefaultHistoryTTL#43b46b20 period:int = DefaultHistoryTTL;\nexportedContactToken#41bf109b url:string expires:int = ExportedContactToken;\nrequestPeerTypeUser#5f3b8a00 flags:# bot:flags.0?Bool premium:flags.1?Bool = RequestPeerType;\nrequestPeerTypeChat#c9f06e1b flags:# creator:flags.0?true bot_participant:flags.5?true has_username:flags.3?Bool forum:flags.4?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nrequestPeerTypeBroadcast#339bef6c flags:# creator:flags.0?true has_username:flags.3?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nemojiListNotModified#481eadfa = EmojiList;\nemojiList#7a1e11d1 hash:long document_id:Vector<long> = EmojiList;\nemojiGroup#7a9abda9 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;\nmessages.emojiGroupsNotModified#6fb4ad87 = messages.EmojiGroups;\nmessages.emojiGroups#881fb94b hash:int groups:Vector<EmojiGroup> = messages.EmojiGroups;\ntextWithEntities#751f3146 text:string entities:Vector<MessageEntity> = TextWithEntities;\nmessages.translateResult#33db32f8 result:Vector<TextWithEntities> = messages.TranslatedText;\nautoSaveSettings#c84834ce flags:# photos:flags.0?true videos:flags.1?true video_max_size:flags.2?long = AutoSaveSettings;\nautoSaveException#81602d47 peer:Peer settings:AutoSaveSettings = AutoSaveException;\naccount.autoSaveSettings#4c3e069d users_settings:AutoSaveSettings chats_settings:AutoSaveSettings broadcasts_settings:AutoSaveSettings exceptions:Vector<AutoSaveException> chats:Vector<Chat> users:Vector<User> = account.AutoSaveSettings;\nhelp.appConfigNotModified#7cde641d = help.AppConfig;\nhelp.appConfig#dd18782e hash:int config:JSONValue = help.AppConfig;\ninputBotAppID#a920bd7a id:long access_hash:long = InputBotApp;\ninputBotAppShortName#908c0407 bot_id:InputUser short_name:string = InputBotApp;\nbotAppNotModified#5da674b7 = BotApp;\nbotApp#95fcd1d6 flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document hash:long = BotApp;\nmessages.botApp#eb50adf5 flags:# inactive:flags.0?true request_write_access:flags.1?true app:BotApp = messages.BotApp;\nappWebViewResultUrl#3c1b4f0d url:string = AppWebViewResult;\ninlineBotWebView#b57295d5 text:string url:string = InlineBotWebView;\nreadParticipantDate#4a4ff172 user_id:long date:int = ReadParticipantDate;\ninputChatlistDialogFilter#f3e0da33 filter_id:int = InputChatlist;\nexportedChatlistInvite#c5181ac flags:# title:string url:string peers:Vector<Peer> = ExportedChatlistInvite;\nchatlists.exportedChatlistInvite#10e6e3a6 filter:DialogFilter invite:ExportedChatlistInvite = chatlists.ExportedChatlistInvite;\nchatlists.exportedInvites#10ab6dc7 invites:Vector<ExportedChatlistInvite> chats:Vector<Chat> users:Vector<User> = chatlists.ExportedInvites;\nchatlists.chatlistInviteAlready#fa87f659 filter_id:int missing_peers:Vector<Peer> already_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistInvite#1dcd839d flags:# title:string emoticon:flags.0?string peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistUpdates#93bd878d missing_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistUpdates;\nbots.botInfo#e8a775b0 name:string about:string description:string = bots.BotInfo;\n---functions---\ninvokeAfterMsg#cb9f372d {X:Type} msg_id:long query:!X = X;\ninitConnection#c1cd5ea9 {X:Type} flags:# api_id:int device_model:string system_version:string app_version:string system_lang_code:string lang_pack:string lang_code:string proxy:flags.0?InputClientProxy params:flags.1?JSONValue query:!X = X;\ninvokeWithLayer#da9b0d0d {X:Type} layer:int query:!X = X;\nauth.sendCode#a677244f phone_number:string api_id:int api_hash:string settings:CodeSettings = auth.SentCode;\nauth.signUp#80eee427 phone_number:string phone_code_hash:string first_name:string last_name:string = auth.Authorization;\nauth.signIn#8d52a951 flags:# phone_number:string phone_code_hash:string phone_code:flags.0?string email_verification:flags.1?EmailVerification = auth.Authorization;\nauth.logOut#3e72ba19 = auth.LoggedOut;\nauth.resetAuthorizations#9fab0d1a = Bool;\nauth.exportAuthorization#e5bfffcd dc_id:int = auth.ExportedAuthorization;\nauth.importAuthorization#a57a7dad id:long bytes:bytes = auth.Authorization;\nauth.bindTempAuthKey#cdd42a05 perm_auth_key_id:long nonce:long expires_at:int encrypted_message:bytes = Bool;\nauth.checkPassword#d18b4d16 password:InputCheckPasswordSRP = auth.Authorization;\nauth.requestPasswordRecovery#d897bc66 = auth.PasswordRecovery;\nauth.resendCode#3ef1a9bf phone_number:string phone_code_hash:string = auth.SentCode;\nauth.cancelCode#1f040578 phone_number:string phone_code_hash:string = Bool;\nauth.dropTempAuthKeys#8e48a188 except_auth_keys:Vector<long> = Bool;\nauth.exportLoginToken#b7e085fe api_id:int api_hash:string except_ids:Vector<long> = auth.LoginToken;\nauth.importLoginToken#95ac5ce4 token:bytes = auth.LoginToken;\nauth.importWebTokenAuthorization#2db873a9 api_id:int api_hash:string web_auth_token:string = auth.Authorization;\naccount.registerDevice#ec86017a flags:# no_muted:flags.0?true token_type:int token:string app_sandbox:Bool secret:bytes other_uids:Vector<long> = Bool;\naccount.unregisterDevice#6a0d3206 token_type:int token:string other_uids:Vector<long> = Bool;\naccount.updateNotifySettings#84be5b93 peer:InputNotifyPeer settings:InputPeerNotifySettings = Bool;\naccount.getNotifySettings#12b3ad31 peer:InputNotifyPeer = PeerNotifySettings;\naccount.updateProfile#78515775 flags:# first_name:flags.0?string last_name:flags.1?string about:flags.2?string = User;\naccount.updateStatus#6628562c offline:Bool = Bool;\naccount.getWallPapers#7967d36 hash:long = account.WallPapers;\naccount.reportPeer#c5ba3d86 peer:InputPeer reason:ReportReason message:string = Bool;\naccount.checkUsername#2714d86c username:string = Bool;\naccount.updateUsername#3e0bdd7c username:string = User;\naccount.getPrivacy#dadbc950 key:InputPrivacyKey = account.PrivacyRules;\naccount.setPrivacy#c9f81ce8 key:InputPrivacyKey rules:Vector<InputPrivacyRule> = account.PrivacyRules;\naccount.getAuthorizations#e320c158 = account.Authorizations;\naccount.resetAuthorization#df77f3bc hash:long = Bool;\naccount.getPassword#548a30f5 = account.Password;\naccount.getPasswordSettings#9cd4eaf9 password:InputCheckPasswordSRP = account.PasswordSettings;\naccount.updatePasswordSettings#a59b102f password:InputCheckPasswordSRP new_settings:account.PasswordInputSettings = Bool;\naccount.sendConfirmPhoneCode#1b3faa88 hash:string settings:CodeSettings = auth.SentCode;\naccount.confirmPhone#5f2178c3 phone_code_hash:string phone_code:string = Bool;\naccount.getTmpPassword#449e0b51 password:InputCheckPasswordSRP period:int = account.TmpPassword;\naccount.getWebAuthorizations#182e6d6f = account.WebAuthorizations;\naccount.resetWebAuthorization#2d01b9ef hash:long = Bool;\naccount.resetWebAuthorizations#682d2594 = Bool;\naccount.sendVerifyPhoneCode#a5a356f9 phone_number:string settings:CodeSettings = auth.SentCode;\naccount.confirmPasswordEmail#8fdf1920 code:string = Bool;\naccount.getContactSignUpNotification#9f07c728 = Bool;\naccount.setContactSignUpNotification#cff43f61 silent:Bool = Bool;\naccount.getNotifyExceptions#53577479 flags:# compare_sound:flags.1?true peer:flags.0?InputNotifyPeer = Updates;\naccount.uploadWallPaper#e39a8f03 flags:# for_chat:flags.0?true file:InputFile mime_type:string settings:WallPaperSettings = WallPaper;\naccount.setContentSettings#b574b16b flags:# sensitive_enabled:flags.0?true = Bool;\naccount.getContentSettings#8b9b4dae = account.ContentSettings;\naccount.getGlobalPrivacySettings#eb2b4cf6 = GlobalPrivacySettings;\naccount.setGlobalPrivacySettings#1edaaac2 settings:GlobalPrivacySettings = GlobalPrivacySettings;\naccount.reportProfilePhoto#fa8cc6f5 peer:InputPeer photo_id:InputPhoto reason:ReportReason message:string = Bool;\naccount.setAuthorizationTTL#bf899aa0 authorization_ttl_days:int = Bool;\naccount.changeAuthorizationSettings#40f48462 flags:# hash:long encrypted_requests_disabled:flags.0?Bool call_requests_disabled:flags.1?Bool = Bool;\naccount.updateEmojiStatus#fbd3de6b emoji_status:EmojiStatus = Bool;\naccount.getRecentEmojiStatuses#f578105 hash:long = account.EmojiStatuses;\naccount.reorderUsernames#ef500eab order:Vector<string> = Bool;\naccount.toggleUsername#58d6b376 username:string active:Bool = Bool;\nusers.getUsers#d91a548 id:Vector<InputUser> = Vector<User>;\nusers.getFullUser#b60f5918 id:InputUser = users.UserFull;\ncontacts.getContacts#5dd69e12 hash:long = contacts.Contacts;\ncontacts.importContacts#2c800be5 contacts:Vector<InputContact> = contacts.ImportedContacts;\ncontacts.deleteContacts#96a0e00 id:Vector<InputUser> = Updates;\ncontacts.block#68cc1411 id:InputPeer = Bool;\ncontacts.unblock#bea65d50 id:InputPeer = Bool;\ncontacts.getBlocked#f57c350f offset:int limit:int = contacts.Blocked;\ncontacts.search#11f812d8 q:string limit:int = contacts.Found;\ncontacts.resolveUsername#f93ccba3 username:string = contacts.ResolvedPeer;\ncontacts.getTopPeers#973478b6 flags:# correspondents:flags.0?true bots_pm:flags.1?true bots_inline:flags.2?true phone_calls:flags.3?true forward_users:flags.4?true forward_chats:flags.5?true groups:flags.10?true channels:flags.15?true offset:int limit:int hash:long = contacts.TopPeers;\ncontacts.addContact#e8f463d0 flags:# add_phone_privacy_exception:flags.0?true id:InputUser first_name:string last_name:string phone:string = Updates;\ncontacts.resolvePhone#8af94344 phone:string = contacts.ResolvedPeer;\nmessages.getMessages#63c66506 id:Vector<InputMessage> = messages.Messages;\nmessages.getDialogs#a0f4cb4f flags:# exclude_pinned:flags.0?true folder_id:flags.1?int offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.Dialogs;\nmessages.getHistory#4423e6c5 peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.search#a0fda762 flags:# peer:InputPeer q:string from_id:flags.0?InputPeer top_msg_id:flags.1?int filter:MessagesFilter min_date:int max_date:int offset_id:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.readHistory#e306d3a peer:InputPeer max_id:int = messages.AffectedMessages;\nmessages.deleteHistory#b08f922a flags:# just_clear:flags.0?true revoke:flags.1?true peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;\nmessages.deleteMessages#e58e95d2 flags:# revoke:flags.0?true id:Vector<int> = messages.AffectedMessages;\nmessages.receivedMessages#5a954c0 max_id:int = Vector<ReceivedNotifyMessage>;\nmessages.setTyping#58943ee2 flags:# peer:InputPeer top_msg_id:flags.0?int action:SendMessageAction = Bool;\nmessages.sendMessage#1cc20387 flags:# no_webpage:flags.1?true silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true peer:InputPeer reply_to_msg_id:flags.0?int top_msg_id:flags.9?int message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;\nmessages.sendMedia#7547c966 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true peer:InputPeer reply_to_msg_id:flags.0?int top_msg_id:flags.9?int media:InputMedia message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;\nmessages.forwardMessages#c661bbc4 flags:# silent:flags.5?true background:flags.6?true with_my_score:flags.8?true drop_author:flags.11?true drop_media_captions:flags.12?true noforwards:flags.14?true from_peer:InputPeer id:Vector<int> random_id:Vector<long> to_peer:InputPeer top_msg_id:flags.9?int schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;\nmessages.reportSpam#cf1592db peer:InputPeer = Bool;\nmessages.getPeerSettings#efd9a6a2 peer:InputPeer = messages.PeerSettings;\nmessages.report#8953ab4e peer:InputPeer id:Vector<int> reason:ReportReason message:string = Bool;\nmessages.getChats#49e9528f id:Vector<long> = messages.Chats;\nmessages.getFullChat#aeb00b34 chat_id:long = messages.ChatFull;\nmessages.editChatTitle#73783ffd chat_id:long title:string = Updates;\nmessages.editChatPhoto#35ddd674 chat_id:long photo:InputChatPhoto = Updates;\nmessages.addChatUser#f24753e3 chat_id:long user_id:InputUser fwd_limit:int = Updates;\nmessages.deleteChatUser#a2185cab flags:# revoke_history:flags.0?true chat_id:long user_id:InputUser = Updates;\nmessages.createChat#34a818 flags:# users:Vector<InputUser> title:string ttl_period:flags.0?int = Updates;\nmessages.getDhConfig#26cf8950 version:int random_length:int = messages.DhConfig;\nmessages.readMessageContents#36a73f77 id:Vector<int> = messages.AffectedMessages;\nmessages.getStickers#d5a5d3a1 emoticon:string hash:long = messages.Stickers;\nmessages.getAllStickers#b8a0a1a8 hash:long = messages.AllStickers;\nmessages.getWebPagePreview#8b68b0cc flags:# message:string entities:flags.3?Vector<MessageEntity> = MessageMedia;\nmessages.exportChatInvite#a02ce5d5 flags:# legacy_revoke_permanent:flags.2?true request_needed:flags.3?true peer:InputPeer expire_date:flags.0?int usage_limit:flags.1?int title:flags.4?string = ExportedChatInvite;\nmessages.checkChatInvite#3eadb1bb hash:string = ChatInvite;\nmessages.importChatInvite#6c50051c hash:string = Updates;\nmessages.getStickerSet#c8a0ec74 stickerset:InputStickerSet hash:int = messages.StickerSet;\nmessages.installStickerSet#c78fe460 stickerset:InputStickerSet archived:Bool = messages.StickerSetInstallResult;\nmessages.uninstallStickerSet#f96e55de stickerset:InputStickerSet = Bool;\nmessages.startBot#e6df7378 bot:InputUser peer:InputPeer random_id:long start_param:string = Updates;\nmessages.getMessagesViews#5784d3e1 peer:InputPeer id:Vector<int> increment:Bool = messages.MessageViews;\nmessages.migrateChat#a2875319 chat_id:long = Updates;\nmessages.searchGlobal#4bc6589a flags:# folder_id:flags.0?int q:string filter:MessagesFilter min_date:int max_date:int offset_rate:int offset_peer:InputPeer offset_id:int limit:int = messages.Messages;\nmessages.getDocumentByHash#b1f2061f sha256:bytes size:long mime_type:string = Document;\nmessages.getSavedGifs#5cf09635 hash:long = messages.SavedGifs;\nmessages.saveGif#327a30cb id:InputDocument unsave:Bool = Bool;\nmessages.getInlineBotResults#514e999d flags:# bot:InputUser peer:InputPeer geo_point:flags.0?InputGeoPoint query:string offset:string = messages.BotResults;\nmessages.sendInlineBotResult#d3fbdccb flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true hide_via:flags.11?true peer:InputPeer reply_to_msg_id:flags.0?int top_msg_id:flags.9?int random_id:long query_id:long id:string schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;\nmessages.editMessage#48f71778 flags:# no_webpage:flags.1?true peer:InputPeer id:int message:flags.11?string media:flags.14?InputMedia reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.15?int = Updates;\nmessages.getBotCallbackAnswer#9342ca07 flags:# game:flags.1?true peer:InputPeer msg_id:int data:flags.0?bytes password:flags.2?InputCheckPasswordSRP = messages.BotCallbackAnswer;\nmessages.getPeerDialogs#e470bcfd peers:Vector<InputDialogPeer> = messages.PeerDialogs;\nmessages.saveDraft#b4331e3f flags:# no_webpage:flags.1?true reply_to_msg_id:flags.0?int top_msg_id:flags.2?int peer:InputPeer message:string entities:flags.3?Vector<MessageEntity> = Bool;\nmessages.getFeaturedStickers#64780b14 hash:long = messages.FeaturedStickers;\nmessages.readFeaturedStickers#5b118126 id:Vector<long> = Bool;\nmessages.getRecentStickers#9da9403b flags:# attached:flags.0?true hash:long = messages.RecentStickers;\nmessages.saveRecentSticker#392718f8 flags:# attached:flags.0?true id:InputDocument unsave:Bool = Bool;\nmessages.clearRecentStickers#8999602d flags:# attached:flags.0?true = Bool;\nmessages.getCommonChats#e40ca104 user_id:InputUser max_id:long limit:int = messages.Chats;\nmessages.getWebPage#32ca8f91 url:string hash:int = WebPage;\nmessages.toggleDialogPin#a731e257 flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;\nmessages.getPinnedDialogs#d6b94df2 folder_id:int = messages.PeerDialogs;\nmessages.uploadMedia#519bc2b1 peer:InputPeer media:InputMedia = MessageMedia;\nmessages.getFavedStickers#4f1aaa9 hash:long = messages.FavedStickers;\nmessages.faveSticker#b9ffc55b id:InputDocument unfave:Bool = Bool;\nmessages.getUnreadMentions#f107e790 flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readMentions#36e5bf4d flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;\nmessages.sendMultiMedia#b6f11a1c flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true peer:InputPeer reply_to_msg_id:flags.0?int top_msg_id:flags.9?int multi_media:Vector<InputSingleMedia> schedule_date:flags.10?int send_as:flags.13?InputPeer = Updates;\nmessages.searchStickerSets#35705b8a flags:# exclude_featured:flags.0?true q:string hash:long = messages.FoundStickerSets;\nmessages.markDialogUnread#c286d98f flags:# unread:flags.0?true peer:InputDialogPeer = Bool;\nmessages.updatePinnedMessage#d2aaf7ec flags:# silent:flags.0?true unpin:flags.1?true pm_oneside:flags.2?true peer:InputPeer id:int = Updates;\nmessages.sendVote#10ea6184 peer:InputPeer msg_id:int options:Vector<bytes> = Updates;\nmessages.getOnlines#6e2be050 peer:InputPeer = ChatOnlines;\nmessages.editChatAbout#def60797 peer:InputPeer about:string = Bool;\nmessages.editChatDefaultBannedRights#a5866b41 peer:InputPeer banned_rights:ChatBannedRights = Updates;\nmessages.getEmojiKeywordsDifference#1508b6af lang_code:string from_version:int = EmojiKeywordsDifference;\nmessages.requestUrlAuth#198fb446 flags:# peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.acceptUrlAuth#b12c7125 flags:# write_allowed:flags.0?true peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.hidePeerSettingsBar#4facb138 peer:InputPeer = Bool;\nmessages.getScheduledHistory#f516760b peer:InputPeer hash:long = messages.Messages;\nmessages.sendScheduledMessages#bd38850a peer:InputPeer id:Vector<int> = Updates;\nmessages.deleteScheduledMessages#59ae2b16 peer:InputPeer id:Vector<int> = Updates;\nmessages.getPollVotes#b86e380e flags:# peer:InputPeer id:int option:flags.0?bytes offset:flags.1?string limit:int = messages.VotesList;\nmessages.getDialogFilters#f19ed96d = Vector<DialogFilter>;\nmessages.getSuggestedDialogFilters#a29cd42c = Vector<DialogFilterSuggested>;\nmessages.updateDialogFilter#1ad4a04a flags:# id:int filter:flags.0?DialogFilter = Bool;\nmessages.updateDialogFiltersOrder#c563c1e4 order:Vector<int> = Bool;\nmessages.getReplies#22ddd30c peer:InputPeer msg_id:int offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.getDiscussionMessage#446972fd peer:InputPeer msg_id:int = messages.DiscussionMessage;\nmessages.readDiscussion#f731a9f4 peer:InputPeer msg_id:int read_max_id:int = Bool;\nmessages.unpinAllMessages#ee22b9a8 flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;\nmessages.deleteChat#5bd0ee50 chat_id:long = Bool;\nmessages.getExportedChatInvites#a2b5a3f6 flags:# revoked:flags.3?true peer:InputPeer admin_id:InputUser offset_date:flags.2?int offset_link:flags.2?string limit:int = messages.ExportedChatInvites;\nmessages.editExportedChatInvite#bdca2f75 flags:# revoked:flags.2?true peer:InputPeer link:string expire_date:flags.0?int usage_limit:flags.1?int request_needed:flags.3?Bool title:flags.4?string = messages.ExportedChatInvite;\nmessages.deleteRevokedExportedChatInvites#56987bd5 peer:InputPeer admin_id:InputUser = Bool;\nmessages.deleteExportedChatInvite#d464a42b peer:InputPeer link:string = Bool;\nmessages.getChatInviteImporters#df04dd4e flags:# requested:flags.0?true peer:InputPeer link:flags.1?string q:flags.2?string offset_date:int offset_user:InputUser limit:int = messages.ChatInviteImporters;\nmessages.getMessageReadParticipants#31c1c44f peer:InputPeer msg_id:int = Vector<ReadParticipantDate>;\nmessages.hideChatJoinRequest#7fe7e815 flags:# approved:flags.0?true peer:InputPeer user_id:InputUser = Updates;\nmessages.hideAllChatJoinRequests#e085f4ea flags:# approved:flags.0?true peer:InputPeer link:flags.1?string = Updates;\nmessages.toggleNoForwards#b11eafa2 peer:InputPeer enabled:Bool = Updates;\nmessages.saveDefaultSendAs#ccfddf96 peer:InputPeer send_as:InputPeer = Bool;\nmessages.sendReaction#d30d78d4 flags:# big:flags.1?true add_to_recent:flags.2?true peer:InputPeer msg_id:int reaction:flags.0?Vector<Reaction> = Updates;\nmessages.getMessagesReactions#8bba90e6 peer:InputPeer id:Vector<int> = Updates;\nmessages.getMessageReactionsList#461b3f48 flags:# peer:InputPeer id:int reaction:flags.0?Reaction offset:flags.1?string limit:int = messages.MessageReactionsList;\nmessages.setChatAvailableReactions#feb16771 peer:InputPeer available_reactions:ChatReactions = Updates;\nmessages.getAvailableReactions#18dea0ac hash:int = messages.AvailableReactions;\nmessages.setDefaultReaction#4f47a016 reaction:Reaction = Bool;\nmessages.translateText#63183030 flags:# peer:flags.0?InputPeer id:flags.0?Vector<int> text:flags.1?Vector<TextWithEntities> to_lang:string = messages.TranslatedText;\nmessages.getUnreadReactions#3223495b flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readReactions#54aa7f8e flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;\nmessages.getAttachMenuBots#16fcc2cb hash:long = AttachMenuBots;\nmessages.getAttachMenuBot#77216192 bot:InputUser = AttachMenuBotsBot;\nmessages.toggleBotInAttachMenu#69f59d69 flags:# write_allowed:flags.0?true bot:InputUser enabled:Bool = Bool;\nmessages.requestWebView#178b480b flags:# from_bot_menu:flags.4?true silent:flags.5?true peer:InputPeer bot:InputUser url:flags.1?string start_param:flags.3?string theme_params:flags.2?DataJSON platform:string reply_to_msg_id:flags.0?int top_msg_id:flags.9?int send_as:flags.13?InputPeer = WebViewResult;\nmessages.prolongWebView#7ff34309 flags:# silent:flags.5?true peer:InputPeer bot:InputUser query_id:long reply_to_msg_id:flags.0?int top_msg_id:flags.9?int send_as:flags.13?InputPeer = Bool;\nmessages.requestSimpleWebView#299bec8e flags:# from_switch_webview:flags.1?true bot:InputUser url:string theme_params:flags.0?DataJSON platform:string = SimpleWebViewResult;\nmessages.sendWebViewResultMessage#a4314f5 bot_query_id:string result:InputBotInlineResult = WebViewMessageSent;\nmessages.sendWebViewData#dc0242c8 bot:InputUser random_id:long button_text:string data:string = Updates;\nmessages.transcribeAudio#269e9a49 peer:InputPeer msg_id:int = messages.TranscribedAudio;\nmessages.getCustomEmojiDocuments#d9ab0f54 document_id:Vector<long> = Vector<Document>;\nmessages.getEmojiStickers#fbfca18f hash:long = messages.AllStickers;\nmessages.getFeaturedEmojiStickers#ecf6736 hash:long = messages.FeaturedStickers;\nmessages.getTopReactions#bb8125ba limit:int hash:long = messages.Reactions;\nmessages.getRecentReactions#39461db2 limit:int hash:long = messages.Reactions;\nmessages.clearRecentReactions#9dfeefb4 = Bool;\nmessages.getExtendedMedia#84f80814 peer:InputPeer id:Vector<int> = Updates;\nmessages.getBotApp#34fdc5c3 app:InputBotApp hash:long = messages.BotApp;\nmessages.requestAppWebView#8c5a3b3c flags:# write_allowed:flags.0?true peer:InputPeer app:InputBotApp start_param:flags.1?string theme_params:flags.2?DataJSON platform:string = AppWebViewResult;\nupdates.getState#edd4882a = updates.State;\nupdates.getDifference#25939651 flags:# pts:int pts_total_limit:flags.0?int date:int qts:int = updates.Difference;\nupdates.getChannelDifference#3173d78 flags:# force:flags.0?true channel:InputChannel filter:ChannelMessagesFilter pts:int limit:int = updates.ChannelDifference;\nphotos.updateProfilePhoto#9e82039 flags:# fallback:flags.0?true bot:flags.1?InputUser id:InputPhoto = photos.Photo;\nphotos.uploadProfilePhoto#388a3b5 flags:# fallback:flags.3?true bot:flags.5?InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.4?VideoSize = photos.Photo;\nphotos.deletePhotos#87cf7f2f id:Vector<InputPhoto> = Vector<long>;\nphotos.getUserPhotos#91cd32a8 user_id:InputUser offset:int max_id:long limit:int = photos.Photos;\nphotos.uploadContactProfilePhoto#e14c4a71 flags:# suggest:flags.3?true save:flags.4?true user_id:InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.5?VideoSize = photos.Photo;\nupload.saveFilePart#b304a621 file_id:long file_part:int bytes:bytes = Bool;\nupload.getFile#be5335be flags:# precise:flags.0?true cdn_supported:flags.1?true location:InputFileLocation offset:long limit:int = upload.File;\nupload.saveBigFilePart#de7b673d file_id:long file_part:int file_total_parts:int bytes:bytes = Bool;\nupload.getWebFile#24e6818d location:InputWebFileLocation offset:int limit:int = upload.WebFile;\nhelp.getConfig#c4f9186b = Config;\nhelp.getNearestDc#1fb33026 = NearestDc;\nhelp.getSupport#9cdf08cd = help.Support;\nhelp.acceptTermsOfService#ee72f79a id:DataJSON = Bool;\nhelp.getAppConfig#61e3f854 hash:int = help.AppConfig;\nhelp.getCountriesList#735787a8 lang_code:string hash:int = help.CountriesList;\nhelp.getPremiumPromo#b81b93d4 = help.PremiumPromo;\nchannels.readHistory#cc104937 channel:InputChannel max_id:int = Bool;\nchannels.deleteMessages#84c1fd4e channel:InputChannel id:Vector<int> = messages.AffectedMessages;\nchannels.getMessages#ad8c9a23 channel:InputChannel id:Vector<InputMessage> = messages.Messages;\nchannels.getParticipants#77ced9d0 channel:InputChannel filter:ChannelParticipantsFilter offset:int limit:int hash:long = channels.ChannelParticipants;\nchannels.getParticipant#a0ab6cc6 channel:InputChannel participant:InputPeer = channels.ChannelParticipant;\nchannels.getChannels#a7f6bbb id:Vector<InputChannel> = messages.Chats;\nchannels.getFullChannel#8736a09 channel:InputChannel = messages.ChatFull;\nchannels.createChannel#91006707 flags:# broadcast:flags.0?true megagroup:flags.1?true for_import:flags.3?true forum:flags.5?true title:string about:string geo_point:flags.2?InputGeoPoint address:flags.2?string ttl_period:flags.4?int = Updates;\nchannels.editAdmin#d33c8902 channel:InputChannel user_id:InputUser admin_rights:ChatAdminRights rank:string = Updates;\nchannels.editTitle#566decd0 channel:InputChannel title:string = Updates;\nchannels.editPhoto#f12e57c9 channel:InputChannel photo:InputChatPhoto = Updates;\nchannels.checkUsername#10e6bd2c channel:InputChannel username:string = Bool;\nchannels.updateUsername#3514b3de channel:InputChannel username:string = Bool;\nchannels.joinChannel#24b524c5 channel:InputChannel = Updates;\nchannels.leaveChannel#f836aa95 channel:InputChannel = Updates;\nchannels.inviteToChannel#199f3a6c channel:InputChannel users:Vector<InputUser> = Updates;\nchannels.deleteChannel#c0111fe3 channel:InputChannel = Updates;\nchannels.toggleSignatures#1f69b606 channel:InputChannel enabled:Bool = Updates;\nchannels.editBanned#96e6cd81 channel:InputChannel participant:InputPeer banned_rights:ChatBannedRights = Updates;\nchannels.readMessageContents#eab5dc38 channel:InputChannel id:Vector<int> = Bool;\nchannels.togglePreHistoryHidden#eabbb94c channel:InputChannel enabled:Bool = Updates;\nchannels.getGroupsForDiscussion#f5dad378 = messages.Chats;\nchannels.setDiscussionGroup#40582bb2 broadcast:InputChannel group:InputChannel = Bool;\nchannels.viewSponsoredMessage#beaedb94 channel:InputChannel random_id:bytes = Bool;\nchannels.getSponsoredMessages#ec210fbf channel:InputChannel = messages.SponsoredMessages;\nchannels.getSendAs#dc770ee peer:InputPeer = channels.SendAsPeers;\nchannels.toggleJoinToSend#e4cb9580 channel:InputChannel enabled:Bool = Updates;\nchannels.toggleJoinRequest#4c2985b6 channel:InputChannel enabled:Bool = Updates;\nchannels.reorderUsernames#b45ced1d channel:InputChannel order:Vector<string> = Bool;\nchannels.toggleUsername#50f24105 channel:InputChannel username:string active:Bool = Bool;\nchannels.toggleForum#a4298b29 channel:InputChannel enabled:Bool = Updates;\nchannels.createForumTopic#f40c0224 flags:# channel:InputChannel title:string icon_color:flags.0?int icon_emoji_id:flags.3?long random_id:long send_as:flags.2?InputPeer = Updates;\nchannels.getForumTopics#de560d1 flags:# channel:InputChannel q:flags.0?string offset_date:int offset_id:int offset_topic:int limit:int = messages.ForumTopics;\nchannels.getForumTopicsByID#b0831eb9 channel:InputChannel topics:Vector<int> = messages.ForumTopics;\nchannels.editForumTopic#f4dfa185 flags:# channel:InputChannel topic_id:int title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = Updates;\nchannels.updatePinnedForumTopic#6c2d9026 channel:InputChannel topic_id:int pinned:Bool = Updates;\nchannels.deleteTopicHistory#34435f2d channel:InputChannel top_msg_id:int = messages.AffectedHistory;\nchannels.toggleParticipantsHidden#6a6e7854 channel:InputChannel enabled:Bool = Updates;\npayments.getPaymentForm#37148dbb flags:# invoice:InputInvoice theme_params:flags.0?DataJSON = payments.PaymentForm;\npayments.getPaymentReceipt#2478d1cc peer:InputPeer msg_id:int = payments.PaymentReceipt;\npayments.validateRequestedInfo#b6c8f12b flags:# save:flags.0?true invoice:InputInvoice info:PaymentRequestedInfo = payments.ValidatedRequestedInfo;\npayments.sendPaymentForm#2d03522f flags:# form_id:long invoice:InputInvoice requested_info_id:flags.0?string shipping_option_id:flags.1?string credentials:InputPaymentCredentials tip_amount:flags.2?long = payments.PaymentResult;\npayments.getSavedInfo#227d824b = payments.SavedInfo;\nphone.requestCall#42ff96ed flags:# video:flags.0?true user_id:InputUser random_id:int g_a_hash:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.acceptCall#3bd2b4a0 peer:InputPhoneCall g_b:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.confirmCall#2efe1722 peer:InputPhoneCall g_a:bytes key_fingerprint:long protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.receivedCall#17d54f61 peer:InputPhoneCall = Bool;\nphone.discardCall#b2cbc1c0 flags:# video:flags.0?true peer:InputPhoneCall duration:int reason:PhoneCallDiscardReason connection_id:long = Updates;\nphone.setCallRating#59ead627 flags:# user_initiative:flags.0?true peer:InputPhoneCall rating:int comment:string = Updates;\nphone.saveCallDebug#277add7e peer:InputPhoneCall debug:DataJSON = Bool;\nphone.sendSignalingData#ff7a9383 peer:InputPhoneCall data:bytes = Bool;\nphone.createGroupCall#48cdc6d8 flags:# rtmp_stream:flags.2?true peer:InputPeer random_id:int title:flags.0?string schedule_date:flags.1?int = Updates;\nphone.joinGroupCall#b132ff7b flags:# muted:flags.0?true video_stopped:flags.2?true call:InputGroupCall join_as:InputPeer invite_hash:flags.1?string params:DataJSON = Updates;\nphone.leaveGroupCall#500377f9 call:InputGroupCall source:int = Updates;\nphone.discardGroupCall#7a777135 call:InputGroupCall = Updates;\nphone.getGroupCall#41845db call:InputGroupCall limit:int = phone.GroupCall;\nphone.getGroupParticipants#c558d8ab call:InputGroupCall ids:Vector<InputPeer> sources:Vector<int> offset:string limit:int = phone.GroupParticipants;\nphone.editGroupCallParticipant#a5273abf flags:# call:InputGroupCall participant:InputPeer muted:flags.0?Bool volume:flags.1?int raise_hand:flags.2?Bool video_stopped:flags.3?Bool video_paused:flags.4?Bool presentation_paused:flags.5?Bool = Updates;\nphone.exportGroupCallInvite#e6aa647f flags:# can_self_unmute:flags.0?true call:InputGroupCall = phone.ExportedGroupCallInvite;\nphone.toggleGroupCallStartSubscription#219c34e6 call:InputGroupCall subscribed:Bool = Updates;\nphone.joinGroupCallPresentation#cbea6bc4 call:InputGroupCall params:DataJSON = Updates;\nphone.leaveGroupCallPresentation#1c50d144 call:InputGroupCall = Updates;\nlangpack.getLangPack#f2f2330a lang_pack:string lang_code:string = LangPackDifference;\nlangpack.getStrings#efea3803 lang_pack:string lang_code:string keys:Vector<string> = Vector<LangPackString>;\nlangpack.getLanguages#42c6978f lang_pack:string = Vector<LangPackLanguage>;\nfolders.editPeerFolders#6847d0ab folder_peers:Vector<InputFolderPeer> = Updates;\nstats.getBroadcastStats#ab42441a flags:# dark:flags.0?true channel:InputChannel = stats.BroadcastStats;\nstats.loadAsyncGraph#621d5fa0 flags:# token:string x:flags.0?long = StatsGraph;\nstats.getMegagroupStats#dcdf8607 flags:# dark:flags.0?true channel:InputChannel = stats.MegagroupStats;\nstats.getMessagePublicForwards#5630281b channel:InputChannel msg_id:int offset_rate:int offset_peer:InputPeer offset_id:int limit:int = messages.Messages;\nstats.getMessageStats#b6e0a3f5 flags:# dark:flags.0?true channel:InputChannel msg_id:int = stats.MessageStats;\nchatlists.exportChatlistInvite#8472478e chatlist:InputChatlist title:string peers:Vector<InputPeer> = chatlists.ExportedChatlistInvite;\nchatlists.deleteExportedInvite#719c5c5e chatlist:InputChatlist slug:string = Bool;\nchatlists.editExportedInvite#653db63d flags:# chatlist:InputChatlist slug:string title:flags.1?string peers:flags.2?Vector<InputPeer> = ExportedChatlistInvite;\nchatlists.getExportedInvites#ce03da83 chatlist:InputChatlist = chatlists.ExportedInvites;\nchatlists.checkChatlistInvite#41c10fff slug:string = chatlists.ChatlistInvite;\nchatlists.joinChatlistInvite#a6b1e39a slug:string peers:Vector<InputPeer> = Updates;\nchatlists.getLeaveChatlistSuggestions#fdbcd714 chatlist:InputChatlist = Vector<Peer>;\nchatlists.leaveChatlist#74fae13a chatlist:InputChatlist peers:Vector<InputPeer> = Updates;"},68963:(e,t,n)=>{var s=n(48764).lW;function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{inflate:i}=n(35802),{serializeBytes:o}=n(57404);class r{constructor(e){this.data=e,this.CONSTRUCTOR_ID=812830625,this.classType="constructor"}static async gzipIfSmaller(e,t){if(e&&t.length>512){const e=await new r(t).toBytes();if(e.length<t.length)return e}return t}static gzip(e){return s.from(e)}static ungzip(e){return s.from(i(e))}static read(e){if(e.readInt(!1)!==r.CONSTRUCTOR_ID)throw new Error("not equal");return r.gzip(e.tgReadBytes())}static async fromReader(e){return new r(await r.ungzip(e.tgReadBytes()))}async toBytes(){const e=s.alloc(4);return e.writeUInt32LE(r.CONSTRUCTOR_ID,0),s.concat([e,o(await r.gzip(this.data))])}}a(r,"CONSTRUCTOR_ID",812830625),a(r,"classType","constructor"),e.exports=r},63254:(e,t,n)=>{function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=n(40355);class i{constructor(e){this.CONSTRUCTOR_ID=1945237724,this.messages=e,this.classType="constructor"}static fromReader(e){const t=[],n=e.readInt();for(let s=0;s<n;s++){const n=e.readLong(),s=e.readInt(),i=e.readInt(),o=e.tellPosition(),r=e.tgReadObject();e.setPosition(o+i);const c=new a(n,s,r);t.push(c)}return new i(t)}}s(i,"CONSTRUCTOR_ID",1945237724),s(i,"classType","constructor"),s(i,"MAXIMUM_SIZE",1044448),s(i,"MAXIMUM_LENGTH",100),e.exports=i},52301:(e,t,n)=>{function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{RpcError:a}=n(57404).constructors,i=n(68963);class o{constructor(e,t,n){this.CONSTRUCTOR_ID=4082920705,this.reqMsgId=e,this.body=t,this.error=n,this.classType="constructor"}static async fromReader(e){const t=e.readLong(),n=e.readInt(!1);return n===a.CONSTRUCTOR_ID?new o(t,void 0,a.fromReader(e)):n===i.CONSTRUCTOR_ID?new o(t,(await i.fromReader(e)).data):(e.seek(-4),new o(t,e.read(),void 0))}}s(o,"CONSTRUCTOR_ID",4082920705),s(o,"classType","constructor"),e.exports=o},40355:e=>{function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n{constructor(e,t,n){this.msgId=e,this.seqNo=t,this.obj=n,this.classType="constructor"}}t(n,"SIZE_OVERHEAD",12),t(n,"classType","constructor"),e.exports=n},92058:(e,t,n)=>{const s=n(40355),a=n(52301),i=n(63254),o=n(68963),r={[a.CONSTRUCTOR_ID]:a,[o.CONSTRUCTOR_ID]:o,[i.CONSTRUCTOR_ID]:i};e.exports={TLMessage:s,RPCResult:a,MessageContainer:i,GZIPPacked:o,coreObjects:r}},51436:(e,t,n)=>{var s=n(48764).lW;const a=e=>e.replace(/(?:^|_)([a-z])/g,((e,t)=>t.toUpperCase())).replace(/_/g,""),i=e=>e.replace(/([-_][a-z])/g,(e=>e.toUpperCase().replace("-","").replace("_",""))),o=new Set([3162085175,2574415285,1072550713,3300522427,1450380236]),r=new Set([85337187,2211011308,2851430293,1013613780,1459478408,3504867164,3045658042,1715713620,3608339646,4110704415,812830625]);let c;function d(e){c||(c=function(){let e;const t=[];for(let n=0;n<256;n++){e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),s.isBuffer(e)||(e=s.from(e));let t=-1;for(let n=0;n<e.length;n++){const s=e[n];t=c[255&(t^s)]^t>>>8}return(-1^t)>>>0}const u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.flags.includes("g")||(e=new RegExp(e.source,"g"));const s=e.exec(t);return s&&(n.push(s.slice(1)),u(e,t,n)),n},l=(e,t)=>{const n=e.match(/([\w.]+)(?:#([0-9a-fA-F]+))?(?:\s{?\w+:[\w\d<>#.?!]+}?)*\s=\s([\w\d<>#.?]+);$/);if(!n)throw new Error(`Cannot parse TLObject ${e}`);const o=u(/({)?(\w+):([\w\d<>#.?!]+)}?/,e),r={name:n[1],constructorId:parseInt(n[2],16),argsConfig:{},subclassOfId:d(n[3]),result:n[3],isFunction:t,namespace:void 0};if(!r.constructorId){const e="";let t;t=Object.values(r.argsConfig).length?` ${Object.keys(r.argsConfig).map((e=>e.toString())).join(" ")}`:"";const n=`${r.name}${e}${t} = ${r.result}`.replace(/(:|\?)bytes /g,"$1string ").replace(/</g," ").replace(/>|{|}/g,"").replace(/ \w+:flags\d*\.\d+\?true/g,"");"inputMediaInvoice"===r.name&&r.name,r.constructorId=d(s.from(n,"utf8"))}for(const[e,t,n]of o)void 0===e&&(r.argsConfig[i(t)]=p(t,n));return r.name.includes(".")&&([r.namespace,r.name]=r.name.split(/\.(.+)/)),r.name=a(r.name),r};function p(e,t){e="self"===e?"is_self":e;const n={isVector:!1,isFlag:!1,skipConstructorId:!1,flagGroup:0,flagIndex:-1,flagIndicator:!0,type:void 0,useVectorId:void 0};if("#"!==t){n.flagIndicator=!1,n.type=t.replace(/^!+/,"");const e=n.type.match(/flags(\d*)\.(\d+)\?([\w<>.]+)/);e&&(n.isFlag=!0,n.flagGroup=Number(e[1]||1),n.flagIndex=Number(e[2]),[,,,n.type]=e);const s=n.type.match(/[Vv]ector<([\w\d.]+)>/);s&&(n.isVector=!0,n.useVectorId="V"===n.type.charAt(0),[,n.type]=s),/^[a-z]$/.test(n.type.split(".").pop().charAt(0))&&(n.skipConstructorId=!0)}return n}e.exports={findAll:u,parseTl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return function*(){(t||[]).reduce(((e,t)=>({...e,[t.name]:t})),{});const s=[],a={},i={},o=e;let c=!1;for(let e of o.split("\n")){const t=e.indexOf("//");if(-1!==t&&(e=e.slice(0,t)),e=e.trim(),!e)continue;const o=e.match(/---(\w+)---/);if(o){const[,e]=o;c="functions"===e}else try{const t=l(e,c);if(n.has(t.constructorId))continue;s.push(t),t.isFunction||(i[t.result]||(i[t.result]=[]),a[t.name]=t,i[t.result].push(t))}catch(e){if(!e.toString().includes("vector#1cb5c415"))throw e}}for(const e of s)if(r.has(e.constructorId))for(const t in e.argsConfig)"string"===e.argsConfig[t].type&&(e.argsConfig[t].type="bytes");for(const e of s)yield e}()},buildArgConfig:p,fromLine:l,CORE_TYPES:o,serializeDate:function(e){if(!e)return s.alloc(4).fill(0);if(e instanceof Date&&(e=Math.floor((Date.now()-e.getTime())/1e3)),"number"==typeof e){const t=s.alloc(4);return t.writeInt32LE(e,0),t}throw Error(`Cannot interpret "${e}" as a date`)},serializeBytes:function(e){if(!(e instanceof s)){if("string"!=typeof e)throw Error(`Bytes or str expected, not ${e.constructor.name}`);e=s.from(e)}const t=[];let n;return e.length<254?(n=(e.length+1)%4,0!==n&&(n=4-n),t.push(s.from([e.length])),t.push(e)):(n=e.length%4,0!==n&&(n=4-n),t.push(s.from([254,e.length%256,(e.length>>8)%256,(e.length>>16)%256])),t.push(e)),t.push(s.alloc(n).fill(0)),s.concat(t)},snakeToCamelCase:a,variableSnakeToCamelCase:i}},57404:(e,t,n)=>{const s=n(77150),{serializeBytes:a,serializeDate:i}=n(51436);e.exports={constructors:s,requests:s,serializeBytes:a,serializeDate:i}},48106:e=>{e.exports="resPQ#05162463 nonce:int128 server_nonce:int128 pq:string server_public_key_fingerprints:Vector<long> = ResPQ;\np_q_inner_data#83c95aec pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 = P_Q_inner_data;\np_q_inner_data_dc#a9f55f95 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int = P_Q_inner_data;\np_q_inner_data_temp#3c6a84d4 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 expires_in:int = P_Q_inner_data;\np_q_inner_data_temp_dc#56fddf88 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int expires_in:int = P_Q_inner_data;\nserver_DH_params_fail#79cb045d nonce:int128 server_nonce:int128 new_nonce_hash:int128 = Server_DH_Params;\nserver_DH_params_ok#d0e8075c nonce:int128 server_nonce:int128 encrypted_answer:string = Server_DH_Params;\nserver_DH_inner_data#b5890dba nonce:int128 server_nonce:int128 g:int dh_prime:string g_a:string server_time:int = Server_DH_inner_data;\nclient_DH_inner_data#6643b654 nonce:int128 server_nonce:int128 retry_id:long g_b:string = Client_DH_Inner_Data;\ndh_gen_ok#3bcbf734 nonce:int128 server_nonce:int128 new_nonce_hash1:int128 = Set_client_DH_params_answer;\ndh_gen_retry#46dc1fb9 nonce:int128 server_nonce:int128 new_nonce_hash2:int128 = Set_client_DH_params_answer;\ndh_gen_fail#a69dae02 nonce:int128 server_nonce:int128 new_nonce_hash3:int128 = Set_client_DH_params_answer;\ndestroy_auth_key_ok#f660e1d4 = DestroyAuthKeyRes;\ndestroy_auth_key_none#0a9f2259 = DestroyAuthKeyRes;\ndestroy_auth_key_fail#ea109b13 = DestroyAuthKeyRes;\n---functions---\nreq_pq#60469778 nonce:int128 = ResPQ;\nreq_pq_multi#be7e8ef1 nonce:int128 = ResPQ;\nreq_pq_multi_new#51b410fd nonce:int128 = ResPQ;\nreq_DH_params#d712e4be nonce:int128 server_nonce:int128 p:string q:string public_key_fingerprint:long encrypted_data:string = Server_DH_Params;\nset_client_DH_params#f5045f1f nonce:int128 server_nonce:int128 encrypted_data:string = Set_client_DH_params_answer;\ndestroy_auth_key#d1435160 = DestroyAuthKeyRes;\n---types---\nmsgs_ack#62d6b459 msg_ids:Vector<long> = MsgsAck;\nbad_msg_notification#a7eff811 bad_msg_id:long bad_msg_seqno:int error_code:int = BadMsgNotification;\nbad_server_salt#edab447b bad_msg_id:long bad_msg_seqno:int error_code:int new_server_salt:long = BadMsgNotification;\nmsgs_state_req#da69fb52 msg_ids:Vector<long> = MsgsStateReq;\nmsgs_state_info#04deb57d req_msg_id:long info:string = MsgsStateInfo;\nmsgs_all_info#8cc0d131 msg_ids:Vector<long> info:string = MsgsAllInfo;\nmsg_detailed_info#276d3ec6 msg_id:long answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_new_detailed_info#809db6df answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_resend_req#7d861a08 msg_ids:Vector<long> = MsgResendReq;\nrpc_error#2144ca19 error_code:int error_message:string = RpcError;\nrpc_answer_unknown#5e2ad36e = RpcDropAnswer;\nrpc_answer_dropped_running#cd78e586 = RpcDropAnswer;\nrpc_answer_dropped#a43ad8b7 msg_id:long seq_no:int bytes:int = RpcDropAnswer;\nfuture_salt#0949d9dc valid_since:int valid_until:int salt:long = FutureSalt;\nfuture_salts#ae500895 req_msg_id:long now:int salts:vector<future_salt> = FutureSalts;\npong#347773c5 msg_id:long ping_id:long = Pong;\ndestroy_session_ok#e22045fc session_id:long = DestroySessionRes;\ndestroy_session_none#62d350c9 session_id:long = DestroySessionRes;\nnew_session_created#9ec20908 first_msg_id:long unique_id:long server_salt:long = NewSession;\nhttp_wait#9299359f max_delay:int wait_after:int max_wait:int = HttpWait;\nipPort#d433ad73 ipv4:int port:int = IpPort;\nipPortSecret#37982646 ipv4:int port:int secret:bytes = IpPort;\naccessPointRule#4679b65f phone_prefix_rules:string dc_id:int ips:vector<IpPort> = AccessPointRule;\nhelp.configSimple#5a592a6c date:int expires:int rules:vector<AccessPointRule> = help.ConfigSimple;\ntlsClientHello blocks:vector<TlsBlock> = TlsClientHello;\ntlsBlockString data:string = TlsBlock;\ntlsBlockRandom length:int = TlsBlock;\ntlsBlockZero length:int = TlsBlock;\ntlsBlockDomain = TlsBlock;\ntlsBlockGrease seed:int = TlsBlock;\ntlsBlockScope entries:Vector<TlsBlock> = TlsBlock;\n---functions---\nping#7abe77ec ping_id:long = Pong;\nping_delay_disconnect#f3427b8c ping_id:long disconnect_delay:int = Pong;"},16039:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var s=n(46586);function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{constructor(e){this.maxWorkers=e,a(this,"deferreds",[]),a(this,"activeWorkers",0)}requestWorker(){if(this.activeWorkers===this.maxWorkers){const e=new s.Z;return this.deferreds.push(e),e.promise}return this.activeWorkers++,Promise.resolve()}releaseWorker(){this.deferreds.length&&this.activeWorkers===this.maxWorkers?this.deferreds.shift().resolve():this.activeWorkers--}}},24736:(e,t,n)=>{var s;e=n.nmd(e);var a=function(e){"use strict";var t=1e7,n=9007199254740992,s=p(n),i="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function r(e,t,n,s){return void 0===e?r[0]:void 0===t||10==+t&&!n?J(e):j(e,t,n,s)}function c(e,t){this.value=e,this.sign=t,this.isSmall=!1}function d(e){this.value=e,this.sign=e<0,this.isSmall=!0}function u(e){this.value=e}function l(e){return-n<e&&e<n}function p(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){g(e);var n=e.length;if(n<4&&R(e,s)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function g(e){for(var t=e.length;0===e[--t];);e.length=t+1}function h(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function m(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,n){var s,a,i=e.length,o=n.length,r=new Array(i),c=0,d=t;for(a=0;a<o;a++)c=(s=e[a]+n[a]+c)>=d?1:0,r[a]=s-c*d;for(;a<i;)c=(s=e[a]+c)===d?1:0,r[a++]=s-c*d;return c>0&&r.push(c),r}function _(e,t){return e.length>=t.length?y(e,t):y(t,e)}function b(e,n){var s,a,i=e.length,o=new Array(i),r=t;for(a=0;a<i;a++)s=e[a]-r+n,n=Math.floor(s/r),o[a]=s-n*r,n+=1;for(;n>0;)o[a++]=n%r,n=Math.floor(n/r);return o}function w(e,n){var s,a,i=e.length,o=n.length,r=new Array(i),c=0,d=t;for(s=0;s<o;s++)(a=e[s]-c-n[s])<0?(a+=d,c=1):c=0,r[s]=a;for(s=o;s<i;s++){if(!((a=e[s]-c)<0)){r[s++]=a;break}a+=d,r[s]=a}for(;s<i;s++)r[s]=e[s];return g(r),r}function v(e,n,s){var a,i,o=e.length,r=new Array(o),u=-n,l=t;for(a=0;a<o;a++)i=e[a]+u,u=Math.floor(i/l),i%=l,r[a]=i<0?i+l:i;return"number"==typeof(r=f(r))?(s&&(r=-r),new d(r)):new c(r,s)}function A(e,n){var s,a,i,o,r=e.length,c=n.length,d=h(r+c),u=t;for(i=0;i<r;++i){o=e[i];for(var l=0;l<c;++l)s=o*n[l]+d[i+l],a=Math.floor(s/u),d[i+l]=s-a*u,d[i+l+1]+=a}return g(d),d}function S(e,n){var s,a,i=e.length,o=new Array(i),r=t,c=0;for(a=0;a<i;a++)s=e[a]*n+c,c=Math.floor(s/r),o[a]=s-c*r;for(;c>0;)o[a++]=c%r,c=Math.floor(c/r);return o}function I(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function P(e,t){var n=Math.max(e.length,t.length);if(n<=30)return A(e,t);n=Math.ceil(n/2);var s=e.slice(n),a=e.slice(0,n),i=t.slice(n),o=t.slice(0,n),r=P(a,o),c=P(s,i),d=P(_(a,s),_(o,i)),u=_(_(r,I(w(w(d,r),c),n)),I(c,2*n));return g(u),u}function C(e,n,s){return new c(e<t?S(n,e):A(n,p(e)),s)}function M(e){var n,s,a,i,o=e.length,r=h(o+o),c=t;for(a=0;a<o;a++){s=0-(i=e[a])*i;for(var d=a;d<o;d++)n=i*e[d]*2+r[a+d]+s,s=Math.floor(n/c),r[a+d]=n-s*c;r[a+o]=s}return g(r),r}function k(e,t){var n,s,a,i,o=e.length,r=h(o);for(a=0,n=o-1;n>=0;--n)a=(i=1e7*a+e[n])-(s=m(i/t))*t,r[n]=0|s;return[r,0|a]}function E(e,n){var s,a=J(n);if(o)return[new u(e.value/a.value),new u(e.value%a.value)];var i,l=e.value,y=a.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return a.isSmall?[new d(m(l/y)),new d(l%y)]:[r[0],e];if(a.isSmall){if(1===y)return[e,r[0]];if(-1==y)return[e.negate(),r[0]];var _=Math.abs(y);if(_<t){i=f((s=k(l,_))[0]);var b=s[1];return e.sign&&(b=-b),"number"==typeof i?(e.sign!==a.sign&&(i=-i),[new d(i),new d(b)]):[new c(i,e.sign!==a.sign),new d(b)]}y=p(_)}var v=R(l,y);if(-1===v)return[r[0],e];if(0===v)return[r[e.sign===a.sign?1:-1],r[0]];s=l.length+y.length<=200?function(e,n){var s,a,i,o,r,c,d,u=e.length,l=n.length,p=t,g=h(n.length),m=n[l-1],y=Math.ceil(p/(2*m)),_=S(e,y),b=S(n,y);for(_.length<=u&&_.push(0),b.push(0),m=b[l-1],a=u-l;a>=0;a--){for(s=p-1,_[a+l]!==m&&(s=Math.floor((_[a+l]*p+_[a+l-1])/m)),i=0,o=0,c=b.length,r=0;r<c;r++)i+=s*b[r],d=Math.floor(i/p),o+=_[a+r]-(i-d*p),i=d,o<0?(_[a+r]=o+p,o=-1):(_[a+r]=o,o=0);for(;0!==o;){for(s-=1,i=0,r=0;r<c;r++)(i+=_[a+r]-p+b[r])<0?(_[a+r]=i+p,i=0):(_[a+r]=i,i=1);o+=i}g[a]=s}return _=k(_,y)[0],[f(g),f(_)]}(l,y):function(e,n){for(var s,a,i,o,r,c=e.length,d=n.length,u=[],l=[],p=t;c;)if(l.unshift(e[--c]),g(l),R(l,n)<0)u.push(0);else{i=l[(a=l.length)-1]*p+l[a-2],o=n[d-1]*p+n[d-2],a>d&&(i=(i+1)*p),s=Math.ceil(i/o);do{if(R(r=S(n,s),l)<=0)break;s--}while(s);u.push(s),l=w(l,r)}return u.reverse(),[f(u),f(l)]}(l,y),i=s[0];var A=e.sign!==a.sign,I=s[1],P=e.sign;return"number"==typeof i?(A&&(i=-i),i=new d(i)):i=new c(i,A),"number"==typeof I?(P&&(I=-I),I=new d(I)):I=new c(I,P),[i,I]}function R(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function U(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function T(e,t){for(var n,s,i,o=e.prev(),r=o,c=0;r.isEven();)r=r.divide(2),c++;e:for(s=0;s<t.length;s++)if(!e.lesser(t[s])&&!(i=a(t[s]).modPow(r,e)).isUnit()&&!i.equals(o)){for(n=c-1;0!=n;n--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(o))continue e}return!1}return!0}c.prototype=Object.create(r.prototype),d.prototype=Object.create(r.prototype),u.prototype=Object.create(r.prototype),c.prototype.add=function(e){var t=J(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,s=t.value;return t.isSmall?new c(b(n,Math.abs(s)),this.sign):new c(_(n,s),this.sign)},c.prototype.plus=c.prototype.add,d.prototype.add=function(e){var t=J(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var s=t.value;if(t.isSmall){if(l(n+s))return new d(n+s);s=p(Math.abs(s))}return new c(b(s,Math.abs(n)),n<0)},d.prototype.plus=d.prototype.add,u.prototype.add=function(e){return new u(this.value+J(e).value)},u.prototype.plus=u.prototype.add,c.prototype.subtract=function(e){var t=J(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,s=t.value;return t.isSmall?v(n,Math.abs(s),this.sign):function(e,t,n){var s;return R(e,t)>=0?s=w(e,t):(s=w(t,e),n=!n),"number"==typeof(s=f(s))?(n&&(s=-s),new d(s)):new c(s,n)}(n,s,this.sign)},c.prototype.minus=c.prototype.subtract,d.prototype.subtract=function(e){var t=J(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var s=t.value;return t.isSmall?new d(n-s):v(s,Math.abs(n),n>=0)},d.prototype.minus=d.prototype.subtract,u.prototype.subtract=function(e){return new u(this.value-J(e).value)},u.prototype.minus=u.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},d.prototype.negate=function(){var e=this.sign,t=new d(-this.value);return t.sign=!e,t},u.prototype.negate=function(){return new u(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},d.prototype.abs=function(){return new d(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},c.prototype.multiply=function(e){var n,s,a,i=J(e),o=this.value,d=i.value,u=this.sign!==i.sign;if(i.isSmall){if(0===d)return r[0];if(1===d)return this;if(-1===d)return this.negate();if((n=Math.abs(d))<t)return new c(S(o,n),u);d=p(n)}return new c(-.012*(s=o.length)-.012*(a=d.length)+15e-6*s*a>0?P(o,d):A(o,d),u)},c.prototype.times=c.prototype.multiply,d.prototype._multiplyBySmall=function(e){return l(e.value*this.value)?new d(e.value*this.value):C(Math.abs(e.value),p(Math.abs(this.value)),this.sign!==e.sign)},c.prototype._multiplyBySmall=function(e){return 0===e.value?r[0]:1===e.value?this:-1===e.value?this.negate():C(Math.abs(e.value),this.value,this.sign!==e.sign)},d.prototype.multiply=function(e){return J(e)._multiplyBySmall(this)},d.prototype.times=d.prototype.multiply,u.prototype.multiply=function(e){return new u(this.value*J(e).value)},u.prototype.times=u.prototype.multiply,c.prototype.square=function(){return new c(M(this.value),!1)},d.prototype.square=function(){var e=this.value*this.value;return l(e)?new d(e):new c(M(p(Math.abs(this.value))),!1)},u.prototype.square=function(e){return new u(this.value*this.value)},c.prototype.divmod=function(e){var t=E(this,e);return{quotient:t[0],remainder:t[1]}},u.prototype.divmod=d.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(e){return E(this,e)[0]},u.prototype.over=u.prototype.divide=function(e){return new u(this.value/J(e).value)},d.prototype.over=d.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(e){return E(this,e)[1]},u.prototype.mod=u.prototype.remainder=function(e){return new u(this.value%J(e).value)},d.prototype.remainder=d.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(e){var t,n,s,a=J(e),i=this.value,o=a.value;if(0===o)return r[1];if(0===i)return r[0];if(1===i)return r[1];if(-1===i)return a.isEven()?r[1]:r[-1];if(a.sign)return r[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&l(t=Math.pow(i,o)))return new d(m(t));for(n=this,s=r[1];!0&o&&(s=s.times(n),--o),0!==o;)o/=2,n=n.square();return s},d.prototype.pow=c.prototype.pow,u.prototype.pow=function(e){var t=J(e),n=this.value,s=t.value,a=BigInt(0),i=BigInt(1),o=BigInt(2);if(s===a)return r[1];if(n===a)return r[0];if(n===i)return r[1];if(n===BigInt(-1))return t.isEven()?r[1]:r[-1];if(t.isNegative())return new u(a);for(var c=this,d=r[1];(s&i)===i&&(d=d.times(c),--s),s!==a;)s/=o,c=c.square();return d},c.prototype.modPow=function(e,t){if(e=J(e),(t=J(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=r[1],s=this.mod(t);for(e.isNegative()&&(e=e.multiply(r[-1]),s=s.modInv(t));e.isPositive();){if(s.isZero())return r[0];e.isOdd()&&(n=n.multiply(s).mod(t)),e=e.divide(2),s=s.square().mod(t)}return n},u.prototype.modPow=d.prototype.modPow=c.prototype.modPow,c.prototype.compareAbs=function(e){var t=J(e),n=this.value,s=t.value;return t.isSmall?1:R(n,s)},d.prototype.compareAbs=function(e){var t=J(e),n=Math.abs(this.value),s=t.value;return t.isSmall?n===(s=Math.abs(s))?0:n>s?1:-1:-1},u.prototype.compareAbs=function(e){var t=this.value,n=J(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=J(e),n=this.value,s=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:R(n,s)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,d.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=J(e),n=this.value,s=t.value;return t.isSmall?n==s?0:n>s?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},d.prototype.compareTo=d.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=J(e).value;return t===n?0:t>n?1:-1},u.prototype.compareTo=u.prototype.compare,c.prototype.equals=function(e){return 0===this.compare(e)},u.prototype.eq=u.prototype.equals=d.prototype.eq=d.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(e){return 0!==this.compare(e)},u.prototype.neq=u.prototype.notEquals=d.prototype.neq=d.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(e){return this.compare(e)>0},u.prototype.gt=u.prototype.greater=d.prototype.gt=d.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(e){return this.compare(e)<0},u.prototype.lt=u.prototype.lesser=d.prototype.lt=d.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},u.prototype.geq=u.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.leq=u.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return 0==(1&this.value[0])},d.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return 1==(1&this.value[0])},d.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},d.prototype.isPositive=function(){return this.value>0},u.prototype.isPositive=d.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},d.prototype.isNegative=function(){return this.value<0},u.prototype.isNegative=d.prototype.isNegative,c.prototype.isUnit=function(){return!1},d.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},d.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(e){var t=J(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},u.prototype.isDivisibleBy=d.prototype.isDivisibleBy=c.prototype.isDivisibleBy,c.prototype.isPrime=function(t){var n=U(this);if(n!==e)return n;var s=this.abs(),i=s.bitLength();if(i<=64)return T(s,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*i.toJSNumber(),r=Math.ceil(!0===t?2*Math.pow(o,2):o),c=[],d=0;d<r;d++)c.push(a(d+2));return T(s,c)},u.prototype.isPrime=d.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(t,n){var s=U(this);if(s!==e)return s;for(var i=this.abs(),o=t===e?5:t,r=[],c=0;c<o;c++)r.push(a.randBetween(2,i.minus(2),n));return T(i,r)},u.prototype.isProbablePrime=d.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(e){for(var t,n,s,i=a.zero,o=a.one,r=J(e),c=this.abs();!c.isZero();)t=r.divide(c),n=i,s=r,i=o,r=c,o=n.subtract(t.multiply(o)),c=s.subtract(t.multiply(c));if(!r.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},u.prototype.modInv=d.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var e=this.value;return this.sign?v(e,1,this.sign):new c(b(e,1),this.sign)},d.prototype.next=function(){var e=this.value;return e+1<n?new d(e+1):new c(s,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},c.prototype.prev=function(){var e=this.value;return this.sign?new c(b(e,1),!0):v(e,1,this.sign)},d.prototype.prev=function(){var e=this.value;return e-1>-n?new d(e-1):new c(s,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var B=[1];2*B[B.length-1]<=t;)B.push(2*B[B.length-1]);var D=B.length,x=B[D-1];function V(e){return Math.abs(e)<=t}function N(e,t,n){t=J(t);for(var s=e.isNegative(),i=t.isNegative(),o=s?e.not():e,r=i?t.not():t,c=0,d=0,u=null,l=null,p=[];!o.isZero()||!r.isZero();)c=(u=E(o,x))[1].toJSNumber(),s&&(c=x-1-c),d=(l=E(r,x))[1].toJSNumber(),i&&(d=x-1-d),o=u[0],r=l[0],p.push(n(c,d));for(var f=0!==n(s?1:0,i?1:0)?a(-1):a(0),g=p.length-1;g>=0;g-=1)f=f.multiply(x).add(a(p[g]));return f}c.prototype.shiftLeft=function(e){var t=J(e).toJSNumber();if(!V(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=D;)n=n.multiply(x),t-=D-1;return n.multiply(B[t])},u.prototype.shiftLeft=function(e){return e=J(e),new u(this.value<<e.value)},d.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(e){var t,n=J(e).toJSNumber();if(!V(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var s=this;n>=D;){if(s.isZero()||s.isNegative()&&s.isUnit())return s;s=(t=E(s,x))[1].isNegative()?t[0].prev():t[0],n-=D-1}return(t=E(s,B[n]))[1].isNegative()?t[0].prev():t[0]},u.prototype.shiftRight=function(e){return e=J(e),new u(this.value>>e.value)},d.prototype.shiftRight=c.prototype.shiftRight,c.prototype.not=function(){return this.negate().prev()},u.prototype.not=d.prototype.not=c.prototype.not,c.prototype.and=function(e){return N(this,e,(function(e,t){return e&t}))},u.prototype.and=d.prototype.and=c.prototype.and,c.prototype.or=function(e){return N(this,e,(function(e,t){return e|t}))},u.prototype.or=d.prototype.or=c.prototype.or,c.prototype.xor=function(e){return N(this,e,(function(e,t){return e^t}))},u.prototype.xor=d.prototype.xor=c.prototype.xor;var F=1<<30;function q(e){var n=e.value,s="number"==typeof n?n|F:"bigint"==typeof n?n|BigInt(F):n[0]+n[1]*t|1073758208;return s&-s}function O(e,t){if(t.compareTo(e)<=0){var n=O(e,t.square(t)),s=n.p,i=n.e,o=s.multiply(t);return o.compareTo(e)<=0?{p:o,e:2*i+1}:{p:s,e:2*i}}return{p:a(1),e:0}}function L(e,t){return e=J(e),t=J(t),e.greater(t)?e:t}function H(e,t){return e=J(e),t=J(t),e.lesser(t)?e:t}function G(e,t){if(e=J(e).abs(),t=J(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,s,a=r[1];e.isEven()&&t.isEven();)n=H(q(e),q(t)),e=e.divide(n),t=t.divide(n),a=a.multiply(n);for(;e.isEven();)e=e.divide(q(e));do{for(;t.isEven();)t=t.divide(q(t));e.greater(t)&&(s=t,t=e,e=s),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}c.prototype.bitLength=function(){var e=this;return e.compareTo(a(0))<0&&(e=e.negate().subtract(a(1))),0===e.compareTo(a(0))?a(0):a(O(e,a(2)).e).add(a(1))},u.prototype.bitLength=d.prototype.bitLength=c.prototype.bitLength;var j=function(e,t,n,s){n=n||i,e=String(e),s||(e=e.toLowerCase(),n=n.toLowerCase());var a,o=e.length,r=Math.abs(t),c={};for(a=0;a<n.length;a++)c[n[a]]=a;for(a=0;a<o;a++)if("-"!==(l=e[a])&&l in c&&c[l]>=r){if("1"===l&&1===r)continue;throw new Error(l+" is not a valid digit in base "+t+".")}t=J(t);var d=[],u="-"===e[0];for(a=u?1:0;a<e.length;a++){var l;if((l=e[a])in c)d.push(J(c[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var p=a;do{a++}while(">"!==e[a]&&a<e.length);d.push(J(e.slice(p+1,a)))}}return K(d,t,u)};function K(e,t,n){var s,a=r[0],i=r[1];for(s=e.length-1;s>=0;s--)a=a.add(e[s].times(i)),i=i.times(t);return n?a.negate():a}function W(e,t){if((t=a(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var s=!1;if(e.isNegative()&&t.isPositive()&&(s=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:s};for(var i,o=[],r=e;r.isNegative()||r.compareAbs(t)>=0;){i=r.divmod(t),r=i.quotient;var c=i.remainder;c.isNegative()&&(c=t.minus(c).abs(),r=r.next()),o.push(c.toJSNumber())}return o.push(r.toJSNumber()),{value:o.reverse(),isNegative:s}}function z(e,t,n){var s=W(e,t);return(s.isNegative?"-":"")+s.value.map((function(e){return function(e,t){return e<(t=t||i).length?t[e]:"<"+e+">"}(e,n)})).join("")}function $(e){if(l(+e)){var t=+e;if(t===m(t))return o?new u(BigInt(t)):new d(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var s=e.split(/e/i);if(s.length>2)throw new Error("Invalid integer: "+s.join("e"));if(2===s.length){var a=s[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==m(a)||!l(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var i=s[0],r=i.indexOf(".");if(r>=0&&(a-=i.length-r-1,i=i.slice(0,r)+i.slice(r+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=i+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(o)return new u(BigInt(n?"-"+e:e));for(var p=[],f=e.length,h=f-7;f>0;)p.push(+e.slice(h,f)),(h-=7)<0&&(h=0),f-=7;return g(p),new c(p,n)}function J(e){return"number"==typeof e?function(e){if(o)return new u(BigInt(e));if(l(e)){if(e!==m(e))throw new Error(e+" is not an integer.");return new d(e)}return $(e.toString())}(e):"string"==typeof e?$(e):"bigint"==typeof e?new u(e):e}c.prototype.toArray=function(e){return W(this,e)},d.prototype.toArray=function(e){return W(this,e)},u.prototype.toArray=function(e){return W(this,e)},c.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return z(this,t,n);for(var s,a=this.value,i=a.length,o=String(a[--i]);--i>=0;)s=String(a[i]),o+="0000000".slice(s.length)+s;return(this.sign?"-":"")+o},d.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?z(this,t,n):String(this.value)},u.prototype.toString=d.prototype.toString,u.prototype.toJSON=c.prototype.toJSON=d.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,d.prototype.valueOf=function(){return this.value},d.prototype.toJSNumber=d.prototype.valueOf,u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var Q=0;Q<1e3;Q++)r[Q]=J(Q),Q>0&&(r[-Q]=J(-Q));return r.one=r[1],r.zero=r[0],r.minusOne=r[-1],r.max=L,r.min=H,r.gcd=G,r.lcm=function(e,t){return e=J(e).abs(),t=J(t).abs(),e.divide(G(e,t)).multiply(t)},r.isInstance=function(e){return e instanceof c||e instanceof d||e instanceof u},r.randBetween=function(e,n,s){e=J(e),n=J(n);var a=s||Math.random,i=H(e,n),o=L(e,n).subtract(i).add(1);if(o.isSmall)return i.add(Math.floor(a()*o));for(var c=W(o,t).value,d=[],u=!0,l=0;l<c.length;l++){var p=u?c[l]:t,f=m(a()*p);d.push(f),f<p&&(u=!1)}return i.add(r.fromArray(d,t,!1))},r.fromArray=function(e,t,n){return K(e.map(J),J(t||10),n)},r}();e.hasOwnProperty("exports")&&(e.exports=a),void 0===(s=function(){return a}.call(t,n,t,e))||(e.exports=s)},67435:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},70655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>A,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>M,__classPrivateFieldIn:()=>E,__classPrivateFieldSet:()=>k,__createBinding:()=>p,__decorate:()=>r,__exportStar:()=>f,__extends:()=>a,__generator:()=>l,__importDefault:()=>C,__importStar:()=>P,__makeTemplateObject:()=>S,__metadata:()=>d,__param:()=>c,__read:()=>h,__rest:()=>o,__spread:()=>m,__spreadArray:()=>_,__spreadArrays:()=>y,__values:()=>g});var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n}function r(e,t,n,s){var a,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,s){t(n,s,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,s){return new(n||(n=Promise))((function(a,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function r(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}c((s=s.apply(e,t||[])).next())}))}function l(e,t){var n,s,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,r[0]&&(o=0)),o;)try{if(n=1,s&&(a=2&r[0]?s.return:r[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,r[1])).done)return a;switch(s=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,s=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],s=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}var p=Object.create?function(e,t,n,s){void 0===s&&(s=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,a)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||p(t,e,n)}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var s,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,r=i.length;o<r;o++,a++)s[a]=i[o];return s}function _(e,t,n){if(n||2===arguments.length)for(var s,a=0,i=t.length;a<i;a++)!s&&a in t||(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,a=n.apply(e,t||[]),i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(e){a[e]&&(s[e]=function(t){return new Promise((function(n,s){i.push([e,t,n,s])>1||r(e,t)}))})}function r(e,t){try{(n=a[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,d):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){r("next",e)}function d(e){r("throw",e)}function u(e,t){e(t),i.shift(),i.length&&r(i[0][0],i[0][1])}}function v(e){var t,n;return t={},s("next"),s("throw",(function(e){throw e})),s("return"),t[Symbol.iterator]=function(){return this},t;function s(s,a){t[s]=e[s]?function(t){return(n=!n)?{value:b(e[s](t)),done:"return"===s}:a?a(t):t}:a}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(n){t[n]=e[n]&&function(t){return new Promise((function(s,a){!function(e,t,n,s){Promise.resolve(s).then((function(t){e({value:t,done:n})}),t)}(s,a,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return I(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}function k(e,t,n,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(e,n):a?a.value=n:t.set(e,n),n}function E(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},24678:(e,t,n)=>{"use strict";function s(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function a(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const a=s(n);return(e,n)=>a.then((s=>n(s.transaction(t,e).objectStore(t))))}let i;function o(){return i||(i=a("keyval-store","keyval")),i}function r(e,t=o()){return t("readonly",(t=>s(t.get(e))))}function c(e,t,n=o()){return n("readwrite",(n=>(n.put(t,e),s(n.transaction))))}function d(e,t=o()){return t("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),s(t.transaction))))}function u(e,t=o()){return t("readonly",(t=>Promise.all(e.map((e=>s(t.get(e)))))))}function l(e,t,n=o()){return n("readwrite",(n=>new Promise(((a,i)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),a(s(n.transaction))}catch(e){i(e)}}}))))}function p(e,t=o()){return t("readwrite",(t=>(t.delete(e),s(t.transaction))))}function f(e,t=o()){return t("readwrite",(t=>(e.forEach((e=>t.delete(e))),s(t.transaction))))}function g(e=o()){return e("readwrite",(e=>(e.clear(),s(e.transaction))))}function h(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},s(e.transaction)}function m(e=o()){return e("readonly",(e=>{if(e.getAllKeys)return s(e.getAllKeys());const t=[];return h(e,(e=>t.push(e.key))).then((()=>t))}))}function y(e=o()){return e("readonly",(e=>{if(e.getAll)return s(e.getAll());const t=[];return h(e,(e=>t.push(e.value))).then((()=>t))}))}function _(e=o()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([s(t.getAllKeys()),s(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>h(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}n.r(t),n.d(t,{clear:()=>g,createStore:()=>a,del:()=>p,delMany:()=>f,entries:()=>_,get:()=>r,getMany:()=>u,keys:()=>m,promisifyRequest:()=>s,set:()=>c,setMany:()=>d,update:()=>l,values:()=>y})}}]);
//# sourceMappingURL=3446.de79393e537c0442b418.js.map